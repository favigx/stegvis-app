var NP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ple=NP((Ple,Ph)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n0={exports:{}},Yc={};var rT;function DP(){if(rT)return Yc;rT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var a=null;if(o!==void 0&&(a=""+o),s.key!==void 0&&(a=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:o}}return Yc.Fragment=e,Yc.jsx=n,Yc.jsxs=n,Yc}var sT;function RP(){return sT||(sT=1,n0.exports=DP()),n0.exports}var v=RP(),r0={exports:{}},Ce={};var iT;function jP(){if(iT)return Ce;iT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function C(L,K,ie){this.props=L,this.context=K,this.refs=w,this.updater=ie||x}C.prototype.isReactComponent={},C.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=C.prototype;function _(L,K,ie){this.props=L,this.context=K,this.refs=w,this.updater=ie||x}var A=_.prototype=new k;A.constructor=_,S(A,C.prototype),A.isPureReactComponent=!0;var N=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function P(L,K,ie,re,de,Pe){return ie=Pe.ref,{$$typeof:t,type:L,key:K,ref:ie!==void 0?ie:null,props:Pe}}function D(L,K){return P(L.type,K,void 0,void 0,void 0,L.props)}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function X(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return K[ie]})}var Z=/\/+/g;function ce(L,K){return typeof L=="object"&&L!==null&&L.key!=null?X(""+L.key):K.toString(36)}function Ie(){}function Ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Ie,Ie):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ee(L,K,ie,re,de){var Pe=typeof L;(Pe==="undefined"||Pe==="boolean")&&(L=null);var Se=!1;if(L===null)Se=!0;else switch(Pe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(L.$$typeof){case t:case e:Se=!0;break;case p:return Se=L._init,Ee(Se(L._payload),K,ie,re,de)}}if(Se)return de=de(L),Se=re===""?"."+ce(L,0):re,N(de)?(ie="",Se!=null&&(ie=Se.replace(Z,"$&/")+"/"),Ee(de,K,ie,"",function(si){return si})):de!=null&&(H(de)&&(de=D(de,ie+(de.key==null||L&&L.key===de.key?"":(""+de.key).replace(Z,"$&/")+"/")+Se)),K.push(de)),1;Se=0;var Un=re===""?".":re+":";if(N(L))for(var at=0;at<L.length;at++)re=L[at],Pe=Un+ce(re,at),Se+=Ee(re,K,ie,Pe,de);else if(at=y(L),typeof at=="function")for(L=at.call(L),at=0;!(re=L.next()).done;)re=re.value,Pe=Un+ce(re,at++),Se+=Ee(re,K,ie,Pe,de);else if(Pe==="object"){if(typeof L.then=="function")return Ee(Ae(L),K,ie,re,de);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Se}function q(L,K,ie){if(L==null)return L;var re=[],de=0;return Ee(L,re,"","",function(Pe){return K.call(ie,Pe,de++)}),re}function Y(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ne(){}return Ce.Children={map:q,forEach:function(L,K,ie){q(L,function(){K.apply(this,arguments)},ie)},count:function(L){var K=0;return q(L,function(){K++}),K},toArray:function(L){return q(L,function(K){return K})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=C,Ce.Fragment=n,Ce.Profiler=s,Ce.PureComponent=_,Ce.StrictMode=r,Ce.Suspense=d,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cloneElement=function(L,K,ie){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var re=S({},L.props),de=L.key,Pe=void 0;if(K!=null)for(Se in K.ref!==void 0&&(Pe=void 0),K.key!==void 0&&(de=""+K.key),K)!j.call(K,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&K.ref===void 0||(re[Se]=K[Se]);var Se=arguments.length-2;if(Se===1)re.children=ie;else if(1<Se){for(var Un=Array(Se),at=0;at<Se;at++)Un[at]=arguments[at+2];re.children=Un}return P(L.type,de,void 0,void 0,Pe,re)},Ce.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ce.createElement=function(L,K,ie){var re,de={},Pe=null;if(K!=null)for(re in K.key!==void 0&&(Pe=""+K.key),K)j.call(K,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=K[re]);var Se=arguments.length-2;if(Se===1)de.children=ie;else if(1<Se){for(var Un=Array(Se),at=0;at<Se;at++)Un[at]=arguments[at+2];de.children=Un}if(L&&L.defaultProps)for(re in Se=L.defaultProps,Se)de[re]===void 0&&(de[re]=Se[re]);return P(L,Pe,void 0,void 0,null,de)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:c,render:L}},Ce.isValidElement=H,Ce.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:Y}},Ce.memo=function(L,K){return{$$typeof:f,type:L,compare:K===void 0?null:K}},Ce.startTransition=function(L){var K=O.T,ie={};O.T=ie;try{var re=L(),de=O.S;de!==null&&de(ie,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ne,se)}catch(Pe){se(Pe)}finally{O.T=K}},Ce.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ce.use=function(L){return O.H.use(L)},Ce.useActionState=function(L,K,ie){return O.H.useActionState(L,K,ie)},Ce.useCallback=function(L,K){return O.H.useCallback(L,K)},Ce.useContext=function(L){return O.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,K){return O.H.useDeferredValue(L,K)},Ce.useEffect=function(L,K,ie){var re=O.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(L,K)},Ce.useId=function(){return O.H.useId()},Ce.useImperativeHandle=function(L,K,ie){return O.H.useImperativeHandle(L,K,ie)},Ce.useInsertionEffect=function(L,K){return O.H.useInsertionEffect(L,K)},Ce.useLayoutEffect=function(L,K){return O.H.useLayoutEffect(L,K)},Ce.useMemo=function(L,K){return O.H.useMemo(L,K)},Ce.useOptimistic=function(L,K){return O.H.useOptimistic(L,K)},Ce.useReducer=function(L,K,ie){return O.H.useReducer(L,K,ie)},Ce.useRef=function(L){return O.H.useRef(L)},Ce.useState=function(L){return O.H.useState(L)},Ce.useSyncExternalStore=function(L,K,ie){return O.H.useSyncExternalStore(L,K,ie)},Ce.useTransition=function(){return O.H.useTransition()},Ce.version="19.1.1",Ce}var oT;function Rl(){return oT||(oT=1,r0.exports=jP()),r0.exports}var M=Rl();const zn=Wp(M);var s0={exports:{}},Gc={},i0={exports:{}},o0={};var aT;function LP(){return aT||(aT=1,function(t){function e(q,Y){var se=q.length;q.push(Y);e:for(;0<se;){var Ne=se-1>>>1,L=q[Ne];if(0<s(L,Y))q[Ne]=Y,q[se]=L,se=Ne;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Y=q[0],se=q.pop();if(se!==Y){q[0]=se;e:for(var Ne=0,L=q.length,K=L>>>1;Ne<K;){var ie=2*(Ne+1)-1,re=q[ie],de=ie+1,Pe=q[de];if(0>s(re,se))de<L&&0>s(Pe,re)?(q[Ne]=Pe,q[de]=se,Ne=de):(q[Ne]=re,q[ie]=se,Ne=ie);else if(de<L&&0>s(Pe,se))q[Ne]=Pe,q[de]=se,Ne=de;else break e}}return Y}function s(q,Y){var se=q.sortIndex-Y.sortIndex;return se!==0?se:q.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],f=[],p=1,m=null,y=3,x=!1,S=!1,w=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function N(q){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=q)r(f),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=n(f)}}function O(q){if(w=!1,N(q),!S)if(n(d)!==null)S=!0,j||(j=!0,ce());else{var Y=n(f);Y!==null&&Ee(O,Y.startTime-q)}}var j=!1,P=-1,D=5,H=-1;function X(){return C?!0:!(t.unstable_now()-H<D)}function Z(){if(C=!1,j){var q=t.unstable_now();H=q;var Y=!0;try{e:{S=!1,w&&(w=!1,_(P),P=-1),x=!0;var se=y;try{t:{for(N(q),m=n(d);m!==null&&!(m.expirationTime>q&&X());){var Ne=m.callback;if(typeof Ne=="function"){m.callback=null,y=m.priorityLevel;var L=Ne(m.expirationTime<=q);if(q=t.unstable_now(),typeof L=="function"){m.callback=L,N(q),Y=!0;break t}m===n(d)&&r(d),N(q)}else r(d);m=n(d)}if(m!==null)Y=!0;else{var K=n(f);K!==null&&Ee(O,K.startTime-q),Y=!1}}break e}finally{m=null,y=se,x=!1}Y=void 0}}finally{Y?ce():j=!1}}}var ce;if(typeof A=="function")ce=function(){A(Z)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Ae=Ie.port2;Ie.port1.onmessage=Z,ce=function(){Ae.postMessage(null)}}else ce=function(){k(Z,0)};function Ee(q,Y){P=k(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(q){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var se=y;y=Y;try{return q()}finally{y=se}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=y;y=q;try{return Y()}finally{y=se}},t.unstable_scheduleCallback=function(q,Y,se){var Ne=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Ne+se:Ne):se=Ne,q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=se+L,q={id:p++,callback:Y,priorityLevel:q,startTime:se,expirationTime:L,sortIndex:-1},se>Ne?(q.sortIndex=se,e(f,q),n(d)===null&&q===n(f)&&(w?(_(P),P=-1):w=!0,Ee(O,se-Ne))):(q.sortIndex=L,e(d,q),S||x||(S=!0,j||(j=!0,ce()))),q},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(q){var Y=y;return function(){var se=y;y=Y;try{return q.apply(this,arguments)}finally{y=se}}}}(o0)),o0}var lT;function PP(){return lT||(lT=1,i0.exports=LP()),i0.exports}var a0={exports:{}},cn={};var cT;function zP(){if(cT)return cn;cT=1;var t=Rl();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},cn.flushSync=function(d){var f=a.T,p=r.p;try{if(a.T=null,r.p=2,d)return d()}finally{a.T=f,r.p=p,r.d.f()}},cn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},cn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},cn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},cn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},cn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},cn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},cn.requestFormReset=function(d){r.d.r(d)},cn.unstable_batchedUpdates=function(d,f){return d(f)},cn.useFormState=function(d,f,p){return a.H.useFormState(d,f,p)},cn.useFormStatus=function(){return a.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var uT;function p2(){if(uT)return a0.exports;uT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a0.exports=zP(),a0.exports}var dT;function BP(){if(dT)return Gc;dT=1;var t=PP(),e=Rl(),n=p2();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function a(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var u=i,h=l;;){var g=u.return;if(g===null)break;var b=g.alternate;if(b===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===u)return c(g),i;if(b===h)return c(g),l;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=b;else{for(var T=!1,E=g.child;E;){if(E===u){T=!0,u=g,h=b;break}if(E===h){T=!0,h=g,u=b;break}E=E.sibling}if(!T){for(E=b.child;E;){if(E===u){T=!0,u=b,h=g;break}if(E===h){T=!0,h=b,u=g;break}E=E.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:l}function f(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=f(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var Ie=Symbol.for("react.client.reference");function Ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ie?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case j:return"SuspenseList";case H:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case A:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case N:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return l=i.displayName||null,l!==null?l:Ae(i.type)||"Memo";case D:l=i._payload,i=i._init;try{return Ae(i(l))}catch{}}return null}var Ee=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Ne=[],L=-1;function K(i){return{current:i}}function ie(i){0>L||(i.current=Ne[L],Ne[L]=null,L--)}function re(i,l){L++,Ne[L]=i.current,i.current=l}var de=K(null),Pe=K(null),Se=K(null),Un=K(null);function at(i,l){switch(re(Se,l),re(Pe,i),re(de,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Nk(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Nk(l),i=Dk(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(de),re(de,i)}function si(){ie(de),ie(Pe),ie(Se)}function Um(i){i.memoizedState!==null&&re(Un,i);var l=de.current,u=Dk(l,i.type);l!==u&&(re(Pe,i),re(de,u))}function Cd(i){Pe.current===i&&(ie(de),ie(Pe)),Un.current===i&&(ie(Un),Uc._currentValue=se)}var Hm=Object.prototype.hasOwnProperty,$m=t.unstable_scheduleCallback,Fm=t.unstable_cancelCallback,c3=t.unstable_shouldYield,u3=t.unstable_requestPaint,Kr=t.unstable_now,d3=t.unstable_getCurrentPriorityLevel,dS=t.unstable_ImmediatePriority,fS=t.unstable_UserBlockingPriority,kd=t.unstable_NormalPriority,f3=t.unstable_LowPriority,hS=t.unstable_IdlePriority,h3=t.log,p3=t.unstable_setDisableYieldValue,Kl=null,Hn=null;function ii(i){if(typeof h3=="function"&&p3(i),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(Kl,i)}catch{}}var $n=Math.clz32?Math.clz32:y3,m3=Math.log,g3=Math.LN2;function y3(i){return i>>>=0,i===0?32:31-(m3(i)/g3|0)|0}var Td=256,_d=4194304;function so(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ed(i,l,u){var h=i.pendingLanes;if(h===0)return 0;var g=0,b=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var E=h&134217727;return E!==0?(h=E&~b,h!==0?g=so(h):(T&=E,T!==0?g=so(T):u||(u=E&~i,u!==0&&(g=so(u))))):(E=h&~b,E!==0?g=so(E):T!==0?g=so(T):u||(u=h&~i,u!==0&&(g=so(u)))),g===0?0:l!==0&&l!==g&&(l&b)===0&&(b=g&-g,u=l&-l,b>=u||b===32&&(u&4194048)!==0)?l:g}function Ql(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function v3(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pS(){var i=Td;return Td<<=1,(Td&4194048)===0&&(Td=256),i}function mS(){var i=_d;return _d<<=1,(_d&62914560)===0&&(_d=4194304),i}function qm(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Xl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function b3(i,l,u,h,g,b){var T=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var E=i.entanglements,R=i.expirationTimes,V=i.hiddenUpdates;for(u=T&~u;0<u;){var G=31-$n(u),Q=1<<G;E[G]=0,R[G]=-1;var U=V[G];if(U!==null)for(V[G]=null,G=0;G<U.length;G++){var $=U[G];$!==null&&($.lane&=-536870913)}u&=~Q}h!==0&&gS(i,h,0),b!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=b&~(T&~l))}function gS(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var h=31-$n(l);i.entangledLanes|=l,i.entanglements[h]=i.entanglements[h]|1073741824|u&4194090}function yS(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-$n(u),g=1<<h;g&l|i[h]&l&&(i[h]|=l),u&=~g}}function Ym(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function vS(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:Xk(i.type))}function x3(i,l){var u=Y.p;try{return Y.p=i,l()}finally{Y.p=u}}var oi=Math.random().toString(36).slice(2),an="__reactFiber$"+oi,On="__reactProps$"+oi,da="__reactContainer$"+oi,Wm="__reactEvents$"+oi,S3="__reactListeners$"+oi,w3="__reactHandles$"+oi,bS="__reactResources$"+oi,Jl="__reactMarker$"+oi;function Km(i){delete i[an],delete i[On],delete i[Wm],delete i[S3],delete i[w3]}function fa(i){var l=i[an];if(l)return l;for(var u=i.parentNode;u;){if(l=u[da]||u[an]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Pk(i);i!==null;){if(u=i[an])return u;i=Pk(i)}return l}i=u,u=i.parentNode}return null}function ha(i){if(i=i[an]||i[da]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function Zl(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function pa(i){var l=i[bS];return l||(l=i[bS]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ht(i){i[Jl]=!0}var xS=new Set,SS={};function io(i,l){ma(i,l),ma(i+"Capture",l)}function ma(i,l){for(SS[i]=l,i=0;i<l.length;i++)xS.add(l[i])}var C3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wS={},CS={};function k3(i){return Hm.call(CS,i)?!0:Hm.call(wS,i)?!1:C3.test(i)?CS[i]=!0:(wS[i]=!0,!1)}function Md(i,l,u){if(k3(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function Od(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function ys(i,l,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+h)}}var Qm,kS;function ga(i){if(Qm===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Qm=l&&l[1]||"",kS=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qm+i+kS}var Xm=!1;function Jm(i,l){if(!i||Xm)return"";Xm=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch($){var U=$}Reflect.construct(i,[],Q)}else{try{Q.call()}catch($){U=$}i.call(Q.prototype)}}else{try{throw Error()}catch($){U=$}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch($){if($&&U&&typeof $.stack=="string")return[$.stack,U.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),T=b[0],E=b[1];if(T&&E){var R=T.split(`
`),V=E.split(`
`);for(g=h=0;h<R.length&&!R[h].includes("DetermineComponentFrameRoot");)h++;for(;g<V.length&&!V[g].includes("DetermineComponentFrameRoot");)g++;if(h===R.length||g===V.length)for(h=R.length-1,g=V.length-1;1<=h&&0<=g&&R[h]!==V[g];)g--;for(;1<=h&&0<=g;h--,g--)if(R[h]!==V[g]){if(h!==1||g!==1)do if(h--,g--,0>g||R[h]!==V[g]){var G=`
`+R[h].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=h&&0<=g);break}}}finally{Xm=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ga(u):""}function T3(i){switch(i.tag){case 26:case 27:case 5:return ga(i.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 15:return Jm(i.type,!1);case 11:return Jm(i.type.render,!1);case 1:return Jm(i.type,!0);case 31:return ga("Activity");default:return""}}function TS(i){try{var l="";do l+=T3(i),i=i.return;while(i);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ir(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _S(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function _3(i){var l=_S(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,b=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,b.call(this,T)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ad(i){i._valueTracker||(i._valueTracker=_3(i))}function ES(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=_S(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function Nd(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var E3=/[\n"\\]/g;function or(i){return i.replace(E3,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Zm(i,l,u,h,g,b,T,E){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),l!=null?T==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+ir(l)):i.value!==""+ir(l)&&(i.value=""+ir(l)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),l!=null?eg(i,T,ir(l)):u!=null?eg(i,T,ir(u)):h!=null&&i.removeAttribute("value"),g==null&&b!=null&&(i.defaultChecked=!!b),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+ir(E):i.removeAttribute("name")}function MS(i,l,u,h,g,b,T,E){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),l!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||l!=null))return;u=u!=null?""+ir(u):"",l=l!=null?""+ir(l):u,E||l===i.value||(i.value=l),i.defaultValue=l}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=E?i.checked:!!h,i.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function eg(i,l,u){l==="number"&&Nd(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ya(i,l,u,h){if(i=i.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=l.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+ir(u),l=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}l!==null||i[g].disabled||(l=i[g])}l!==null&&(l.selected=!0)}}function OS(i,l,u){if(l!=null&&(l=""+ir(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+ir(u):""}function AS(i,l,u,h){if(l==null){if(h!=null){if(u!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),l=u}u=ir(l),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h)}function va(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var M3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function NS(i,l,u){var h=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":h?i.setProperty(l,u):typeof u!="number"||u===0||M3.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function DS(i,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in l)h=l[g],l.hasOwnProperty(g)&&u[g]!==h&&NS(i,g,h)}else for(var b in l)l.hasOwnProperty(b)&&NS(i,b,l[b])}function tg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dd(i){return A3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ng=null;function rg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ba=null,xa=null;function RS(i){var l=ha(i);if(l&&(i=l.stateNode)){var u=i[On]||null;e:switch(i=l.stateNode,l.type){case"input":if(Zm(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+or(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var g=h[On]||null;if(!g)throw Error(r(90));Zm(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<u.length;l++)h=u[l],h.form===i.form&&ES(h)}break e;case"textarea":OS(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&ya(i,!!u.multiple,l,!1)}}}var sg=!1;function jS(i,l,u){if(sg)return i(l,u);sg=!0;try{var h=i(l);return h}finally{if(sg=!1,(ba!==null||xa!==null)&&(vf(),ba&&(l=ba,i=xa,xa=ba=null,RS(l),i)))for(l=0;l<i.length;l++)RS(i[l])}}function ec(i,l){var u=i.stateNode;if(u===null)return null;var h=u[On]||null;if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ig=!1;if(vs)try{var tc={};Object.defineProperty(tc,"passive",{get:function(){ig=!0}}),window.addEventListener("test",tc,tc),window.removeEventListener("test",tc,tc)}catch{ig=!1}var ai=null,og=null,Rd=null;function LS(){if(Rd)return Rd;var i,l=og,u=l.length,h,g="value"in ai?ai.value:ai.textContent,b=g.length;for(i=0;i<u&&l[i]===g[i];i++);var T=u-i;for(h=1;h<=T&&l[u-h]===g[b-h];h++);return Rd=g.slice(i,1<h?1-h:void 0)}function jd(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Ld(){return!0}function PS(){return!1}function An(i){function l(u,h,g,b,T){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(u=i[E],this[E]=u?u(b):b[E]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ld:PS,this.isPropagationStopped=PS,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ld)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ld)},persist:function(){},isPersistent:Ld}),l}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pd=An(oo),nc=p({},oo,{view:0,detail:0}),N3=An(nc),ag,lg,rc,zd=p({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==rc&&(rc&&i.type==="mousemove"?(ag=i.screenX-rc.screenX,lg=i.screenY-rc.screenY):lg=ag=0,rc=i),ag)},movementY:function(i){return"movementY"in i?i.movementY:lg}}),zS=An(zd),D3=p({},zd,{dataTransfer:0}),R3=An(D3),j3=p({},nc,{relatedTarget:0}),cg=An(j3),L3=p({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),P3=An(L3),z3=p({},oo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),B3=An(z3),I3=p({},oo,{data:0}),BS=An(I3),V3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $3(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=H3[i])?!!l[i]:!1}function ug(){return $3}var F3=p({},nc,{key:function(i){if(i.key){var l=V3[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=jd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?U3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(i){return i.type==="keypress"?jd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?jd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),q3=An(F3),Y3=p({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IS=An(Y3),G3=p({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),W3=An(G3),K3=p({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q3=An(K3),X3=p({},zd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J3=An(X3),Z3=p({},oo,{newState:0,oldState:0}),eL=An(Z3),tL=[9,13,27,32],dg=vs&&"CompositionEvent"in window,sc=null;vs&&"documentMode"in document&&(sc=document.documentMode);var nL=vs&&"TextEvent"in window&&!sc,VS=vs&&(!dg||sc&&8<sc&&11>=sc),US=" ",HS=!1;function $S(i,l){switch(i){case"keyup":return tL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Sa=!1;function rL(i,l){switch(i){case"compositionend":return FS(l);case"keypress":return l.which!==32?null:(HS=!0,US);case"textInput":return i=l.data,i===US&&HS?null:i;default:return null}}function sL(i,l){if(Sa)return i==="compositionend"||!dg&&$S(i,l)?(i=LS(),Rd=og=ai=null,Sa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return VS&&l.locale!=="ko"?null:l.data;default:return null}}var iL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!iL[i.type]:l==="textarea"}function YS(i,l,u,h){ba?xa?xa.push(h):xa=[h]:ba=h,l=kf(l,"onChange"),0<l.length&&(u=new Pd("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var ic=null,oc=null;function oL(i){_k(i,0)}function Bd(i){var l=Zl(i);if(ES(l))return i}function GS(i,l){if(i==="change")return l}var WS=!1;if(vs){var fg;if(vs){var hg="oninput"in document;if(!hg){var KS=document.createElement("div");KS.setAttribute("oninput","return;"),hg=typeof KS.oninput=="function"}fg=hg}else fg=!1;WS=fg&&(!document.documentMode||9<document.documentMode)}function QS(){ic&&(ic.detachEvent("onpropertychange",XS),oc=ic=null)}function XS(i){if(i.propertyName==="value"&&Bd(oc)){var l=[];YS(l,oc,i,rg(i)),jS(oL,l)}}function aL(i,l,u){i==="focusin"?(QS(),ic=l,oc=u,ic.attachEvent("onpropertychange",XS)):i==="focusout"&&QS()}function lL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bd(oc)}function cL(i,l){if(i==="click")return Bd(l)}function uL(i,l){if(i==="input"||i==="change")return Bd(l)}function dL(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Fn=typeof Object.is=="function"?Object.is:dL;function ac(i,l){if(Fn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!Hm.call(l,g)||!Fn(i[g],l[g]))return!1}return!0}function JS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ZS(i,l){var u=JS(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=JS(u)}}function ew(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?ew(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function tw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Nd(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Nd(i.document)}return l}function pg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var fL=vs&&"documentMode"in document&&11>=document.documentMode,wa=null,mg=null,lc=null,gg=!1;function nw(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;gg||wa==null||wa!==Nd(h)||(h=wa,"selectionStart"in h&&pg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),lc&&ac(lc,h)||(lc=h,h=kf(mg,"onSelect"),0<h.length&&(l=new Pd("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=wa)))}function ao(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var Ca={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},yg={},rw={};vs&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function lo(i){if(yg[i])return yg[i];if(!Ca[i])return i;var l=Ca[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in rw)return yg[i]=l[u];return i}var sw=lo("animationend"),iw=lo("animationiteration"),ow=lo("animationstart"),hL=lo("transitionrun"),pL=lo("transitionstart"),mL=lo("transitioncancel"),aw=lo("transitionend"),lw=new Map,vg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vg.push("scrollEnd");function Or(i,l){lw.set(i,l),io(l,[i])}var cw=new WeakMap;function ar(i,l){if(typeof i=="object"&&i!==null){var u=cw.get(i);return u!==void 0?u:(l={value:i,source:l,stack:TS(l)},cw.set(i,l),l)}return{value:i,source:l,stack:TS(l)}}var lr=[],ka=0,bg=0;function Id(){for(var i=ka,l=bg=ka=0;l<i;){var u=lr[l];lr[l++]=null;var h=lr[l];lr[l++]=null;var g=lr[l];lr[l++]=null;var b=lr[l];if(lr[l++]=null,h!==null&&g!==null){var T=h.pending;T===null?g.next=g:(g.next=T.next,T.next=g),h.pending=g}b!==0&&uw(u,g,b)}}function Vd(i,l,u,h){lr[ka++]=i,lr[ka++]=l,lr[ka++]=u,lr[ka++]=h,bg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function xg(i,l,u,h){return Vd(i,l,u,h),Ud(i)}function Ta(i,l){return Vd(i,null,null,l),Ud(i)}function uw(i,l,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var g=!1,b=i.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(g=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,g&&l!==null&&(g=31-$n(u),i=b.hiddenUpdates,h=i[g],h===null?i[g]=[l]:h.push(l),l.lane=u|536870912),b):null}function Ud(i){if(50<Rc)throw Rc=0,_y=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var _a={};function gL(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(i,l,u,h){return new gL(i,l,u,h)}function Sg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bs(i,l){var u=i.alternate;return u===null?(u=qn(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function dw(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Hd(i,l,u,h,g,b){var T=0;if(h=i,typeof i=="function")Sg(i)&&(T=1);else if(typeof i=="string")T=vP(i,u,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case H:return i=qn(31,u,l,g),i.elementType=H,i.lanes=b,i;case S:return co(u.children,g,b,l);case w:T=8,g|=24;break;case C:return i=qn(12,u,l,g|2),i.elementType=C,i.lanes=b,i;case O:return i=qn(13,u,l,g),i.elementType=O,i.lanes=b,i;case j:return i=qn(19,u,l,g),i.elementType=j,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case A:T=10;break e;case _:T=9;break e;case N:T=11;break e;case P:T=14;break e;case D:T=16,h=null;break e}T=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return l=qn(T,u,l,g),l.elementType=i,l.type=h,l.lanes=b,l}function co(i,l,u,h){return i=qn(7,i,h,l),i.lanes=u,i}function wg(i,l,u){return i=qn(6,i,null,l),i.lanes=u,i}function Cg(i,l,u){return l=qn(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ea=[],Ma=0,$d=null,Fd=0,cr=[],ur=0,uo=null,xs=1,Ss="";function fo(i,l){Ea[Ma++]=Fd,Ea[Ma++]=$d,$d=i,Fd=l}function fw(i,l,u){cr[ur++]=xs,cr[ur++]=Ss,cr[ur++]=uo,uo=i;var h=xs;i=Ss;var g=32-$n(h)-1;h&=~(1<<g),u+=1;var b=32-$n(l)+g;if(30<b){var T=g-g%5;b=(h&(1<<T)-1).toString(32),h>>=T,g-=T,xs=1<<32-$n(l)+g|u<<g|h,Ss=b+i}else xs=1<<b|u<<g|h,Ss=i}function kg(i){i.return!==null&&(fo(i,1),fw(i,1,0))}function Tg(i){for(;i===$d;)$d=Ea[--Ma],Ea[Ma]=null,Fd=Ea[--Ma],Ea[Ma]=null;for(;i===uo;)uo=cr[--ur],cr[ur]=null,Ss=cr[--ur],cr[ur]=null,xs=cr[--ur],cr[ur]=null}var bn=null,gt=null,Fe=!1,ho=null,Qr=!1,_g=Error(r(519));function po(i){var l=Error(r(418,""));throw dc(ar(l,i)),_g}function hw(i){var l=i.stateNode,u=i.type,h=i.memoizedProps;switch(l[an]=i,l[On]=h,u){case"dialog":je("cancel",l),je("close",l);break;case"iframe":case"object":case"embed":je("load",l);break;case"video":case"audio":for(u=0;u<Lc.length;u++)je(Lc[u],l);break;case"source":je("error",l);break;case"img":case"image":case"link":je("error",l),je("load",l);break;case"details":je("toggle",l);break;case"input":je("invalid",l),MS(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ad(l);break;case"select":je("invalid",l);break;case"textarea":je("invalid",l),AS(l,h.value,h.defaultValue,h.children),Ad(l)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||h.suppressHydrationWarning===!0||Ak(l.textContent,u)?(h.popover!=null&&(je("beforetoggle",l),je("toggle",l)),h.onScroll!=null&&je("scroll",l),h.onScrollEnd!=null&&je("scrollend",l),h.onClick!=null&&(l.onclick=Tf),l=!0):l=!1,l||po(i)}function pw(i){for(bn=i.return;bn;)switch(bn.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:bn=bn.return}}function cc(i){if(i!==bn)return!1;if(!Fe)return pw(i),Fe=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Hy(i.type,i.memoizedProps)),u=!u),u&&gt&&po(i),pw(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(l===0){gt=Nr(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;i=i.nextSibling}gt=null}}else l===27?(l=gt,Ci(i.type)?(i=Yy,Yy=null,gt=i):gt=l):gt=bn?Nr(i.stateNode.nextSibling):null;return!0}function uc(){gt=bn=null,Fe=!1}function mw(){var i=ho;return i!==null&&(Rn===null?Rn=i:Rn.push.apply(Rn,i),ho=null),i}function dc(i){ho===null?ho=[i]:ho.push(i)}var Eg=K(null),mo=null,ws=null;function li(i,l,u){re(Eg,l._currentValue),l._currentValue=u}function Cs(i){i._currentValue=Eg.current,ie(Eg)}function Mg(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function Og(i,l,u,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){var T=g.child;b=b.firstContext;e:for(;b!==null;){var E=b;b=g;for(var R=0;R<l.length;R++)if(E.context===l[R]){b.lanes|=u,E=b.alternate,E!==null&&(E.lanes|=u),Mg(b.return,u,i),h||(T=null);break e}b=E.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(r(341));T.lanes|=u,b=T.alternate,b!==null&&(b.lanes|=u),Mg(T,u,i),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===i){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function fc(i,l,u,h){i=null;for(var g=l,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var E=g.type;Fn(g.pendingProps.value,T.value)||(i!==null?i.push(E):i=[E])}}else if(g===Un.current){if(T=g.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Uc):i=[Uc])}g=g.return}i!==null&&Og(l,i,u,h),l.flags|=262144}function qd(i){for(i=i.firstContext;i!==null;){if(!Fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function go(i){mo=i,ws=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ln(i){return gw(mo,i)}function Yd(i,l){return mo===null&&go(i),gw(i,l)}function gw(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},ws===null){if(i===null)throw Error(r(308));ws=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else ws=ws.next=l;return u}var yL=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},vL=t.unstable_scheduleCallback,bL=t.unstable_NormalPriority,Bt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ag(){return{controller:new yL,data:new Map,refCount:0}}function hc(i){i.refCount--,i.refCount===0&&vL(bL,function(){i.controller.abort()})}var pc=null,Ng=0,Oa=0,Aa=null;function xL(i,l){if(pc===null){var u=pc=[];Ng=0,Oa=Ry(),Aa={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Ng++,l.then(yw,yw),l}function yw(){if(--Ng===0&&pc!==null){Aa!==null&&(Aa.status="fulfilled");var i=pc;pc=null,Oa=0,Aa=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function SL(i,l){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){h.status="fulfilled",h.value=l;for(var g=0;g<u.length;g++)(0,u[g])(l)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var vw=q.S;q.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&xL(i,l),vw!==null&&vw(i,l)};var yo=K(null);function Dg(){var i=yo.current;return i!==null?i:rt.pooledCache}function Gd(i,l){l===null?re(yo,yo.current):re(yo,l.pool)}function bw(){var i=Dg();return i===null?null:{parent:Bt._currentValue,pool:i}}var mc=Error(r(460)),xw=Error(r(474)),Wd=Error(r(542)),Rg={then:function(){}};function Sw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Kd(){}function ww(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Kd,Kd),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,kw(i),i;default:if(typeof l.status=="string")l.then(Kd,Kd);else{if(i=rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(h){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=h}},function(h){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,kw(i),i}throw gc=l,mc}}var gc=null;function Cw(){if(gc===null)throw Error(r(459));var i=gc;return gc=null,i}function kw(i){if(i===mc||i===Wd)throw Error(r(483))}var ci=!1;function jg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lg(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ui(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function di(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ye&2)!==0){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,l=Ud(i),uw(i,null,u),l}return Vd(i,h,l,u),Ud(i)}function yc(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,yS(i,u)}}function Pg(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?g=b=T:b=b.next=T,u=u.next}while(u!==null);b===null?g=b=l:b=b.next=l}else g=b=l;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var zg=!1;function vc(){if(zg){var i=Aa;if(i!==null)throw i}}function bc(i,l,u,h){zg=!1;var g=i.updateQueue;ci=!1;var b=g.firstBaseUpdate,T=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var R=E,V=R.next;R.next=null,T===null?b=V:T.next=V,T=R;var G=i.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==T&&(E===null?G.firstBaseUpdate=V:E.next=V,G.lastBaseUpdate=R))}if(b!==null){var Q=g.baseState;T=0,G=V=R=null,E=b;do{var U=E.lane&-536870913,$=U!==E.lane;if($?(ze&U)===U:(h&U)===U){U!==0&&U===Oa&&(zg=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ve=i,me=E;U=l;var Je=u;switch(me.tag){case 1:if(ve=me.payload,typeof ve=="function"){Q=ve.call(Je,Q,U);break e}Q=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=me.payload,U=typeof ve=="function"?ve.call(Je,Q,U):ve,U==null)break e;Q=p({},Q,U);break e;case 2:ci=!0}}U=E.callback,U!==null&&(i.flags|=64,$&&(i.flags|=8192),$=g.callbacks,$===null?g.callbacks=[U]:$.push(U))}else $={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(V=G=$,R=Q):G=G.next=$,T|=U;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;$=E,E=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);G===null&&(R=Q),g.baseState=R,g.firstBaseUpdate=V,g.lastBaseUpdate=G,b===null&&(g.shared.lanes=0),bi|=T,i.lanes=T,i.memoizedState=Q}}function Tw(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function _w(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Tw(u[i],l)}var Na=K(null),Qd=K(0);function Ew(i,l){i=As,re(Qd,i),re(Na,l),As=i|l.baseLanes}function Bg(){re(Qd,As),re(Na,Na.current)}function Ig(){As=Qd.current,ie(Na),ie(Qd)}var fi=0,Me=null,Qe=null,Nt=null,Xd=!1,Da=!1,vo=!1,Jd=0,xc=0,Ra=null,wL=0;function Et(){throw Error(r(321))}function Vg(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Fn(i[u],l[u]))return!1;return!0}function Ug(i,l,u,h,g,b){return fi=b,Me=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=i===null||i.memoizedState===null?uC:dC,vo=!1,b=u(h,g),vo=!1,Da&&(b=Ow(l,u,h,g)),Mw(i),b}function Mw(i){q.H=sf;var l=Qe!==null&&Qe.next!==null;if(fi=0,Nt=Qe=Me=null,Xd=!1,xc=0,Ra=null,l)throw Error(r(300));i===null||$t||(i=i.dependencies,i!==null&&qd(i)&&($t=!0))}function Ow(i,l,u,h){Me=i;var g=0;do{if(Da&&(Ra=null),xc=0,Da=!1,25<=g)throw Error(r(301));if(g+=1,Nt=Qe=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}q.H=OL,b=l(u,h)}while(Da);return b}function CL(){var i=q.H,l=i.useState()[0];return l=typeof l.then=="function"?Sc(l):l,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Me.flags|=1024),l}function Hg(){var i=Jd!==0;return Jd=0,i}function $g(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Fg(i){if(Xd){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Xd=!1}fi=0,Nt=Qe=Me=null,Da=!1,xc=Jd=0,Ra=null}function Nn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Me.memoizedState=Nt=i:Nt=Nt.next=i,Nt}function Dt(){if(Qe===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var l=Nt===null?Me.memoizedState:Nt.next;if(l!==null)Nt=l,Qe=i;else{if(i===null)throw Me.alternate===null?Error(r(467)):Error(r(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Nt===null?Me.memoizedState=Nt=i:Nt=Nt.next=i}return Nt}function qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(i){var l=xc;return xc+=1,Ra===null&&(Ra=[]),i=ww(Ra,i,l),l=Me,(Nt===null?l.memoizedState:Nt.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?uC:dC),i}function Zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sc(i);if(i.$$typeof===A)return ln(i)}throw Error(r(438,String(i)))}function Yg(i){var l=null,u=Me.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var h=Me.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=qg(),Me.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),h=0;h<i;h++)u[h]=X;return l.index++,u}function ks(i,l){return typeof l=="function"?l(i):l}function ef(i){var l=Dt();return Gg(l,Qe,i)}function Gg(i,l,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=i.baseQueue,b=h.pending;if(b!==null){if(g!==null){var T=g.next;g.next=b.next,b.next=T}l.baseQueue=g=b,h.pending=null}if(b=i.baseState,g===null)i.memoizedState=b;else{l=g.next;var E=T=null,R=null,V=l,G=!1;do{var Q=V.lane&-536870913;if(Q!==V.lane?(ze&Q)===Q:(fi&Q)===Q){var U=V.revertLane;if(U===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Q===Oa&&(G=!0);else if((fi&U)===U){V=V.next,U===Oa&&(G=!0);continue}else Q={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(E=R=Q,T=b):R=R.next=Q,Me.lanes|=U,bi|=U;Q=V.action,vo&&u(b,Q),b=V.hasEagerState?V.eagerState:u(b,Q)}else U={lane:Q,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},R===null?(E=R=U,T=b):R=R.next=U,Me.lanes|=Q,bi|=Q;V=V.next}while(V!==null&&V!==l);if(R===null?T=b:R.next=E,!Fn(b,i.memoizedState)&&($t=!0,G&&(u=Aa,u!==null)))throw u;i.memoizedState=b,i.baseState=T,i.baseQueue=R,h.lastRenderedState=b}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Wg(i){var l=Dt(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,b=l.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do b=i(b,T.action),T=T.next;while(T!==g);Fn(b,l.memoizedState)||($t=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),u.lastRenderedState=b}return[b,h]}function Aw(i,l,u){var h=Me,g=Dt(),b=Fe;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=l();var T=!Fn((Qe||g).memoizedState,u);T&&(g.memoizedState=u,$t=!0),g=g.queue;var E=Rw.bind(null,h,g,i);if(wc(2048,8,E,[i]),g.getSnapshot!==l||T||Nt!==null&&Nt.memoizedState.tag&1){if(h.flags|=2048,ja(9,tf(),Dw.bind(null,h,g,u,l),null),rt===null)throw Error(r(349));b||(fi&124)!==0||Nw(h,l,u)}return u}function Nw(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Me.updateQueue,l===null?(l=qg(),Me.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Dw(i,l,u,h){l.value=u,l.getSnapshot=h,jw(l)&&Lw(i)}function Rw(i,l,u){return u(function(){jw(l)&&Lw(i)})}function jw(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Fn(i,u)}catch{return!0}}function Lw(i){var l=Ta(i,2);l!==null&&Qn(l,i,2)}function Kg(i){var l=Nn();if(typeof i=="function"){var u=i;if(i=u(),vo){ii(!0);try{u()}finally{ii(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:i},l}function Pw(i,l,u,h){return i.baseState=u,Gg(i,Qe,typeof h=="function"?h:ks)}function kL(i,l,u,h,g){if(rf(i))throw Error(r(485));if(i=l.action,i!==null){var b={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};q.T!==null?u(!0):b.isTransition=!1,h(b),u=l.pending,u===null?(b.next=l.pending=b,zw(l,b)):(b.next=u.next,l.pending=u.next=b)}}function zw(i,l){var u=l.action,h=l.payload,g=i.state;if(l.isTransition){var b=q.T,T={};q.T=T;try{var E=u(g,h),R=q.S;R!==null&&R(T,E),Bw(i,l,E)}catch(V){Qg(i,l,V)}finally{q.T=b}}else try{b=u(g,h),Bw(i,l,b)}catch(V){Qg(i,l,V)}}function Bw(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){Iw(i,l,h)},function(h){return Qg(i,l,h)}):Iw(i,l,u)}function Iw(i,l,u){l.status="fulfilled",l.value=u,Vw(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,zw(i,u)))}function Qg(i,l,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=u,Vw(l),l=l.next;while(l!==h)}i.action=null}function Vw(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Uw(i,l){return l}function Hw(i,l){if(Fe){var u=rt.formState;if(u!==null){e:{var h=Me;if(Fe){if(gt){t:{for(var g=gt,b=Qr;g.nodeType!==8;){if(!b){g=null;break t}if(g=Nr(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){gt=Nr(g.nextSibling),h=g.data==="F!";break e}}po(h)}h=!1}h&&(l=u[0])}}return u=Nn(),u.memoizedState=u.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uw,lastRenderedState:l},u.queue=h,u=aC.bind(null,Me,h),h.dispatch=u,h=Kg(!1),b=ty.bind(null,Me,!1,h.queue),h=Nn(),g={state:l,dispatch:null,action:i,pending:null},h.queue=g,u=kL.bind(null,Me,g,b,u),g.dispatch=u,h.memoizedState=i,[l,u,!1]}function $w(i){var l=Dt();return Fw(l,Qe,i)}function Fw(i,l,u){if(l=Gg(i,l,Uw)[0],i=ef(ks)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=Sc(l)}catch(T){throw T===mc?Wd:T}else h=l;l=Dt();var g=l.queue,b=g.dispatch;return u!==l.memoizedState&&(Me.flags|=2048,ja(9,tf(),TL.bind(null,g,u),null)),[h,b,i]}function TL(i,l){i.action=l}function qw(i){var l=Dt(),u=Qe;if(u!==null)return Fw(l,u,i);Dt(),l=l.memoizedState,u=Dt();var h=u.queue.dispatch;return u.memoizedState=i,[l,h,!1]}function ja(i,l,u,h){return i={tag:i,create:u,deps:h,inst:l,next:null},l=Me.updateQueue,l===null&&(l=qg(),Me.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i),i}function tf(){return{destroy:void 0,resource:void 0}}function Yw(){return Dt().memoizedState}function nf(i,l,u,h){var g=Nn();h=h===void 0?null:h,Me.flags|=i,g.memoizedState=ja(1|l,tf(),u,h)}function wc(i,l,u,h){var g=Dt();h=h===void 0?null:h;var b=g.memoizedState.inst;Qe!==null&&h!==null&&Vg(h,Qe.memoizedState.deps)?g.memoizedState=ja(l,b,u,h):(Me.flags|=i,g.memoizedState=ja(1|l,b,u,h))}function Gw(i,l){nf(8390656,8,i,l)}function Ww(i,l){wc(2048,8,i,l)}function Kw(i,l){return wc(4,2,i,l)}function Qw(i,l){return wc(4,4,i,l)}function Xw(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Jw(i,l,u){u=u!=null?u.concat([i]):null,wc(4,4,Xw.bind(null,l,i),u)}function Xg(){}function Zw(i,l){var u=Dt();l=l===void 0?null:l;var h=u.memoizedState;return l!==null&&Vg(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function eC(i,l){var u=Dt();l=l===void 0?null:l;var h=u.memoizedState;if(l!==null&&Vg(l,h[1]))return h[0];if(h=i(),vo){ii(!0);try{i()}finally{ii(!1)}}return u.memoizedState=[h,l],h}function Jg(i,l,u){return u===void 0||(fi&1073741824)!==0?i.memoizedState=l:(i.memoizedState=u,i=rk(),Me.lanes|=i,bi|=i,u)}function tC(i,l,u,h){return Fn(u,l)?u:Na.current!==null?(i=Jg(i,u,h),Fn(i,l)||($t=!0),i):(fi&42)===0?($t=!0,i.memoizedState=u):(i=rk(),Me.lanes|=i,bi|=i,l)}function nC(i,l,u,h,g){var b=Y.p;Y.p=b!==0&&8>b?b:8;var T=q.T,E={};q.T=E,ty(i,!1,l,u);try{var R=g(),V=q.S;if(V!==null&&V(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=SL(R,h);Cc(i,l,G,Kn(i))}else Cc(i,l,h,Kn(i))}catch(Q){Cc(i,l,{then:function(){},status:"rejected",reason:Q},Kn())}finally{Y.p=b,q.T=T}}function _L(){}function Zg(i,l,u,h){if(i.tag!==5)throw Error(r(476));var g=rC(i).queue;nC(i,g,l,se,u===null?_L:function(){return sC(i),u(h)})}function rC(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:se},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function sC(i){var l=rC(i).next.queue;Cc(i,l,{},Kn())}function ey(){return ln(Uc)}function iC(){return Dt().memoizedState}function oC(){return Dt().memoizedState}function EL(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=Kn();i=ui(u);var h=di(l,i,u);h!==null&&(Qn(h,l,u),yc(h,l,u)),l={cache:Ag()},i.payload=l;return}l=l.return}}function ML(i,l,u){var h=Kn();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},rf(i)?lC(l,u):(u=xg(i,l,u,h),u!==null&&(Qn(u,i,h),cC(u,l,h)))}function aC(i,l,u){var h=Kn();Cc(i,l,u,h)}function Cc(i,l,u,h){var g={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(rf(i))lC(l,g);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var T=l.lastRenderedState,E=b(T,u);if(g.hasEagerState=!0,g.eagerState=E,Fn(E,T))return Vd(i,l,g,0),rt===null&&Id(),!1}catch{}finally{}if(u=xg(i,l,g,h),u!==null)return Qn(u,i,h),cC(u,l,h),!0}return!1}function ty(i,l,u,h){if(h={lane:2,revertLane:Ry(),action:h,hasEagerState:!1,eagerState:null,next:null},rf(i)){if(l)throw Error(r(479))}else l=xg(i,u,h,2),l!==null&&Qn(l,i,2)}function rf(i){var l=i.alternate;return i===Me||l!==null&&l===Me}function lC(i,l){Da=Xd=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function cC(i,l,u){if((u&4194048)!==0){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,yS(i,u)}}var sf={readContext:ln,use:Zd,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},uC={readContext:ln,use:Zd,useCallback:function(i,l){return Nn().memoizedState=[i,l===void 0?null:l],i},useContext:ln,useEffect:Gw,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,nf(4194308,4,Xw.bind(null,l,i),u)},useLayoutEffect:function(i,l){return nf(4194308,4,i,l)},useInsertionEffect:function(i,l){nf(4,2,i,l)},useMemo:function(i,l){var u=Nn();l=l===void 0?null:l;var h=i();if(vo){ii(!0);try{i()}finally{ii(!1)}}return u.memoizedState=[h,l],h},useReducer:function(i,l,u){var h=Nn();if(u!==void 0){var g=u(l);if(vo){ii(!0);try{u(l)}finally{ii(!1)}}}else g=l;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=ML.bind(null,Me,i),[h.memoizedState,i]},useRef:function(i){var l=Nn();return i={current:i},l.memoizedState=i},useState:function(i){i=Kg(i);var l=i.queue,u=aC.bind(null,Me,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Xg,useDeferredValue:function(i,l){var u=Nn();return Jg(u,i,l)},useTransition:function(){var i=Kg(!1);return i=nC.bind(null,Me,i.queue,!0,!1),Nn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var h=Me,g=Nn();if(Fe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),rt===null)throw Error(r(349));(ze&124)!==0||Nw(h,l,u)}g.memoizedState=u;var b={value:u,getSnapshot:l};return g.queue=b,Gw(Rw.bind(null,h,b,i),[i]),h.flags|=2048,ja(9,tf(),Dw.bind(null,h,b,u,l),null),u},useId:function(){var i=Nn(),l=rt.identifierPrefix;if(Fe){var u=Ss,h=xs;u=(h&~(1<<32-$n(h)-1)).toString(32)+u,l=""+l+"R"+u,u=Jd++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=wL++,l=""+l+"r"+u.toString(32)+"";return i.memoizedState=l},useHostTransitionStatus:ey,useFormState:Hw,useActionState:Hw,useOptimistic:function(i){var l=Nn();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=ty.bind(null,Me,!0,u),u.dispatch=l,[i,l]},useMemoCache:Yg,useCacheRefresh:function(){return Nn().memoizedState=EL.bind(null,Me)}},dC={readContext:ln,use:Zd,useCallback:Zw,useContext:ln,useEffect:Ww,useImperativeHandle:Jw,useInsertionEffect:Kw,useLayoutEffect:Qw,useMemo:eC,useReducer:ef,useRef:Yw,useState:function(){return ef(ks)},useDebugValue:Xg,useDeferredValue:function(i,l){var u=Dt();return tC(u,Qe.memoizedState,i,l)},useTransition:function(){var i=ef(ks)[0],l=Dt().memoizedState;return[typeof i=="boolean"?i:Sc(i),l]},useSyncExternalStore:Aw,useId:iC,useHostTransitionStatus:ey,useFormState:$w,useActionState:$w,useOptimistic:function(i,l){var u=Dt();return Pw(u,Qe,i,l)},useMemoCache:Yg,useCacheRefresh:oC},OL={readContext:ln,use:Zd,useCallback:Zw,useContext:ln,useEffect:Ww,useImperativeHandle:Jw,useInsertionEffect:Kw,useLayoutEffect:Qw,useMemo:eC,useReducer:Wg,useRef:Yw,useState:function(){return Wg(ks)},useDebugValue:Xg,useDeferredValue:function(i,l){var u=Dt();return Qe===null?Jg(u,i,l):tC(u,Qe.memoizedState,i,l)},useTransition:function(){var i=Wg(ks)[0],l=Dt().memoizedState;return[typeof i=="boolean"?i:Sc(i),l]},useSyncExternalStore:Aw,useId:iC,useHostTransitionStatus:ey,useFormState:qw,useActionState:qw,useOptimistic:function(i,l){var u=Dt();return Qe!==null?Pw(u,Qe,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Yg,useCacheRefresh:oC},La=null,kc=0;function of(i){var l=kc;return kc+=1,La===null&&(La=[]),ww(La,i,l)}function Tc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function af(i,l){throw l.$$typeof===m?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function fC(i){var l=i._init;return l(i._payload)}function hC(i){function l(B,z){if(i){var I=B.deletions;I===null?(B.deletions=[z],B.flags|=16):I.push(z)}}function u(B,z){if(!i)return null;for(;z!==null;)l(B,z),z=z.sibling;return null}function h(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function g(B,z){return B=bs(B,z),B.index=0,B.sibling=null,B}function b(B,z,I){return B.index=I,i?(I=B.alternate,I!==null?(I=I.index,I<z?(B.flags|=67108866,z):I):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function T(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function E(B,z,I,W){return z===null||z.tag!==6?(z=wg(I,B.mode,W),z.return=B,z):(z=g(z,I),z.return=B,z)}function R(B,z,I,W){var le=I.type;return le===S?G(B,z,I.props.children,W,I.key):z!==null&&(z.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===D&&fC(le)===z.type)?(z=g(z,I.props),Tc(z,I),z.return=B,z):(z=Hd(I.type,I.key,I.props,null,B.mode,W),Tc(z,I),z.return=B,z)}function V(B,z,I,W){return z===null||z.tag!==4||z.stateNode.containerInfo!==I.containerInfo||z.stateNode.implementation!==I.implementation?(z=Cg(I,B.mode,W),z.return=B,z):(z=g(z,I.children||[]),z.return=B,z)}function G(B,z,I,W,le){return z===null||z.tag!==7?(z=co(I,B.mode,W,le),z.return=B,z):(z=g(z,I),z.return=B,z)}function Q(B,z,I){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=wg(""+z,B.mode,I),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return I=Hd(z.type,z.key,z.props,null,B.mode,I),Tc(I,z),I.return=B,I;case x:return z=Cg(z,B.mode,I),z.return=B,z;case D:var W=z._init;return z=W(z._payload),Q(B,z,I)}if(Ee(z)||ce(z))return z=co(z,B.mode,I,null),z.return=B,z;if(typeof z.then=="function")return Q(B,of(z),I);if(z.$$typeof===A)return Q(B,Yd(B,z),I);af(B,z)}return null}function U(B,z,I,W){var le=z!==null?z.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return le!==null?null:E(B,z,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case y:return I.key===le?R(B,z,I,W):null;case x:return I.key===le?V(B,z,I,W):null;case D:return le=I._init,I=le(I._payload),U(B,z,I,W)}if(Ee(I)||ce(I))return le!==null?null:G(B,z,I,W,null);if(typeof I.then=="function")return U(B,z,of(I),W);if(I.$$typeof===A)return U(B,z,Yd(B,I),W);af(B,I)}return null}function $(B,z,I,W,le){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(I)||null,E(z,B,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return B=B.get(W.key===null?I:W.key)||null,R(z,B,W,le);case x:return B=B.get(W.key===null?I:W.key)||null,V(z,B,W,le);case D:var De=W._init;return W=De(W._payload),$(B,z,I,W,le)}if(Ee(W)||ce(W))return B=B.get(I)||null,G(z,B,W,le,null);if(typeof W.then=="function")return $(B,z,I,of(W),le);if(W.$$typeof===A)return $(B,z,I,Yd(z,W),le);af(z,W)}return null}function ve(B,z,I,W){for(var le=null,De=null,ue=z,ye=z=0,qt=null;ue!==null&&ye<I.length;ye++){ue.index>ye?(qt=ue,ue=null):qt=ue.sibling;var Ve=U(B,ue,I[ye],W);if(Ve===null){ue===null&&(ue=qt);break}i&&ue&&Ve.alternate===null&&l(B,ue),z=b(Ve,z,ye),De===null?le=Ve:De.sibling=Ve,De=Ve,ue=qt}if(ye===I.length)return u(B,ue),Fe&&fo(B,ye),le;if(ue===null){for(;ye<I.length;ye++)ue=Q(B,I[ye],W),ue!==null&&(z=b(ue,z,ye),De===null?le=ue:De.sibling=ue,De=ue);return Fe&&fo(B,ye),le}for(ue=h(ue);ye<I.length;ye++)qt=$(ue,B,ye,I[ye],W),qt!==null&&(i&&qt.alternate!==null&&ue.delete(qt.key===null?ye:qt.key),z=b(qt,z,ye),De===null?le=qt:De.sibling=qt,De=qt);return i&&ue.forEach(function(Mi){return l(B,Mi)}),Fe&&fo(B,ye),le}function me(B,z,I,W){if(I==null)throw Error(r(151));for(var le=null,De=null,ue=z,ye=z=0,qt=null,Ve=I.next();ue!==null&&!Ve.done;ye++,Ve=I.next()){ue.index>ye?(qt=ue,ue=null):qt=ue.sibling;var Mi=U(B,ue,Ve.value,W);if(Mi===null){ue===null&&(ue=qt);break}i&&ue&&Mi.alternate===null&&l(B,ue),z=b(Mi,z,ye),De===null?le=Mi:De.sibling=Mi,De=Mi,ue=qt}if(Ve.done)return u(B,ue),Fe&&fo(B,ye),le;if(ue===null){for(;!Ve.done;ye++,Ve=I.next())Ve=Q(B,Ve.value,W),Ve!==null&&(z=b(Ve,z,ye),De===null?le=Ve:De.sibling=Ve,De=Ve);return Fe&&fo(B,ye),le}for(ue=h(ue);!Ve.done;ye++,Ve=I.next())Ve=$(ue,B,ye,Ve.value,W),Ve!==null&&(i&&Ve.alternate!==null&&ue.delete(Ve.key===null?ye:Ve.key),z=b(Ve,z,ye),De===null?le=Ve:De.sibling=Ve,De=Ve);return i&&ue.forEach(function(AP){return l(B,AP)}),Fe&&fo(B,ye),le}function Je(B,z,I,W){if(typeof I=="object"&&I!==null&&I.type===S&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case y:e:{for(var le=I.key;z!==null;){if(z.key===le){if(le=I.type,le===S){if(z.tag===7){u(B,z.sibling),W=g(z,I.props.children),W.return=B,B=W;break e}}else if(z.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===D&&fC(le)===z.type){u(B,z.sibling),W=g(z,I.props),Tc(W,I),W.return=B,B=W;break e}u(B,z);break}else l(B,z);z=z.sibling}I.type===S?(W=co(I.props.children,B.mode,W,I.key),W.return=B,B=W):(W=Hd(I.type,I.key,I.props,null,B.mode,W),Tc(W,I),W.return=B,B=W)}return T(B);case x:e:{for(le=I.key;z!==null;){if(z.key===le)if(z.tag===4&&z.stateNode.containerInfo===I.containerInfo&&z.stateNode.implementation===I.implementation){u(B,z.sibling),W=g(z,I.children||[]),W.return=B,B=W;break e}else{u(B,z);break}else l(B,z);z=z.sibling}W=Cg(I,B.mode,W),W.return=B,B=W}return T(B);case D:return le=I._init,I=le(I._payload),Je(B,z,I,W)}if(Ee(I))return ve(B,z,I,W);if(ce(I)){if(le=ce(I),typeof le!="function")throw Error(r(150));return I=le.call(I),me(B,z,I,W)}if(typeof I.then=="function")return Je(B,z,of(I),W);if(I.$$typeof===A)return Je(B,z,Yd(B,I),W);af(B,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,z!==null&&z.tag===6?(u(B,z.sibling),W=g(z,I),W.return=B,B=W):(u(B,z),W=wg(I,B.mode,W),W.return=B,B=W),T(B)):u(B,z)}return function(B,z,I,W){try{kc=0;var le=Je(B,z,I,W);return La=null,le}catch(ue){if(ue===mc||ue===Wd)throw ue;var De=qn(29,ue,null,B.mode);return De.lanes=W,De.return=B,De}finally{}}}var Pa=hC(!0),pC=hC(!1),dr=K(null),Xr=null;function hi(i){var l=i.alternate;re(It,It.current&1),re(dr,i),Xr===null&&(l===null||Na.current!==null||l.memoizedState!==null)&&(Xr=i)}function mC(i){if(i.tag===22){if(re(It,It.current),re(dr,i),Xr===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Xr=i)}}else pi()}function pi(){re(It,It.current),re(dr,dr.current)}function Ts(i){ie(dr),Xr===i&&(Xr=null),ie(It)}var It=K(0);function lf(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||qy(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function ny(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var ry={enqueueSetState:function(i,l,u){i=i._reactInternals;var h=Kn(),g=ui(h);g.payload=l,u!=null&&(g.callback=u),l=di(i,g,h),l!==null&&(Qn(l,i,h),yc(l,i,h))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=Kn(),g=ui(h);g.tag=1,g.payload=l,u!=null&&(g.callback=u),l=di(i,g,h),l!==null&&(Qn(l,i,h),yc(l,i,h))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=Kn(),h=ui(u);h.tag=2,l!=null&&(h.callback=l),l=di(i,h,u),l!==null&&(Qn(l,i,u),yc(l,i,u))}};function gC(i,l,u,h,g,b,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,b,T):l.prototype&&l.prototype.isPureReactComponent?!ac(u,h)||!ac(g,b):!0}function yC(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&ry.enqueueReplaceState(l,l.state,null)}function bo(i,l){var u=l;if("ref"in l){u={};for(var h in l)h!=="ref"&&(u[h]=l[h])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}var cf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function vC(i){cf(i)}function bC(i){console.error(i)}function xC(i){cf(i)}function uf(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function SC(i,l,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function sy(i,l,u){return u=ui(u),u.tag=3,u.payload={element:null},u.callback=function(){uf(i,l)},u}function wC(i){return i=ui(i),i.tag=3,i}function CC(i,l,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var b=h.value;i.payload=function(){return g(b)},i.callback=function(){SC(l,u,h)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){SC(l,u,h),typeof g!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var E=h.stack;this.componentDidCatch(h.value,{componentStack:E!==null?E:""})})}function AL(i,l,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=u.alternate,l!==null&&fc(l,u,g,!0),u=dr.current,u!==null){switch(u.tag){case 13:return Xr===null?My():u.alternate===null&&yt===0&&(yt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Rg?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([h]):l.add(h),Ay(i,h,g)),!1;case 22:return u.flags|=65536,h===Rg?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([h]):u.add(h)),Ay(i,h,g)),!1}throw Error(r(435,u.tag))}return Ay(i,h,g),My(),!1}if(Fe)return l=dr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,h!==_g&&(i=Error(r(422),{cause:h}),dc(ar(i,u)))):(h!==_g&&(l=Error(r(423),{cause:h}),dc(ar(l,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=ar(h,u),g=sy(i.stateNode,h,g),Pg(i,g),yt!==4&&(yt=2)),!1;var b=Error(r(520),{cause:h});if(b=ar(b,u),Dc===null?Dc=[b]:Dc.push(b),yt!==4&&(yt=2),l===null)return!0;h=ar(h,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=sy(u.stateNode,h,i),Pg(u,i),!1;case 1:if(l=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xi===null||!xi.has(b))))return u.flags|=65536,g&=-g,u.lanes|=g,g=wC(g),CC(g,i,u,h),Pg(u,g),!1}u=u.return}while(u!==null);return!1}var kC=Error(r(461)),$t=!1;function Xt(i,l,u,h){l.child=i===null?pC(l,null,u,h):Pa(l,i.child,u,h)}function TC(i,l,u,h,g){u=u.render;var b=l.ref;if("ref"in h){var T={};for(var E in h)E!=="ref"&&(T[E]=h[E])}else T=h;return go(l),h=Ug(i,l,u,T,b,g),E=Hg(),i!==null&&!$t?($g(i,l,g),_s(i,l,g)):(Fe&&E&&kg(l),l.flags|=1,Xt(i,l,h,g),l.child)}function _C(i,l,u,h,g){if(i===null){var b=u.type;return typeof b=="function"&&!Sg(b)&&b.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=b,EC(i,l,b,h,g)):(i=Hd(u.type,null,h,l,l.mode,g),i.ref=l.ref,i.return=l,l.child=i)}if(b=i.child,!fy(i,g)){var T=b.memoizedProps;if(u=u.compare,u=u!==null?u:ac,u(T,h)&&i.ref===l.ref)return _s(i,l,g)}return l.flags|=1,i=bs(b,h),i.ref=l.ref,i.return=l,l.child=i}function EC(i,l,u,h,g){if(i!==null){var b=i.memoizedProps;if(ac(b,h)&&i.ref===l.ref)if($t=!1,l.pendingProps=h=b,fy(i,g))(i.flags&131072)!==0&&($t=!0);else return l.lanes=i.lanes,_s(i,l,g)}return iy(i,l,u,h,g)}function MC(i,l,u){var h=l.pendingProps,g=h.children,b=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((l.flags&128)!==0){if(h=b!==null?b.baseLanes|u:u,i!==null){for(g=l.child=i.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;l.childLanes=b&~h}else l.childLanes=0,l.child=null;return OC(i,l,h,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gd(l,b!==null?b.cachePool:null),b!==null?Ew(l,b):Bg(),mC(l);else return l.lanes=l.childLanes=536870912,OC(i,l,b!==null?b.baseLanes|u:u,u)}else b!==null?(Gd(l,b.cachePool),Ew(l,b),pi(),l.memoizedState=null):(i!==null&&Gd(l,null),Bg(),pi());return Xt(i,l,g,u),l.child}function OC(i,l,u,h){var g=Dg();return g=g===null?null:{parent:Bt._currentValue,pool:g},l.memoizedState={baseLanes:u,cachePool:g},i!==null&&Gd(l,null),Bg(),mC(l),i!==null&&fc(i,l,h,!0),null}function df(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function iy(i,l,u,h,g){return go(l),u=Ug(i,l,u,h,void 0,g),h=Hg(),i!==null&&!$t?($g(i,l,g),_s(i,l,g)):(Fe&&h&&kg(l),l.flags|=1,Xt(i,l,u,g),l.child)}function AC(i,l,u,h,g,b){return go(l),l.updateQueue=null,u=Ow(l,h,u,g),Mw(i),h=Hg(),i!==null&&!$t?($g(i,l,b),_s(i,l,b)):(Fe&&h&&kg(l),l.flags|=1,Xt(i,l,u,b),l.child)}function NC(i,l,u,h,g){if(go(l),l.stateNode===null){var b=_a,T=u.contextType;typeof T=="object"&&T!==null&&(b=ln(T)),b=new u(h,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=ry,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=h,b.state=l.memoizedState,b.refs={},jg(l),T=u.contextType,b.context=typeof T=="object"&&T!==null?ln(T):_a,b.state=l.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(ny(l,u,T,h),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&ry.enqueueReplaceState(b,b.state,null),bc(l,h,b,g),vc(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(i===null){b=l.stateNode;var E=l.memoizedProps,R=bo(u,E);b.props=R;var V=b.context,G=u.contextType;T=_a,typeof G=="object"&&G!==null&&(T=ln(G));var Q=u.getDerivedStateFromProps;G=typeof Q=="function"||typeof b.getSnapshotBeforeUpdate=="function",E=l.pendingProps!==E,G||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E||V!==T)&&yC(l,b,h,T),ci=!1;var U=l.memoizedState;b.state=U,bc(l,h,b,g),vc(),V=l.memoizedState,E||U!==V||ci?(typeof Q=="function"&&(ny(l,u,Q,h),V=l.memoizedState),(R=ci||gC(l,u,R,h,U,V,T))?(G||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=V),b.props=h,b.state=V,b.context=T,h=R):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{b=l.stateNode,Lg(i,l),T=l.memoizedProps,G=bo(u,T),b.props=G,Q=l.pendingProps,U=b.context,V=u.contextType,R=_a,typeof V=="object"&&V!==null&&(R=ln(V)),E=u.getDerivedStateFromProps,(V=typeof E=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==Q||U!==R)&&yC(l,b,h,R),ci=!1,U=l.memoizedState,b.state=U,bc(l,h,b,g),vc();var $=l.memoizedState;T!==Q||U!==$||ci||i!==null&&i.dependencies!==null&&qd(i.dependencies)?(typeof E=="function"&&(ny(l,u,E,h),$=l.memoizedState),(G=ci||gC(l,u,G,h,U,$,R)||i!==null&&i.dependencies!==null&&qd(i.dependencies))?(V||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,$,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,$,R)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&U===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&U===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=$),b.props=h,b.state=$,b.context=R,h=G):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&U===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&U===i.memoizedState||(l.flags|=1024),h=!1)}return b=h,df(i,l),h=(l.flags&128)!==0,b||h?(b=l.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,i!==null&&h?(l.child=Pa(l,i.child,null,g),l.child=Pa(l,null,u,g)):Xt(i,l,u,g),l.memoizedState=b.state,i=l.child):i=_s(i,l,g),i}function DC(i,l,u,h){return uc(),l.flags|=256,Xt(i,l,u,h),l.child}var oy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ay(i){return{baseLanes:i,cachePool:bw()}}function ly(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=fr),i}function RC(i,l,u){var h=l.pendingProps,g=!1,b=(l.flags&128)!==0,T;if((T=b)||(T=i!==null&&i.memoizedState===null?!1:(It.current&2)!==0),T&&(g=!0,l.flags&=-129),T=(l.flags&32)!==0,l.flags&=-33,i===null){if(Fe){if(g?hi(l):pi(),Fe){var E=gt,R;if(R=E){e:{for(R=E,E=Qr;R.nodeType!==8;){if(!E){E=null;break e}if(R=Nr(R.nextSibling),R===null){E=null;break e}}E=R}E!==null?(l.memoizedState={dehydrated:E,treeContext:uo!==null?{id:xs,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},R=qn(18,null,null,0),R.stateNode=E,R.return=l,l.child=R,bn=l,gt=null,R=!0):R=!1}R||po(l)}if(E=l.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return qy(E)?l.lanes=32:l.lanes=536870912,null;Ts(l)}return E=h.children,h=h.fallback,g?(pi(),g=l.mode,E=ff({mode:"hidden",children:E},g),h=co(h,g,u,null),E.return=l,h.return=l,E.sibling=h,l.child=E,g=l.child,g.memoizedState=ay(u),g.childLanes=ly(i,T,u),l.memoizedState=oy,h):(hi(l),cy(l,E))}if(R=i.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(b)l.flags&256?(hi(l),l.flags&=-257,l=uy(i,l,u)):l.memoizedState!==null?(pi(),l.child=i.child,l.flags|=128,l=null):(pi(),g=h.fallback,E=l.mode,h=ff({mode:"visible",children:h.children},E),g=co(g,E,u,null),g.flags|=2,h.return=l,g.return=l,h.sibling=g,l.child=h,Pa(l,i.child,null,u),h=l.child,h.memoizedState=ay(u),h.childLanes=ly(i,T,u),l.memoizedState=oy,l=g);else if(hi(l),qy(E)){if(T=E.nextSibling&&E.nextSibling.dataset,T)var V=T.dgst;T=V,h=Error(r(419)),h.stack="",h.digest=T,dc({value:h,source:null,stack:null}),l=uy(i,l,u)}else if($t||fc(i,l,u,!1),T=(u&i.childLanes)!==0,$t||T){if(T=rt,T!==null&&(h=u&-u,h=(h&42)!==0?1:Ym(h),h=(h&(T.suspendedLanes|u))!==0?0:h,h!==0&&h!==R.retryLane))throw R.retryLane=h,Ta(i,h),Qn(T,i,h),kC;E.data==="$?"||My(),l=uy(i,l,u)}else E.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=R.treeContext,gt=Nr(E.nextSibling),bn=l,Fe=!0,ho=null,Qr=!1,i!==null&&(cr[ur++]=xs,cr[ur++]=Ss,cr[ur++]=uo,xs=i.id,Ss=i.overflow,uo=l),l=cy(l,h.children),l.flags|=4096);return l}return g?(pi(),g=h.fallback,E=l.mode,R=i.child,V=R.sibling,h=bs(R,{mode:"hidden",children:h.children}),h.subtreeFlags=R.subtreeFlags&65011712,V!==null?g=bs(V,g):(g=co(g,E,u,null),g.flags|=2),g.return=l,h.return=l,h.sibling=g,l.child=h,h=g,g=l.child,E=i.child.memoizedState,E===null?E=ay(u):(R=E.cachePool,R!==null?(V=Bt._currentValue,R=R.parent!==V?{parent:V,pool:V}:R):R=bw(),E={baseLanes:E.baseLanes|u,cachePool:R}),g.memoizedState=E,g.childLanes=ly(i,T,u),l.memoizedState=oy,h):(hi(l),u=i.child,i=u.sibling,u=bs(u,{mode:"visible",children:h.children}),u.return=l,u.sibling=null,i!==null&&(T=l.deletions,T===null?(l.deletions=[i],l.flags|=16):T.push(i)),l.child=u,l.memoizedState=null,u)}function cy(i,l){return l=ff({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function ff(i,l){return i=qn(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function uy(i,l,u){return Pa(l,i.child,null,u),i=cy(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function jC(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),Mg(i.return,l,u)}function dy(i,l,u,h,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=u,b.tailMode=g)}function LC(i,l,u){var h=l.pendingProps,g=h.revealOrder,b=h.tail;if(Xt(i,l,h.children,u),h=It.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jC(i,u,l);else if(i.tag===19)jC(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(re(It,h),g){case"forwards":for(u=l.child,g=null;u!==null;)i=u.alternate,i!==null&&lf(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),dy(l,!1,g,u,b);break;case"backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(i=g.alternate,i!==null&&lf(i)===null){l.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}dy(l,!0,u,null,b);break;case"together":dy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function _s(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),bi|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(fc(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,u=bs(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=bs(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function fy(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&qd(i)))}function NL(i,l,u){switch(l.tag){case 3:at(l,l.stateNode.containerInfo),li(l,Bt,i.memoizedState.cache),uc();break;case 27:case 5:Um(l);break;case 4:at(l,l.stateNode.containerInfo);break;case 10:li(l,l.type,l.memoizedProps.value);break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(hi(l),l.flags|=128,null):(u&l.child.childLanes)!==0?RC(i,l,u):(hi(l),i=_s(i,l,u),i!==null?i.sibling:null);hi(l);break;case 19:var g=(i.flags&128)!==0;if(h=(u&l.childLanes)!==0,h||(fc(i,l,u,!1),h=(u&l.childLanes)!==0),g){if(h)return LC(i,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),re(It,It.current),h)break;return null;case 22:case 23:return l.lanes=0,MC(i,l,u);case 24:li(l,Bt,i.memoizedState.cache)}return _s(i,l,u)}function PC(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)$t=!0;else{if(!fy(i,u)&&(l.flags&128)===0)return $t=!1,NL(i,l,u);$t=(i.flags&131072)!==0}else $t=!1,Fe&&(l.flags&1048576)!==0&&fw(l,Fd,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var h=l.elementType,g=h._init;if(h=g(h._payload),l.type=h,typeof h=="function")Sg(h)?(i=bo(h,i),l.tag=1,l=NC(null,l,h,i,u)):(l.tag=0,l=iy(null,l,h,i,u));else{if(h!=null){if(g=h.$$typeof,g===N){l.tag=11,l=TC(null,l,h,i,u);break e}else if(g===P){l.tag=14,l=_C(null,l,h,i,u);break e}}throw l=Ae(h)||h,Error(r(306,l,""))}}return l;case 0:return iy(i,l,l.type,l.pendingProps,u);case 1:return h=l.type,g=bo(h,l.pendingProps),NC(i,l,h,g,u);case 3:e:{if(at(l,l.stateNode.containerInfo),i===null)throw Error(r(387));h=l.pendingProps;var b=l.memoizedState;g=b.element,Lg(i,l),bc(l,h,null,u);var T=l.memoizedState;if(h=T.cache,li(l,Bt,h),h!==b.cache&&Og(l,[Bt],u,!0),vc(),h=T.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:T.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=DC(i,l,h,u);break e}else if(h!==g){g=ar(Error(r(424)),l),dc(g),l=DC(i,l,h,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(gt=Nr(i.firstChild),bn=l,Fe=!0,ho=null,Qr=!0,u=pC(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(uc(),h===g){l=_s(i,l,u);break e}Xt(i,l,h,u)}l=l.child}return l;case 26:return df(i,l),i===null?(u=Vk(l.type,null,l.pendingProps,null))?l.memoizedState=u:Fe||(u=l.type,i=l.pendingProps,h=_f(Se.current).createElement(u),h[an]=l,h[On]=i,Zt(h,u,i),Ht(h),l.stateNode=h):l.memoizedState=Vk(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Um(l),i===null&&Fe&&(h=l.stateNode=zk(l.type,l.pendingProps,Se.current),bn=l,Qr=!0,g=gt,Ci(l.type)?(Yy=g,gt=Nr(h.firstChild)):gt=g),Xt(i,l,l.pendingProps.children,u),df(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Fe&&((g=h=gt)&&(h=iP(h,l.type,l.pendingProps,Qr),h!==null?(l.stateNode=h,bn=l,gt=Nr(h.firstChild),Qr=!1,g=!0):g=!1),g||po(l)),Um(l),g=l.type,b=l.pendingProps,T=i!==null?i.memoizedProps:null,h=b.children,Hy(g,b)?h=null:T!==null&&Hy(g,T)&&(l.flags|=32),l.memoizedState!==null&&(g=Ug(i,l,CL,null,null,u),Uc._currentValue=g),df(i,l),Xt(i,l,h,u),l.child;case 6:return i===null&&Fe&&((i=u=gt)&&(u=oP(u,l.pendingProps,Qr),u!==null?(l.stateNode=u,bn=l,gt=null,i=!0):i=!1),i||po(l)),null;case 13:return RC(i,l,u);case 4:return at(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=Pa(l,null,h,u):Xt(i,l,h,u),l.child;case 11:return TC(i,l,l.type,l.pendingProps,u);case 7:return Xt(i,l,l.pendingProps,u),l.child;case 8:return Xt(i,l,l.pendingProps.children,u),l.child;case 12:return Xt(i,l,l.pendingProps.children,u),l.child;case 10:return h=l.pendingProps,li(l,l.type,h.value),Xt(i,l,h.children,u),l.child;case 9:return g=l.type._context,h=l.pendingProps.children,go(l),g=ln(g),h=h(g),l.flags|=1,Xt(i,l,h,u),l.child;case 14:return _C(i,l,l.type,l.pendingProps,u);case 15:return EC(i,l,l.type,l.pendingProps,u);case 19:return LC(i,l,u);case 31:return h=l.pendingProps,u=l.mode,h={mode:h.mode,children:h.children},i===null?(u=ff(h,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=bs(i.child,h),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return MC(i,l,u);case 24:return go(l),h=ln(Bt),i===null?(g=Dg(),g===null&&(g=rt,b=Ag(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=u),g=b),l.memoizedState={parent:h,cache:g},jg(l),li(l,Bt,g)):((i.lanes&u)!==0&&(Lg(i,l),bc(l,null,null,u),vc()),g=i.memoizedState,b=l.memoizedState,g.parent!==h?(g={parent:h,cache:h},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),li(l,Bt,h)):(h=b.cache,li(l,Bt,h),h!==g.cache&&Og(l,[Bt],u,!0))),Xt(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Es(i){i.flags|=4}function zC(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qk(l)){if(l=dr.current,l!==null&&((ze&4194048)===ze?Xr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||l!==Xr))throw gc=Rg,xw;i.flags|=8192}}function hf(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?mS():536870912,i.lanes|=l,Va|=l)}function _c(i,l){if(!Fe)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function ft(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function DL(i,l,u){var h=l.pendingProps;switch(Tg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(l),null;case 1:return ft(l),null;case 3:return u=l.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Cs(Bt),si(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(cc(l)?Es(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mw())),ft(l),null;case 26:return u=l.memoizedState,i===null?(Es(l),u!==null?(ft(l),zC(l,u)):(ft(l),l.flags&=-16777217)):u?u!==i.memoizedState?(Es(l),ft(l),zC(l,u)):(ft(l),l.flags&=-16777217):(i.memoizedProps!==h&&Es(l),ft(l),l.flags&=-16777217),null;case 27:Cd(l),u=Se.current;var g=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Es(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return ft(l),null}i=de.current,cc(l)?hw(l):(i=zk(g,h,u),l.stateNode=i,Es(l))}return ft(l),null;case 5:if(Cd(l),u=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Es(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return ft(l),null}if(i=de.current,cc(l))hw(l);else{switch(g=_f(Se.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(u,{is:h.is}):g.createElement(u)}}i[an]=l,i[On]=h;e:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break e;for(;g.sibling===null;){if(g.return===null||g.return===l)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=i;e:switch(Zt(i,u,h),u){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Es(l)}}return ft(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==h&&Es(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(i=Se.current,cc(l)){if(i=l.stateNode,u=l.memoizedProps,h=null,g=bn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[an]=l,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||Ak(i.nodeValue,u)),i||po(l)}else i=_f(i).createTextNode(h),i[an]=l,l.stateNode=i}return ft(l),null;case 13:if(h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=cc(l),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[an]=l}else uc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ft(l),g=!1}else g=mw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(Ts(l),l):(Ts(l),null)}if(Ts(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=h!==null,i=i!==null&&i.memoizedState!==null,u){h=l.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==g&&(h.flags|=2048)}return u!==i&&u&&(l.child.flags|=8192),hf(l,l.updateQueue),ft(l),null;case 4:return si(),i===null&&zy(l.stateNode.containerInfo),ft(l),null;case 10:return Cs(l.type),ft(l),null;case 19:if(ie(It),g=l.memoizedState,g===null)return ft(l),null;if(h=(l.flags&128)!==0,b=g.rendering,b===null)if(h)_c(g,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(b=lf(i),b!==null){for(l.flags|=128,_c(g,!1),i=b.updateQueue,l.updateQueue=i,hf(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)dw(u,i),u=u.sibling;return re(It,It.current&1|2),l.child}i=i.sibling}g.tail!==null&&Kr()>gf&&(l.flags|=128,h=!0,_c(g,!1),l.lanes=4194304)}else{if(!h)if(i=lf(b),i!==null){if(l.flags|=128,h=!0,i=i.updateQueue,l.updateQueue=i,hf(l,i),_c(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!Fe)return ft(l),null}else 2*Kr()-g.renderingStartTime>gf&&u!==536870912&&(l.flags|=128,h=!0,_c(g,!1),l.lanes=4194304);g.isBackwards?(b.sibling=l.child,l.child=b):(i=g.last,i!==null?i.sibling=b:l.child=b,g.last=b)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=Kr(),l.sibling=null,i=It.current,re(It,h?i&1|2:i&1),l):(ft(l),null);case 22:case 23:return Ts(l),Ig(),h=l.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(u&536870912)!==0&&(l.flags&128)===0&&(ft(l),l.subtreeFlags&6&&(l.flags|=8192)):ft(l),u=l.updateQueue,u!==null&&hf(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048),i!==null&&ie(yo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Cs(Bt),ft(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function RL(i,l){switch(Tg(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Cs(Bt),si(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Cd(l),null;case 13:if(Ts(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));uc()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ie(It),null;case 4:return si(),null;case 10:return Cs(l.type),null;case 22:case 23:return Ts(l),Ig(),i!==null&&ie(yo),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Cs(Bt),null;case 25:return null;default:return null}}function BC(i,l){switch(Tg(l),l.tag){case 3:Cs(Bt),si();break;case 26:case 27:case 5:Cd(l);break;case 4:si();break;case 13:Ts(l);break;case 19:ie(It);break;case 10:Cs(l.type);break;case 22:case 23:Ts(l),Ig(),i!==null&&ie(yo);break;case 24:Cs(Bt)}}function Ec(i,l){try{var u=l.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){h=void 0;var b=u.create,T=u.inst;h=b(),T.destroy=h}u=u.next}while(u!==g)}}catch(E){tt(l,l.return,E)}}function mi(i,l,u){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var b=g.next;h=b;do{if((h.tag&i)===i){var T=h.inst,E=T.destroy;if(E!==void 0){T.destroy=void 0,g=l;var R=u,V=E;try{V()}catch(G){tt(g,R,G)}}}h=h.next}while(h!==b)}}catch(G){tt(l,l.return,G)}}function IC(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{_w(l,u)}catch(h){tt(i,i.return,h)}}}function VC(i,l,u){u.props=bo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){tt(i,l,h)}}function Mc(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(g){tt(i,l,g)}}function Jr(i,l){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){tt(i,l,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){tt(i,l,g)}else u.current=null}function UC(i){var l=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){tt(i,i.return,g)}}function hy(i,l,u){try{var h=i.stateNode;eP(h,i.type,u,l),h[On]=l}catch(g){tt(i,i.return,g)}}function HC(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ci(i.type)||i.tag===4}function py(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||HC(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ci(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function my(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Tf));else if(h!==4&&(h===27&&Ci(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(my(i,l,u),i=i.sibling;i!==null;)my(i,l,u),i=i.sibling}function pf(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(h===27&&Ci(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(pf(i,l,u),i=i.sibling;i!==null;)pf(i,l,u),i=i.sibling}function $C(i){var l=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);Zt(l,h,u),l[an]=i,l[On]=u}catch(b){tt(i,i.return,b)}}var Ms=!1,Mt=!1,gy=!1,FC=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function jL(i,l){if(i=i.containerInfo,Vy=Df,i=tw(i),pg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var T=0,E=-1,R=-1,V=0,G=0,Q=i,U=null;t:for(;;){for(var $;Q!==u||g!==0&&Q.nodeType!==3||(E=T+g),Q!==b||h!==0&&Q.nodeType!==3||(R=T+h),Q.nodeType===3&&(T+=Q.nodeValue.length),($=Q.firstChild)!==null;)U=Q,Q=$;for(;;){if(Q===i)break t;if(U===u&&++V===g&&(E=T),U===b&&++G===h&&(R=T),($=Q.nextSibling)!==null)break;Q=U,U=Q.parentNode}Q=$}u=E===-1||R===-1?null:{start:E,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(Uy={focusedElem:i,selectionRange:u},Df=!1,Ft=l;Ft!==null;)if(l=Ft,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Ft=i;else for(;Ft!==null;){switch(l=Ft,b=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=l,g=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var ve=bo(u.type,g,u.elementType===u.type);i=h.getSnapshotBeforeUpdate(ve,b),h.__reactInternalSnapshotBeforeUpdate=i}catch(me){tt(u,u.return,me)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Fy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Ft=i;break}Ft=l.return}}function qC(i,l,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:gi(i,u),h&4&&Ec(5,u);break;case 1:if(gi(i,u),h&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(T){tt(u,u.return,T)}else{var g=bo(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(g,l,i.__reactInternalSnapshotBeforeUpdate)}catch(T){tt(u,u.return,T)}}h&64&&IC(u),h&512&&Mc(u,u.return);break;case 3:if(gi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{_w(i,l)}catch(T){tt(u,u.return,T)}}break;case 27:l===null&&h&4&&$C(u);case 26:case 5:gi(i,u),l===null&&h&4&&UC(u),h&512&&Mc(u,u.return);break;case 12:gi(i,u);break;case 13:gi(i,u),h&4&&WC(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=$L.bind(null,u),aP(i,u))));break;case 22:if(h=u.memoizedState!==null||Ms,!h){l=l!==null&&l.memoizedState!==null||Mt,g=Ms;var b=Mt;Ms=h,(Mt=l)&&!b?yi(i,u,(u.subtreeFlags&8772)!==0):gi(i,u),Ms=g,Mt=b}break;case 30:break;default:gi(i,u)}}function YC(i){var l=i.alternate;l!==null&&(i.alternate=null,YC(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Km(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var lt=null,Dn=!1;function Os(i,l,u){for(u=u.child;u!==null;)GC(i,l,u),u=u.sibling}function GC(i,l,u){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Kl,u)}catch{}switch(u.tag){case 26:Mt||Jr(u,l),Os(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Mt||Jr(u,l);var h=lt,g=Dn;Ci(u.type)&&(lt=u.stateNode,Dn=!1),Os(i,l,u),zc(u.stateNode),lt=h,Dn=g;break;case 5:Mt||Jr(u,l);case 6:if(h=lt,g=Dn,lt=null,Os(i,l,u),lt=h,Dn=g,lt!==null)if(Dn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(u.stateNode)}catch(b){tt(u,l,b)}else try{lt.removeChild(u.stateNode)}catch(b){tt(u,l,b)}break;case 18:lt!==null&&(Dn?(i=lt,Lk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),qc(i)):Lk(lt,u.stateNode));break;case 4:h=lt,g=Dn,lt=u.stateNode.containerInfo,Dn=!0,Os(i,l,u),lt=h,Dn=g;break;case 0:case 11:case 14:case 15:Mt||mi(2,u,l),Mt||mi(4,u,l),Os(i,l,u);break;case 1:Mt||(Jr(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"&&VC(u,l,h)),Os(i,l,u);break;case 21:Os(i,l,u);break;case 22:Mt=(h=Mt)||u.memoizedState!==null,Os(i,l,u),Mt=h;break;default:Os(i,l,u)}}function WC(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qc(i)}catch(u){tt(l,l.return,u)}}function LL(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new FC),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new FC),l;default:throw Error(r(435,i.tag))}}function yy(i,l){var u=LL(i);l.forEach(function(h){var g=FL.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}function Yn(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],b=i,T=l,E=T;e:for(;E!==null;){switch(E.tag){case 27:if(Ci(E.type)){lt=E.stateNode,Dn=!1;break e}break;case 5:lt=E.stateNode,Dn=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,Dn=!0;break e}E=E.return}if(lt===null)throw Error(r(160));GC(b,T,g),lt=null,Dn=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)KC(l,i),l=l.sibling}var Ar=null;function KC(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Yn(l,i),Gn(i),h&4&&(mi(3,i,i.return),Ec(3,i),mi(5,i,i.return));break;case 1:Yn(l,i),Gn(i),h&512&&(Mt||u===null||Jr(u,u.return)),h&64&&Ms&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=Ar;if(Yn(l,i),Gn(i),h&512&&(Mt||u===null||Jr(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Jl]||b[an]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(h),g.head.insertBefore(b,g.querySelector("head > title"))),Zt(b,h,u),b[an]=i,Ht(b),h=b;break e;case"link":var T=$k("link","href",g).get(h+(u.href||""));if(T){for(var E=0;E<T.length;E++)if(b=T[E],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(E,1);break t}}b=g.createElement(h),Zt(b,h,u),g.head.appendChild(b);break;case"meta":if(T=$k("meta","content",g).get(h+(u.content||""))){for(E=0;E<T.length;E++)if(b=T[E],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(E,1);break t}}b=g.createElement(h),Zt(b,h,u),g.head.appendChild(b);break;default:throw Error(r(468,h))}b[an]=i,Ht(b),h=b}i.stateNode=h}else Fk(g,i.type,i.stateNode);else i.stateNode=Hk(g,h,i.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?Fk(g,i.type,i.stateNode):Hk(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&hy(i,i.memoizedProps,u.memoizedProps)}break;case 27:Yn(l,i),Gn(i),h&512&&(Mt||u===null||Jr(u,u.return)),u!==null&&h&4&&hy(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Yn(l,i),Gn(i),h&512&&(Mt||u===null||Jr(u,u.return)),i.flags&32){g=i.stateNode;try{va(g,"")}catch($){tt(i,i.return,$)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,hy(i,g,u!==null?u.memoizedProps:g)),h&1024&&(gy=!0);break;case 6:if(Yn(l,i),Gn(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch($){tt(i,i.return,$)}}break;case 3:if(Of=null,g=Ar,Ar=Ef(l.containerInfo),Yn(l,i),Ar=g,Gn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{qc(l.containerInfo)}catch($){tt(i,i.return,$)}gy&&(gy=!1,QC(i));break;case 4:h=Ar,Ar=Ef(i.stateNode.containerInfo),Yn(l,i),Gn(i),Ar=h;break;case 12:Yn(l,i),Gn(i);break;case 13:Yn(l,i),Gn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Cy=Kr()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,yy(i,h)));break;case 22:g=i.memoizedState!==null;var R=u!==null&&u.memoizedState!==null,V=Ms,G=Mt;if(Ms=V||g,Mt=G||R,Yn(l,i),Mt=G,Ms=V,Gn(i),h&8192)e:for(l=i.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(u===null||R||Ms||Mt||xo(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){R=u=l;try{if(b=R.stateNode,g)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch($){tt(R,R.return,$)}}}else if(l.tag===6){if(u===null){R=l;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch($){tt(R,R.return,$)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,yy(i,u))));break;case 19:Yn(l,i),Gn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,yy(i,h)));break;case 30:break;case 21:break;default:Yn(l,i),Gn(i)}}function Gn(i){var l=i.flags;if(l&2){try{for(var u,h=i.return;h!==null;){if(HC(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,b=py(i);pf(i,b,g);break;case 5:var T=u.stateNode;u.flags&32&&(va(T,""),u.flags&=-33);var E=py(i);pf(i,E,T);break;case 3:case 4:var R=u.stateNode.containerInfo,V=py(i);my(i,V,R);break;default:throw Error(r(161))}}catch(G){tt(i,i.return,G)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function QC(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;QC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function gi(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)qC(i,l.alternate,l),l=l.sibling}function xo(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:mi(4,l,l.return),xo(l);break;case 1:Jr(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&VC(l,l.return,u),xo(l);break;case 27:zc(l.stateNode);case 26:case 5:Jr(l,l.return),xo(l);break;case 22:l.memoizedState===null&&xo(l);break;case 30:xo(l);break;default:xo(l)}i=i.sibling}}function yi(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,g=i,b=l,T=b.flags;switch(b.tag){case 0:case 11:case 15:yi(g,b,u),Ec(4,b);break;case 1:if(yi(g,b,u),h=b,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(V){tt(h,h.return,V)}if(h=b,g=h.updateQueue,g!==null){var E=h.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)Tw(R[g],E)}catch(V){tt(h,h.return,V)}}u&&T&64&&IC(b),Mc(b,b.return);break;case 27:$C(b);case 26:case 5:yi(g,b,u),u&&h===null&&T&4&&UC(b),Mc(b,b.return);break;case 12:yi(g,b,u);break;case 13:yi(g,b,u),u&&T&4&&WC(g,b);break;case 22:b.memoizedState===null&&yi(g,b,u),Mc(b,b.return);break;case 30:break;default:yi(g,b,u)}l=l.sibling}}function vy(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&hc(u))}function by(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&hc(i))}function Zr(i,l,u,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)XC(i,l,u,h),l=l.sibling}function XC(i,l,u,h){var g=l.flags;switch(l.tag){case 0:case 11:case 15:Zr(i,l,u,h),g&2048&&Ec(9,l);break;case 1:Zr(i,l,u,h);break;case 3:Zr(i,l,u,h),g&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&hc(i)));break;case 12:if(g&2048){Zr(i,l,u,h),i=l.stateNode;try{var b=l.memoizedProps,T=b.id,E=b.onPostCommit;typeof E=="function"&&E(T,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(R){tt(l,l.return,R)}}else Zr(i,l,u,h);break;case 13:Zr(i,l,u,h);break;case 23:break;case 22:b=l.stateNode,T=l.alternate,l.memoizedState!==null?b._visibility&2?Zr(i,l,u,h):Oc(i,l):b._visibility&2?Zr(i,l,u,h):(b._visibility|=2,za(i,l,u,h,(l.subtreeFlags&10256)!==0)),g&2048&&vy(T,l);break;case 24:Zr(i,l,u,h),g&2048&&by(l.alternate,l);break;default:Zr(i,l,u,h)}}function za(i,l,u,h,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var b=i,T=l,E=u,R=h,V=T.flags;switch(T.tag){case 0:case 11:case 15:za(b,T,E,R,g),Ec(8,T);break;case 23:break;case 22:var G=T.stateNode;T.memoizedState!==null?G._visibility&2?za(b,T,E,R,g):Oc(b,T):(G._visibility|=2,za(b,T,E,R,g)),g&&V&2048&&vy(T.alternate,T);break;case 24:za(b,T,E,R,g),g&&V&2048&&by(T.alternate,T);break;default:za(b,T,E,R,g)}l=l.sibling}}function Oc(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,h=l,g=h.flags;switch(h.tag){case 22:Oc(u,h),g&2048&&vy(h.alternate,h);break;case 24:Oc(u,h),g&2048&&by(h.alternate,h);break;default:Oc(u,h)}l=l.sibling}}var Ac=8192;function Ba(i){if(i.subtreeFlags&Ac)for(i=i.child;i!==null;)JC(i),i=i.sibling}function JC(i){switch(i.tag){case 26:Ba(i),i.flags&Ac&&i.memoizedState!==null&&xP(Ar,i.memoizedState,i.memoizedProps);break;case 5:Ba(i);break;case 3:case 4:var l=Ar;Ar=Ef(i.stateNode.containerInfo),Ba(i),Ar=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ac,Ac=16777216,Ba(i),Ac=l):Ba(i));break;default:Ba(i)}}function ZC(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Nc(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Ft=h,tk(h,i)}ZC(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ek(i),i=i.sibling}function ek(i){switch(i.tag){case 0:case 11:case 15:Nc(i),i.flags&2048&&mi(9,i,i.return);break;case 3:Nc(i);break;case 12:Nc(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,mf(i)):Nc(i);break;default:Nc(i)}}function mf(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Ft=h,tk(h,i)}ZC(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:mi(8,l,l.return),mf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,mf(l));break;default:mf(l)}i=i.sibling}}function tk(i,l){for(;Ft!==null;){var u=Ft;switch(u.tag){case 0:case 11:case 15:mi(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:hc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ft=h;else e:for(u=i;Ft!==null;){h=Ft;var g=h.sibling,b=h.return;if(YC(h),h===u){Ft=null;break e}if(g!==null){g.return=b,Ft=g;break e}Ft=b}}}var PL={getCacheForType:function(i){var l=ln(Bt),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u}},zL=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Re=null,ze=0,Ge=0,Wn=null,vi=!1,Ia=!1,xy=!1,As=0,yt=0,bi=0,So=0,Sy=0,fr=0,Va=0,Dc=null,Rn=null,wy=!1,Cy=0,gf=1/0,yf=null,xi=null,Jt=0,Si=null,Ua=null,Ha=0,ky=0,Ty=null,nk=null,Rc=0,_y=null;function Kn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(q.T!==null){var i=Oa;return i!==0?i:Ry()}return vS()}function rk(){fr===0&&(fr=(ze&536870912)===0||Fe?pS():536870912);var i=dr.current;return i!==null&&(i.flags|=32),fr}function Qn(i,l,u){(i===rt&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)&&($a(i,0),wi(i,ze,fr,!1)),Xl(i,u),((Ye&2)===0||i!==rt)&&(i===rt&&((Ye&2)===0&&(So|=u),yt===4&&wi(i,ze,fr,!1)),es(i))}function sk(i,l,u){if((Ye&6)!==0)throw Error(r(327));var h=!u&&(l&124)===0&&(l&i.expiredLanes)===0||Ql(i,l),g=h?VL(i,l):Oy(i,l,!0),b=h;do{if(g===0){Ia&&!h&&wi(i,l,0,!1);break}else{if(u=i.current.alternate,b&&!BL(u)){g=Oy(i,l,!1),b=!1;continue}if(g===2){if(b=l,i.errorRecoveryDisabledLanes&b)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){l=T;e:{var E=i;g=Dc;var R=E.current.memoizedState.isDehydrated;if(R&&($a(E,T).flags|=256),T=Oy(E,T,!1),T!==2){if(xy&&!R){E.errorRecoveryDisabledLanes|=b,So|=b,g=4;break e}b=Rn,Rn=g,b!==null&&(Rn===null?Rn=b:Rn.push.apply(Rn,b))}g=T}if(b=!1,g!==2)continue}}if(g===1){$a(i,0),wi(i,l,0,!0);break}e:{switch(h=i,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:wi(h,l,fr,!vi);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(g=Cy+300-Kr(),10<g)){if(wi(h,l,fr,!vi),Ed(h,0,!0)!==0)break e;h.timeoutHandle=Rk(ik.bind(null,h,u,Rn,yf,wy,l,fr,So,Va,vi,b,2,-0,0),g);break e}ik(h,u,Rn,yf,wy,l,fr,So,Va,vi,b,0,-0,0)}}break}while(!0);es(i)}function ik(i,l,u,h,g,b,T,E,R,V,G,Q,U,$){if(i.timeoutHandle=-1,Q=l.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Vc={stylesheets:null,count:0,unsuspend:bP},JC(l),Q=SP(),Q!==null)){i.cancelPendingCommit=Q(fk.bind(null,i,l,b,u,h,g,T,E,R,G,1,U,$)),wi(i,b,T,!V);return}fk(i,l,b,u,h,g,T,E,R)}function BL(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],b=g.getSnapshot;g=g.value;try{if(!Fn(b(),g))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function wi(i,l,u,h){l&=~Sy,l&=~So,i.suspendedLanes|=l,i.pingedLanes&=~l,h&&(i.warmLanes|=l),h=i.expirationTimes;for(var g=l;0<g;){var b=31-$n(g),T=1<<b;h[b]=-1,g&=~T}u!==0&&gS(i,u,l)}function vf(){return(Ye&6)===0?(jc(0),!1):!0}function Ey(){if(Re!==null){if(Ge===0)var i=Re.return;else i=Re,ws=mo=null,Fg(i),La=null,kc=0,i=Re;for(;i!==null;)BC(i.alternate,i),i=i.return;Re=null}}function $a(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,nP(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ey(),rt=i,Re=u=bs(i.current,null),ze=l,Ge=0,Wn=null,vi=!1,Ia=Ql(i,l),xy=!1,Va=fr=Sy=So=bi=yt=0,Rn=Dc=null,wy=!1,(l&8)!==0&&(l|=l&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=l;0<h;){var g=31-$n(h),b=1<<g;l|=i[g],h&=~b}return As=l,Id(),u}function ok(i,l){Me=null,q.H=sf,l===mc||l===Wd?(l=Cw(),Ge=3):l===xw?(l=Cw(),Ge=4):Ge=l===kC?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Wn=l,Re===null&&(yt=1,uf(i,ar(l,i.current)))}function ak(){var i=q.H;return q.H=sf,i===null?sf:i}function lk(){var i=q.A;return q.A=PL,i}function My(){yt=4,vi||(ze&4194048)!==ze&&dr.current!==null||(Ia=!0),(bi&134217727)===0&&(So&134217727)===0||rt===null||wi(rt,ze,fr,!1)}function Oy(i,l,u){var h=Ye;Ye|=2;var g=ak(),b=lk();(rt!==i||ze!==l)&&(yf=null,$a(i,l)),l=!1;var T=yt;e:do try{if(Ge!==0&&Re!==null){var E=Re,R=Wn;switch(Ge){case 8:Ey(),T=6;break e;case 3:case 2:case 9:case 6:dr.current===null&&(l=!0);var V=Ge;if(Ge=0,Wn=null,Fa(i,E,R,V),u&&Ia){T=0;break e}break;default:V=Ge,Ge=0,Wn=null,Fa(i,E,R,V)}}IL(),T=yt;break}catch(G){ok(i,G)}while(!0);return l&&i.shellSuspendCounter++,ws=mo=null,Ye=h,q.H=g,q.A=b,Re===null&&(rt=null,ze=0,Id()),T}function IL(){for(;Re!==null;)ck(Re)}function VL(i,l){var u=Ye;Ye|=2;var h=ak(),g=lk();rt!==i||ze!==l?(yf=null,gf=Kr()+500,$a(i,l)):Ia=Ql(i,l);e:do try{if(Ge!==0&&Re!==null){l=Re;var b=Wn;t:switch(Ge){case 1:Ge=0,Wn=null,Fa(i,l,b,1);break;case 2:case 9:if(Sw(b)){Ge=0,Wn=null,uk(l);break}l=function(){Ge!==2&&Ge!==9||rt!==i||(Ge=7),es(i)},b.then(l,l);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Sw(b)?(Ge=0,Wn=null,uk(l)):(Ge=0,Wn=null,Fa(i,l,b,7));break;case 5:var T=null;switch(Re.tag){case 26:T=Re.memoizedState;case 5:case 27:var E=Re;if(!T||qk(T)){Ge=0,Wn=null;var R=E.sibling;if(R!==null)Re=R;else{var V=E.return;V!==null?(Re=V,bf(V)):Re=null}break t}}Ge=0,Wn=null,Fa(i,l,b,5);break;case 6:Ge=0,Wn=null,Fa(i,l,b,6);break;case 8:Ey(),yt=6;break e;default:throw Error(r(462))}}UL();break}catch(G){ok(i,G)}while(!0);return ws=mo=null,q.H=h,q.A=g,Ye=u,Re!==null?0:(rt=null,ze=0,Id(),yt)}function UL(){for(;Re!==null&&!c3();)ck(Re)}function ck(i){var l=PC(i.alternate,i,As);i.memoizedProps=i.pendingProps,l===null?bf(i):Re=l}function uk(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=AC(u,l,l.pendingProps,l.type,void 0,ze);break;case 11:l=AC(u,l,l.pendingProps,l.type.render,l.ref,ze);break;case 5:Fg(l);default:BC(u,l),l=Re=dw(l,As),l=PC(u,l,As)}i.memoizedProps=i.pendingProps,l===null?bf(i):Re=l}function Fa(i,l,u,h){ws=mo=null,Fg(l),La=null,kc=0;var g=l.return;try{if(AL(i,g,l,u,ze)){yt=1,uf(i,ar(u,i.current)),Re=null;return}}catch(b){if(g!==null)throw Re=g,b;yt=1,uf(i,ar(u,i.current)),Re=null;return}l.flags&32768?(Fe||h===1?i=!0:Ia||(ze&536870912)!==0?i=!1:(vi=i=!0,(h===2||h===9||h===3||h===6)&&(h=dr.current,h!==null&&h.tag===13&&(h.flags|=16384))),dk(l,i)):bf(l)}function bf(i){var l=i;do{if((l.flags&32768)!==0){dk(l,vi);return}i=l.return;var u=DL(l.alternate,l,As);if(u!==null){Re=u;return}if(l=l.sibling,l!==null){Re=l;return}Re=l=i}while(l!==null);yt===0&&(yt=5)}function dk(i,l){do{var u=RL(i.alternate,i);if(u!==null){u.flags&=32767,Re=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){Re=i;return}Re=i=u}while(i!==null);yt=6,Re=null}function fk(i,l,u,h,g,b,T,E,R){i.cancelPendingCommit=null;do xf();while(Jt!==0);if((Ye&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=bg,b3(i,u,b,T,E,R),i===rt&&(Re=rt=null,ze=0),Ua=l,Si=i,Ha=u,ky=b,Ty=g,nk=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qL(kd,function(){return yk(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=q.T,q.T=null,g=Y.p,Y.p=2,T=Ye,Ye|=4;try{jL(i,l,u)}finally{Ye=T,Y.p=g,q.T=h}}Jt=1,hk(),pk(),mk()}}function hk(){if(Jt===1){Jt=0;var i=Si,l=Ua,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=q.T,q.T=null;var h=Y.p;Y.p=2;var g=Ye;Ye|=4;try{KC(l,i);var b=Uy,T=tw(i.containerInfo),E=b.focusedElem,R=b.selectionRange;if(T!==E&&E&&E.ownerDocument&&ew(E.ownerDocument.documentElement,E)){if(R!==null&&pg(E)){var V=R.start,G=R.end;if(G===void 0&&(G=V),"selectionStart"in E)E.selectionStart=V,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,U=Q&&Q.defaultView||window;if(U.getSelection){var $=U.getSelection(),ve=E.textContent.length,me=Math.min(R.start,ve),Je=R.end===void 0?me:Math.min(R.end,ve);!$.extend&&me>Je&&(T=Je,Je=me,me=T);var B=ZS(E,me),z=ZS(E,Je);if(B&&z&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==z.node||$.focusOffset!==z.offset)){var I=Q.createRange();I.setStart(B.node,B.offset),$.removeAllRanges(),me>Je?($.addRange(I),$.extend(z.node,z.offset)):(I.setEnd(z.node,z.offset),$.addRange(I))}}}}for(Q=[],$=E;$=$.parentNode;)$.nodeType===1&&Q.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var W=Q[E];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Df=!!Vy,Uy=Vy=null}finally{Ye=g,Y.p=h,q.T=u}}i.current=l,Jt=2}}function pk(){if(Jt===2){Jt=0;var i=Si,l=Ua,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=q.T,q.T=null;var h=Y.p;Y.p=2;var g=Ye;Ye|=4;try{qC(i,l.alternate,l)}finally{Ye=g,Y.p=h,q.T=u}}Jt=3}}function mk(){if(Jt===4||Jt===3){Jt=0,u3();var i=Si,l=Ua,u=Ha,h=nk;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Jt=5:(Jt=0,Ua=Si=null,gk(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(xi=null),Gm(u),l=l.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Kl,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=q.T,g=Y.p,Y.p=2,q.T=null;try{for(var b=i.onRecoverableError,T=0;T<h.length;T++){var E=h[T];b(E.value,{componentStack:E.stack})}}finally{q.T=l,Y.p=g}}(Ha&3)!==0&&xf(),es(i),g=i.pendingLanes,(u&4194090)!==0&&(g&42)!==0?i===_y?Rc++:(Rc=0,_y=i):Rc=0,jc(0)}}function gk(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,hc(l)))}function xf(i){return hk(),pk(),mk(),yk()}function yk(){if(Jt!==5)return!1;var i=Si,l=ky;ky=0;var u=Gm(Ha),h=q.T,g=Y.p;try{Y.p=32>u?32:u,q.T=null,u=Ty,Ty=null;var b=Si,T=Ha;if(Jt=0,Ua=Si=null,Ha=0,(Ye&6)!==0)throw Error(r(331));var E=Ye;if(Ye|=4,ek(b.current),XC(b,b.current,T,u),Ye=E,jc(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Kl,b)}catch{}return!0}finally{Y.p=g,q.T=h,gk(i,l)}}function vk(i,l,u){l=ar(u,l),l=sy(i.stateNode,l,2),i=di(i,l,2),i!==null&&(Xl(i,2),es(i))}function tt(i,l,u){if(i.tag===3)vk(i,i,u);else for(;l!==null;){if(l.tag===3){vk(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xi===null||!xi.has(h))){i=ar(u,i),u=wC(2),h=di(l,u,2),h!==null&&(CC(u,h,l,i),Xl(h,2),es(h));break}}l=l.return}}function Ay(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new zL;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(u)||(xy=!0,g.add(u),i=HL.bind(null,i,l,u),l.then(i,i))}function HL(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,rt===i&&(ze&u)===u&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Kr()-Cy?(Ye&2)===0&&$a(i,0):Sy|=u,Va===ze&&(Va=0)),es(i)}function bk(i,l){l===0&&(l=mS()),i=Ta(i,l),i!==null&&(Xl(i,l),es(i))}function $L(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),bk(i,u)}function FL(i,l){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),bk(i,u)}function qL(i,l){return $m(i,l)}var Sf=null,qa=null,Ny=!1,wf=!1,Dy=!1,wo=0;function es(i){i!==qa&&i.next===null&&(qa===null?Sf=qa=i:qa=qa.next=i),wf=!0,Ny||(Ny=!0,GL())}function jc(i,l){if(!Dy&&wf){Dy=!0;do for(var u=!1,h=Sf;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var b=0;else{var T=h.suspendedLanes,E=h.pingedLanes;b=(1<<31-$n(42|i)+1)-1,b&=g&~(T&~E),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,Ck(h,b))}else b=ze,b=Ed(h,h===rt?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Ql(h,b)||(u=!0,Ck(h,b));h=h.next}while(u);Dy=!1}}function YL(){xk()}function xk(){wf=Ny=!1;var i=0;wo!==0&&(tP()&&(i=wo),wo=0);for(var l=Kr(),u=null,h=Sf;h!==null;){var g=h.next,b=Sk(h,l);b===0?(h.next=null,u===null?Sf=g:u.next=g,g===null&&(qa=u)):(u=h,(i!==0||(b&3)!==0)&&(wf=!0)),h=g}jc(i)}function Sk(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var T=31-$n(b),E=1<<T,R=g[T];R===-1?((E&u)===0||(E&h)!==0)&&(g[T]=v3(E,l)):R<=l&&(i.expiredLanes|=E),b&=~E}if(l=rt,u=ze,u=Ed(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===l&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Fm(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ql(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(h!==null&&Fm(h),Gm(u)){case 2:case 8:u=fS;break;case 32:u=kd;break;case 268435456:u=hS;break;default:u=kd}return h=wk.bind(null,i),u=$m(u,h),i.callbackPriority=l,i.callbackNode=u,l}return h!==null&&h!==null&&Fm(h),i.callbackPriority=2,i.callbackNode=null,2}function wk(i,l){if(Jt!==0&&Jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(xf()&&i.callbackNode!==u)return null;var h=ze;return h=Ed(i,i===rt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(sk(i,h,l),Sk(i,Kr()),i.callbackNode!=null&&i.callbackNode===u?wk.bind(null,i):null)}function Ck(i,l){if(xf())return null;sk(i,l,!0)}function GL(){rP(function(){(Ye&6)!==0?$m(dS,YL):xk()})}function Ry(){return wo===0&&(wo=pS()),wo}function kk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Dd(""+i)}function Tk(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function WL(i,l,u,h,g){if(l==="submit"&&u&&u.stateNode===g){var b=kk((g[On]||null).action),T=h.submitter;T&&(l=(l=T[On]||null)?kk(l.formAction):T.getAttribute("formAction"),l!==null&&(b=l,T=null));var E=new Pd("action","action",null,h,g);i.push({event:E,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(wo!==0){var R=T?Tk(g,T):new FormData(g);Zg(u,{pending:!0,data:R,method:g.method,action:b},null,R)}}else typeof b=="function"&&(E.preventDefault(),R=T?Tk(g,T):new FormData(g),Zg(u,{pending:!0,data:R,method:g.method,action:b},b,R))},currentTarget:g}]})}}for(var jy=0;jy<vg.length;jy++){var Ly=vg[jy],KL=Ly.toLowerCase(),QL=Ly[0].toUpperCase()+Ly.slice(1);Or(KL,"on"+QL)}Or(sw,"onAnimationEnd"),Or(iw,"onAnimationIteration"),Or(ow,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(hL,"onTransitionRun"),Or(pL,"onTransitionStart"),Or(mL,"onTransitionCancel"),Or(aw,"onTransitionEnd"),ma("onMouseEnter",["mouseout","mouseover"]),ma("onMouseLeave",["mouseout","mouseover"]),ma("onPointerEnter",["pointerout","pointerover"]),ma("onPointerLeave",["pointerout","pointerover"]),io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),io("onBeforeInput",["compositionend","keypress","textInput","paste"]),io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function _k(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var b=void 0;if(l)for(var T=h.length-1;0<=T;T--){var E=h[T],R=E.instance,V=E.currentTarget;if(E=E.listener,R!==b&&g.isPropagationStopped())break e;b=E,g.currentTarget=V;try{b(g)}catch(G){cf(G)}g.currentTarget=null,b=R}else for(T=0;T<h.length;T++){if(E=h[T],R=E.instance,V=E.currentTarget,E=E.listener,R!==b&&g.isPropagationStopped())break e;b=E,g.currentTarget=V;try{b(g)}catch(G){cf(G)}g.currentTarget=null,b=R}}}}function je(i,l){var u=l[Wm];u===void 0&&(u=l[Wm]=new Set);var h=i+"__bubble";u.has(h)||(Ek(l,i,2,!1),u.add(h))}function Py(i,l,u){var h=0;l&&(h|=4),Ek(u,i,h,l)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function zy(i){if(!i[Cf]){i[Cf]=!0,xS.forEach(function(u){u!=="selectionchange"&&(XL.has(u)||Py(u,!1,i),Py(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Cf]||(l[Cf]=!0,Py("selectionchange",!1,l))}}function Ek(i,l,u,h){switch(Xk(l)){case 2:var g=kP;break;case 8:g=TP;break;default:g=Xy}u=g.bind(null,l,u,i),g=void 0,!ig||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(l,u,{capture:!0,passive:g}):i.addEventListener(l,u,!0):g!==void 0?i.addEventListener(l,u,{passive:g}):i.addEventListener(l,u,!1)}function By(i,l,u,h,g){var b=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var E=h.stateNode.containerInfo;if(E===g)break;if(T===4)for(T=h.return;T!==null;){var R=T.tag;if((R===3||R===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;E!==null;){if(T=fa(E),T===null)return;if(R=T.tag,R===5||R===6||R===26||R===27){h=b=T;continue e}E=E.parentNode}}h=h.return}jS(function(){var V=b,G=rg(u),Q=[];e:{var U=lw.get(i);if(U!==void 0){var $=Pd,ve=i;switch(i){case"keypress":if(jd(u)===0)break e;case"keydown":case"keyup":$=q3;break;case"focusin":ve="focus",$=cg;break;case"focusout":ve="blur",$=cg;break;case"beforeblur":case"afterblur":$=cg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=zS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=R3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=W3;break;case sw:case iw:case ow:$=P3;break;case aw:$=Q3;break;case"scroll":case"scrollend":$=N3;break;case"wheel":$=J3;break;case"copy":case"cut":case"paste":$=B3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=IS;break;case"toggle":case"beforetoggle":$=eL}var me=(l&4)!==0,Je=!me&&(i==="scroll"||i==="scrollend"),B=me?U!==null?U+"Capture":null:U;me=[];for(var z=V,I;z!==null;){var W=z;if(I=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||I===null||B===null||(W=ec(z,B),W!=null&&me.push(Pc(z,W,I))),Je)break;z=z.return}0<me.length&&(U=new $(U,ve,null,u,G),Q.push({event:U,listeners:me}))}}if((l&7)===0){e:{if(U=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",U&&u!==ng&&(ve=u.relatedTarget||u.fromElement)&&(fa(ve)||ve[da]))break e;if(($||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,$?(ve=u.relatedTarget||u.toElement,$=V,ve=ve?fa(ve):null,ve!==null&&(Je=o(ve),me=ve.tag,ve!==Je||me!==5&&me!==27&&me!==6)&&(ve=null)):($=null,ve=V),$!==ve)){if(me=zS,W="onMouseLeave",B="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(me=IS,W="onPointerLeave",B="onPointerEnter",z="pointer"),Je=$==null?U:Zl($),I=ve==null?U:Zl(ve),U=new me(W,z+"leave",$,u,G),U.target=Je,U.relatedTarget=I,W=null,fa(G)===V&&(me=new me(B,z+"enter",ve,u,G),me.target=I,me.relatedTarget=Je,W=me),Je=W,$&&ve)t:{for(me=$,B=ve,z=0,I=me;I;I=Ya(I))z++;for(I=0,W=B;W;W=Ya(W))I++;for(;0<z-I;)me=Ya(me),z--;for(;0<I-z;)B=Ya(B),I--;for(;z--;){if(me===B||B!==null&&me===B.alternate)break t;me=Ya(me),B=Ya(B)}me=null}else me=null;$!==null&&Mk(Q,U,$,me,!1),ve!==null&&Je!==null&&Mk(Q,Je,ve,me,!0)}}e:{if(U=V?Zl(V):window,$=U.nodeName&&U.nodeName.toLowerCase(),$==="select"||$==="input"&&U.type==="file")var le=GS;else if(qS(U))if(WS)le=uL;else{le=lL;var De=aL}else $=U.nodeName,!$||$.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?V&&tg(V.elementType)&&(le=GS):le=cL;if(le&&(le=le(i,V))){YS(Q,le,u,G);break e}De&&De(i,U,V),i==="focusout"&&V&&U.type==="number"&&V.memoizedProps.value!=null&&eg(U,"number",U.value)}switch(De=V?Zl(V):window,i){case"focusin":(qS(De)||De.contentEditable==="true")&&(wa=De,mg=V,lc=null);break;case"focusout":lc=mg=wa=null;break;case"mousedown":gg=!0;break;case"contextmenu":case"mouseup":case"dragend":gg=!1,nw(Q,u,G);break;case"selectionchange":if(fL)break;case"keydown":case"keyup":nw(Q,u,G)}var ue;if(dg)e:{switch(i){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Sa?$S(i,u)&&(ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ye="onCompositionStart");ye&&(VS&&u.locale!=="ko"&&(Sa||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Sa&&(ue=LS()):(ai=G,og="value"in ai?ai.value:ai.textContent,Sa=!0)),De=kf(V,ye),0<De.length&&(ye=new BS(ye,i,null,u,G),Q.push({event:ye,listeners:De}),ue?ye.data=ue:(ue=FS(u),ue!==null&&(ye.data=ue)))),(ue=nL?rL(i,u):sL(i,u))&&(ye=kf(V,"onBeforeInput"),0<ye.length&&(De=new BS("onBeforeInput","beforeinput",null,u,G),Q.push({event:De,listeners:ye}),De.data=ue)),WL(Q,i,V,u,G)}_k(Q,l)})}function Pc(i,l,u){return{instance:i,listener:l,currentTarget:u}}function kf(i,l){for(var u=l+"Capture",h=[];i!==null;){var g=i,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=ec(i,u),g!=null&&h.unshift(Pc(i,g,b)),g=ec(i,l),g!=null&&h.push(Pc(i,g,b))),i.tag===3)return h;i=i.return}return[]}function Ya(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mk(i,l,u,h,g){for(var b=l._reactName,T=[];u!==null&&u!==h;){var E=u,R=E.alternate,V=E.stateNode;if(E=E.tag,R!==null&&R===h)break;E!==5&&E!==26&&E!==27||V===null||(R=V,g?(V=ec(u,b),V!=null&&T.unshift(Pc(u,V,R))):g||(V=ec(u,b),V!=null&&T.push(Pc(u,V,R)))),u=u.return}T.length!==0&&i.push({event:l,listeners:T})}var JL=/\r\n?/g,ZL=/\u0000|\uFFFD/g;function Ok(i){return(typeof i=="string"?i:""+i).replace(JL,`
`).replace(ZL,"")}function Ak(i,l){return l=Ok(l),Ok(i)===l}function Tf(){}function Xe(i,l,u,h,g,b){switch(u){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||va(i,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&va(i,""+h);break;case"className":Od(i,"class",h);break;case"tabIndex":Od(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Od(i,u,h);break;case"style":DS(i,h,b);break;case"data":if(l!=="object"){Od(i,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Dd(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(l!=="input"&&Xe(i,l,"name",g.name,g,null),Xe(i,l,"formEncType",g.formEncType,g,null),Xe(i,l,"formMethod",g.formMethod,g,null),Xe(i,l,"formTarget",g.formTarget,g,null)):(Xe(i,l,"encType",g.encType,g,null),Xe(i,l,"method",g.method,g,null),Xe(i,l,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Dd(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Tf);break;case"onScroll":h!=null&&je("scroll",i);break;case"onScrollEnd":h!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Dd(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":je("beforetoggle",i),je("toggle",i),Md(i,"popover",h);break;case"xlinkActuate":ys(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ys(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ys(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ys(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ys(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ys(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ys(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ys(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ys(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Md(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=O3.get(u)||u,Md(i,u,h))}}function Iy(i,l,u,h,g,b){switch(u){case"style":DS(i,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?va(i,h):(typeof h=="number"||typeof h=="bigint")&&va(i,""+h);break;case"onScroll":h!=null&&je("scroll",i);break;case"onScrollEnd":h!=null&&je("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Tf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!SS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),l=u.slice(2,g?u.length-7:void 0),b=i[On]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(l,b,g),typeof h=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,h,g);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):Md(i,u,h)}}}function Zt(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var h=!1,g=!1,b;for(b in u)if(u.hasOwnProperty(b)){var T=u[b];if(T!=null)switch(b){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xe(i,l,b,T,u,null)}}g&&Xe(i,l,"srcSet",u.srcSet,u,null),h&&Xe(i,l,"src",u.src,u,null);return;case"input":je("invalid",i);var E=b=T=g=null,R=null,V=null;for(h in u)if(u.hasOwnProperty(h)){var G=u[h];if(G!=null)switch(h){case"name":g=G;break;case"type":T=G;break;case"checked":R=G;break;case"defaultChecked":V=G;break;case"value":b=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,l));break;default:Xe(i,l,h,G,u,null)}}MS(i,b,E,R,V,T,g,!1),Ad(i);return;case"select":je("invalid",i),h=T=b=null;for(g in u)if(u.hasOwnProperty(g)&&(E=u[g],E!=null))switch(g){case"value":b=E;break;case"defaultValue":T=E;break;case"multiple":h=E;default:Xe(i,l,g,E,u,null)}l=b,u=T,i.multiple=!!h,l!=null?ya(i,!!h,l,!1):u!=null&&ya(i,!!h,u,!0);return;case"textarea":je("invalid",i),b=g=h=null;for(T in u)if(u.hasOwnProperty(T)&&(E=u[T],E!=null))switch(T){case"value":h=E;break;case"defaultValue":g=E;break;case"children":b=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xe(i,l,T,E,u,null)}AS(i,h,g,b),Ad(i);return;case"option":for(R in u)if(u.hasOwnProperty(R)&&(h=u[R],h!=null))switch(R){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Xe(i,l,R,h,u,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(h=0;h<Lc.length;h++)je(Lc[h],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in u)if(u.hasOwnProperty(V)&&(h=u[V],h!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xe(i,l,V,h,u,null)}return;default:if(tg(l)){for(G in u)u.hasOwnProperty(G)&&(h=u[G],h!==void 0&&Iy(i,l,G,h,u,void 0));return}}for(E in u)u.hasOwnProperty(E)&&(h=u[E],h!=null&&Xe(i,l,E,h,u,null))}function eP(i,l,u,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,T=null,E=null,R=null,V=null,G=null;for($ in u){var Q=u[$];if(u.hasOwnProperty($)&&Q!=null)switch($){case"checked":break;case"value":break;case"defaultValue":R=Q;default:h.hasOwnProperty($)||Xe(i,l,$,null,h,Q)}}for(var U in h){var $=h[U];if(Q=u[U],h.hasOwnProperty(U)&&($!=null||Q!=null))switch(U){case"type":b=$;break;case"name":g=$;break;case"checked":V=$;break;case"defaultChecked":G=$;break;case"value":T=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,l));break;default:$!==Q&&Xe(i,l,U,$,h,Q)}}Zm(i,T,E,R,V,G,b,g);return;case"select":$=T=E=U=null;for(b in u)if(R=u[b],u.hasOwnProperty(b)&&R!=null)switch(b){case"value":break;case"multiple":$=R;default:h.hasOwnProperty(b)||Xe(i,l,b,null,h,R)}for(g in h)if(b=h[g],R=u[g],h.hasOwnProperty(g)&&(b!=null||R!=null))switch(g){case"value":U=b;break;case"defaultValue":E=b;break;case"multiple":T=b;default:b!==R&&Xe(i,l,g,b,h,R)}l=E,u=T,h=$,U!=null?ya(i,!!u,U,!1):!!h!=!!u&&(l!=null?ya(i,!!u,l,!0):ya(i,!!u,u?[]:"",!1));return;case"textarea":$=U=null;for(E in u)if(g=u[E],u.hasOwnProperty(E)&&g!=null&&!h.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xe(i,l,E,null,h,g)}for(T in h)if(g=h[T],b=u[T],h.hasOwnProperty(T)&&(g!=null||b!=null))switch(T){case"value":U=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&Xe(i,l,T,g,h,b)}OS(i,U,$);return;case"option":for(var ve in u)if(U=u[ve],u.hasOwnProperty(ve)&&U!=null&&!h.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:Xe(i,l,ve,null,h,U)}for(R in h)if(U=h[R],$=u[R],h.hasOwnProperty(R)&&U!==$&&(U!=null||$!=null))switch(R){case"selected":i.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Xe(i,l,R,U,h,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in u)U=u[me],u.hasOwnProperty(me)&&U!=null&&!h.hasOwnProperty(me)&&Xe(i,l,me,null,h,U);for(V in h)if(U=h[V],$=u[V],h.hasOwnProperty(V)&&U!==$&&(U!=null||$!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,l));break;default:Xe(i,l,V,U,h,$)}return;default:if(tg(l)){for(var Je in u)U=u[Je],u.hasOwnProperty(Je)&&U!==void 0&&!h.hasOwnProperty(Je)&&Iy(i,l,Je,void 0,h,U);for(G in h)U=h[G],$=u[G],!h.hasOwnProperty(G)||U===$||U===void 0&&$===void 0||Iy(i,l,G,U,h,$);return}}for(var B in u)U=u[B],u.hasOwnProperty(B)&&U!=null&&!h.hasOwnProperty(B)&&Xe(i,l,B,null,h,U);for(Q in h)U=h[Q],$=u[Q],!h.hasOwnProperty(Q)||U===$||U==null&&$==null||Xe(i,l,Q,U,h,$)}var Vy=null,Uy=null;function _f(i){return i.nodeType===9?i:i.ownerDocument}function Nk(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dk(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Hy(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var $y=null;function tP(){var i=window.event;return i&&i.type==="popstate"?i===$y?!1:($y=i,!0):($y=null,!1)}var Rk=typeof setTimeout=="function"?setTimeout:void 0,nP=typeof clearTimeout=="function"?clearTimeout:void 0,jk=typeof Promise=="function"?Promise:void 0,rP=typeof queueMicrotask=="function"?queueMicrotask:typeof jk<"u"?function(i){return jk.resolve(null).then(i).catch(sP)}:Rk;function sP(i){setTimeout(function(){throw i})}function Ci(i){return i==="head"}function Lk(i,l){var u=l,h=0,g=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<h&&8>h){u=h;var T=i.ownerDocument;if(u&1&&zc(T.documentElement),u&2&&zc(T.body),u&4)for(u=T.head,zc(u),T=u.firstChild;T;){var E=T.nextSibling,R=T.nodeName;T[Jl]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=E}}if(g===0){i.removeChild(b),qc(l);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:h=u.charCodeAt(0)-48;else h=0;u=b}while(u);qc(l)}function Fy(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Fy(u),Km(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function iP(i,l,u,h){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Jl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Nr(i.nextSibling),i===null)break}return null}function oP(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Nr(i.nextSibling),i===null))return null;return i}function qy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function aP(i,l){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")l();else{var h=function(){l(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Nr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var Yy=null;function Pk(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}function zk(i,l,u){switch(l=_f(u),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function zc(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Km(i)}var hr=new Map,Bk=new Set;function Ef(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ns=Y.d;Y.d={f:lP,r:cP,D:uP,C:dP,L:fP,m:hP,X:mP,S:pP,M:gP};function lP(){var i=Ns.f(),l=vf();return i||l}function cP(i){var l=ha(i);l!==null&&l.tag===5&&l.type==="form"?sC(l):Ns.r(i)}var Ga=typeof document>"u"?null:document;function Ik(i,l,u){var h=Ga;if(h&&typeof l=="string"&&l){var g=or(l);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Bk.has(g)||(Bk.add(g),i={rel:i,crossOrigin:u,href:l},h.querySelector(g)===null&&(l=h.createElement("link"),Zt(l,"link",i),Ht(l),h.head.appendChild(l)))}}function uP(i){Ns.D(i),Ik("dns-prefetch",i,null)}function dP(i,l){Ns.C(i,l),Ik("preconnect",i,l)}function fP(i,l,u){Ns.L(i,l,u);var h=Ga;if(h&&i&&l){var g='link[rel="preload"][as="'+or(l)+'"]';l==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+or(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+or(u.imageSizes)+'"]')):g+='[href="'+or(i)+'"]';var b=g;switch(l){case"style":b=Wa(i);break;case"script":b=Ka(i)}hr.has(b)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),hr.set(b,i),h.querySelector(g)!==null||l==="style"&&h.querySelector(Bc(b))||l==="script"&&h.querySelector(Ic(b))||(l=h.createElement("link"),Zt(l,"link",i),Ht(l),h.head.appendChild(l)))}}function hP(i,l){Ns.m(i,l);var u=Ga;if(u&&i){var h=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+or(h)+'"][href="'+or(i)+'"]',b=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ka(i)}if(!hr.has(b)&&(i=p({rel:"modulepreload",href:i},l),hr.set(b,i),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Ic(b)))return}h=u.createElement("link"),Zt(h,"link",i),Ht(h),u.head.appendChild(h)}}}function pP(i,l,u){Ns.S(i,l,u);var h=Ga;if(h&&i){var g=pa(h).hoistableStyles,b=Wa(i);l=l||"default";var T=g.get(b);if(!T){var E={loading:0,preload:null};if(T=h.querySelector(Bc(b)))E.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=hr.get(b))&&Gy(i,u);var R=T=h.createElement("link");Ht(R),Zt(R,"link",i),R._p=new Promise(function(V,G){R.onload=V,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mf(T,l,h)}T={type:"stylesheet",instance:T,count:1,state:E},g.set(b,T)}}}function mP(i,l){Ns.X(i,l);var u=Ga;if(u&&i){var h=pa(u).hoistableScripts,g=Ka(i),b=h.get(g);b||(b=u.querySelector(Ic(g)),b||(i=p({src:i,async:!0},l),(l=hr.get(g))&&Wy(i,l),b=u.createElement("script"),Ht(b),Zt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function gP(i,l){Ns.M(i,l);var u=Ga;if(u&&i){var h=pa(u).hoistableScripts,g=Ka(i),b=h.get(g);b||(b=u.querySelector(Ic(g)),b||(i=p({src:i,async:!0,type:"module"},l),(l=hr.get(g))&&Wy(i,l),b=u.createElement("script"),Ht(b),Zt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(g,b))}}function Vk(i,l,u,h){var g=(g=Se.current)?Ef(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=Wa(u.href),u=pa(g).hoistableStyles,h=u.get(l),h||(h={type:"style",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Wa(u.href);var b=pa(g).hoistableStyles,T=b.get(i);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,T),(b=g.querySelector(Bc(i)))&&!b._p&&(T.instance=b,T.state.loading=5),hr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},hr.set(i,u),b||yP(g,i,u,T.state))),l&&h===null)throw Error(r(528,""));return T}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ka(u),u=pa(g).hoistableScripts,h=u.get(l),h||(h={type:"script",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wa(i){return'href="'+or(i)+'"'}function Bc(i){return'link[rel="stylesheet"]['+i+"]"}function Uk(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function yP(i,l,u,h){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=i.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),Zt(l,"link",u),Ht(l),i.head.appendChild(l))}function Ka(i){return'[src="'+or(i)+'"]'}function Ic(i){return"script[async]"+i}function Hk(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var h=i.querySelector('style[data-href~="'+or(u.href)+'"]');if(h)return l.instance=h,Ht(h),h;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ht(h),Zt(h,"style",g),Mf(h,u.precedence,i),l.instance=h;case"stylesheet":g=Wa(u.href);var b=i.querySelector(Bc(g));if(b)return l.state.loading|=4,l.instance=b,Ht(b),b;h=Uk(u),(g=hr.get(g))&&Gy(h,g),b=(i.ownerDocument||i).createElement("link"),Ht(b);var T=b;return T._p=new Promise(function(E,R){T.onload=E,T.onerror=R}),Zt(b,"link",h),l.state.loading|=4,Mf(b,u.precedence,i),l.instance=b;case"script":return b=Ka(u.src),(g=i.querySelector(Ic(b)))?(l.instance=g,Ht(g),g):(h=u,(g=hr.get(b))&&(h=p({},u),Wy(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ht(g),Zt(g,"link",h),i.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Mf(h,u.precedence,i));return l.instance}function Mf(i,l,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,b=g,T=0;T<h.length;T++){var E=h[T];if(E.dataset.precedence===l)b=E;else if(b!==g)break}b?b.parentNode.insertBefore(i,b.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Gy(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function Wy(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Of=null;function $k(i,l,u){if(Of===null){var h=new Map,g=Of=new Map;g.set(u,h)}else g=Of,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var b=u[g];if(!(b[Jl]||b[an]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(l)||"";T=i+T;var E=h.get(T);E?E.push(b):h.set(T,[b])}}return h}function Fk(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function vP(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function qk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Vc=null;function bP(){}function xP(i,l,u){if(Vc===null)throw Error(r(475));var h=Vc;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Wa(u.href),b=i.querySelector(Bc(g));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Af.bind(h),i.then(h,h)),l.state.loading|=4,l.instance=b,Ht(b);return}b=i.ownerDocument||i,u=Uk(u),(g=hr.get(g))&&Gy(u,g),b=b.createElement("link"),Ht(b);var T=b;T._p=new Promise(function(E,R){T.onload=E,T.onerror=R}),Zt(b,"link",u),l.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(h.count++,l=Af.bind(h),i.addEventListener("load",l),i.addEventListener("error",l))}}function SP(){if(Vc===null)throw Error(r(475));var i=Vc;return i.stylesheets&&i.count===0&&Ky(i,i.stylesheets),0<i.count?function(l){var u=setTimeout(function(){if(i.stylesheets&&Ky(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)Ky(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Nf=null;function Ky(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Nf=new Map,l.forEach(wP,i),Nf=null,Af.call(i))}function wP(i,l){if(!(l.state.loading&4)){var u=Nf.get(i);if(u)var h=u.get(null);else{u=new Map,Nf.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var T=g[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),h=T)}h&&u.set(null,h)}g=l.instance,T=g.getAttribute("data-precedence"),b=u.get(T)||h,b===h&&u.set(null,g),u.set(T,g),this.count++,h=Af.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),b?b.parentNode.insertBefore(g,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),l.state.loading|=4}}var Uc={$$typeof:A,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function CP(i,l,u,h,g,b,T,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.hiddenUpdates=qm(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Yk(i,l,u,h,g,b,T,E,R,V,G,Q){return i=new CP(i,l,u,T,E,R,V,Q),l=1,b===!0&&(l|=24),b=qn(3,null,null,l),i.current=b,b.stateNode=i,l=Ag(),l.refCount++,i.pooledCache=l,l.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:l},jg(b),i}function Gk(i){return i?(i=_a,i):_a}function Wk(i,l,u,h,g,b){g=Gk(g),h.context===null?h.context=g:h.pendingContext=g,h=ui(l),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=di(i,h,l),u!==null&&(Qn(u,i,l),yc(u,i,l))}function Kk(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function Qy(i,l){Kk(i,l),(i=i.alternate)&&Kk(i,l)}function Qk(i){if(i.tag===13){var l=Ta(i,67108864);l!==null&&Qn(l,i,67108864),Qy(i,67108864)}}var Df=!0;function kP(i,l,u,h){var g=q.T;q.T=null;var b=Y.p;try{Y.p=2,Xy(i,l,u,h)}finally{Y.p=b,q.T=g}}function TP(i,l,u,h){var g=q.T;q.T=null;var b=Y.p;try{Y.p=8,Xy(i,l,u,h)}finally{Y.p=b,q.T=g}}function Xy(i,l,u,h){if(Df){var g=Jy(h);if(g===null)By(i,l,h,Rf,u),Jk(i,h);else if(EP(g,i,l,u,h))h.stopPropagation();else if(Jk(i,h),l&4&&-1<_P.indexOf(i)){for(;g!==null;){var b=ha(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=so(b.pendingLanes);if(T!==0){var E=b;for(E.pendingLanes|=2,E.entangledLanes|=2;T;){var R=1<<31-$n(T);E.entanglements[1]|=R,T&=~R}es(b),(Ye&6)===0&&(gf=Kr()+500,jc(0))}}break;case 13:E=Ta(b,2),E!==null&&Qn(E,b,2),vf(),Qy(b,2)}if(b=Jy(h),b===null&&By(i,l,h,Rf,u),b===g)break;g=b}g!==null&&h.stopPropagation()}else By(i,l,h,null,u)}}function Jy(i){return i=rg(i),Zy(i)}var Rf=null;function Zy(i){if(Rf=null,i=fa(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=a(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Rf=i,null}function Xk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(d3()){case dS:return 2;case fS:return 8;case kd:case f3:return 32;case hS:return 268435456;default:return 32}default:return 32}}var e0=!1,ki=null,Ti=null,_i=null,Hc=new Map,$c=new Map,Ei=[],_P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jk(i,l){switch(i){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Hc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(l.pointerId)}}function Fc(i,l,u,h,g,b){return i===null||i.nativeEvent!==b?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[g]},l!==null&&(l=ha(l),l!==null&&Qk(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),i)}function EP(i,l,u,h,g){switch(l){case"focusin":return ki=Fc(ki,i,l,u,h,g),!0;case"dragenter":return Ti=Fc(Ti,i,l,u,h,g),!0;case"mouseover":return _i=Fc(_i,i,l,u,h,g),!0;case"pointerover":var b=g.pointerId;return Hc.set(b,Fc(Hc.get(b)||null,i,l,u,h,g)),!0;case"gotpointercapture":return b=g.pointerId,$c.set(b,Fc($c.get(b)||null,i,l,u,h,g)),!0}return!1}function Zk(i){var l=fa(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=a(u),l!==null){i.blockedOn=l,x3(i.priority,function(){if(u.tag===13){var h=Kn();h=Ym(h);var g=Ta(u,h);g!==null&&Qn(g,u,h),Qy(u,h)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jf(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Jy(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);ng=h,u.target.dispatchEvent(h),ng=null}else return l=ha(u),l!==null&&Qk(l),i.blockedOn=u,!1;l.shift()}return!0}function eT(i,l,u){jf(i)&&u.delete(l)}function MP(){e0=!1,ki!==null&&jf(ki)&&(ki=null),Ti!==null&&jf(Ti)&&(Ti=null),_i!==null&&jf(_i)&&(_i=null),Hc.forEach(eT),$c.forEach(eT)}function Lf(i,l){i.blockedOn===l&&(i.blockedOn=null,e0||(e0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MP)))}var Pf=null;function tT(i){Pf!==i&&(Pf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pf===i&&(Pf=null);for(var l=0;l<i.length;l+=3){var u=i[l],h=i[l+1],g=i[l+2];if(typeof h!="function"){if(Zy(h||u)===null)continue;break}var b=ha(u);b!==null&&(i.splice(l,3),l-=3,Zg(b,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function qc(i){function l(R){return Lf(R,i)}ki!==null&&Lf(ki,i),Ti!==null&&Lf(Ti,i),_i!==null&&Lf(_i,i),Hc.forEach(l),$c.forEach(l);for(var u=0;u<Ei.length;u++){var h=Ei[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ei.length&&(u=Ei[0],u.blockedOn===null);)Zk(u),u.blockedOn===null&&Ei.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],b=u[h+1],T=g[On]||null;if(typeof b=="function")T||tT(u);else if(T){var E=null;if(b&&b.hasAttribute("formAction")){if(g=b,T=b[On]||null)E=T.formAction;else if(Zy(g)!==null)continue}else E=T.action;typeof E=="function"?u[h+1]=E:(u.splice(h,3),h-=3),tT(u)}}}function t0(i){this._internalRoot=i}zf.prototype.render=t0.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,h=Kn();Wk(u,h,i,l,null,null)},zf.prototype.unmount=t0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Wk(i.current,2,null,i,null,null),vf(),l[da]=null}};function zf(i){this._internalRoot=i}zf.prototype.unstable_scheduleHydration=function(i){if(i){var l=vS();i={blockedOn:null,target:i,priority:l};for(var u=0;u<Ei.length&&l!==0&&l<Ei[u].priority;u++);Ei.splice(u,0,i),u===0&&Zk(i)}};var nT=e.version;if(nT!=="19.1.1")throw Error(r(527,nT,"19.1.1"));Y.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(l),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var OP={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bf.isDisabled&&Bf.supportsFiber)try{Kl=Bf.inject(OP),Hn=Bf}catch{}}return Gc.createRoot=function(i,l){if(!s(i))throw Error(r(299));var u=!1,h="",g=vC,b=bC,T=xC,E=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(E=l.unstable_transitionCallbacks)),l=Yk(i,1,!1,null,null,u,h,g,b,T,E,null),i[da]=l.current,zy(i),new t0(l)},Gc.hydrateRoot=function(i,l,u){if(!s(i))throw Error(r(299));var h=!1,g="",b=vC,T=bC,E=xC,R=null,V=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(E=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(R=u.unstable_transitionCallbacks),u.formState!==void 0&&(V=u.formState)),l=Yk(i,1,!0,l,u??null,h,g,b,T,E,R,V),l.context=Gk(null),u=l.current,h=Kn(),h=Ym(h),g=ui(h),g.callback=null,di(u,g,h),u=h,l.current.lanes=u,Xl(l,u),es(l),i[da]=l.current,zy(i),new zf(l)},Gc.version="19.1.1",Gc}var fT;function IP(){if(fT)return s0.exports;fT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s0.exports=BP(),s0.exports}var VP=IP(),l0={exports:{}},c0={};var hT;function UP(){if(hT)return c0;hT=1;var t=Rl();function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;return c0.useSyncExternalStoreWithSelector=function(d,f,p,m,y){var x=s(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=a(function(){function C(O){if(!k){if(k=!0,_=O,O=m(O),y!==void 0&&S.hasValue){var j=S.value;if(y(j,O))return A=j}return A=O}if(j=A,n(_,O))return j;var P=m(O);return y!==void 0&&y(j,P)?(_=O,j):(_=O,A=P)}var k=!1,_,A,N=p===void 0?null:p;return[function(){return C(f())},N===null?void 0:function(){return C(N())}]},[f,p,m,y]);var w=r(d,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),c(w),w},c0}var pT;function HP(){return pT||(pT=1,l0.exports=UP()),l0.exports}var $P=HP();function FP(t){t()}function qP(){let t=null,e=null;return{clear(){t=null,e=null},notify(){FP(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var mT={notify(){},get:()=>[]};function YP(t,e){let n,r=mT,s=0,o=!1;function a(w){p();const C=r.subscribe(w);let k=!1;return()=>{k||(k=!0,C(),m())}}function c(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function p(){s++,n||(n=t.subscribe(d),r=qP())}function m(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=mT)}function y(){o||(o=!0,p())}function x(){o&&(o=!1,m())}const S={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return S}var GP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WP=GP(),KP=()=>typeof navigator<"u"&&navigator.product==="ReactNative",QP=KP(),XP=()=>WP||QP?M.useLayoutEffect:M.useEffect,JP=XP(),ZP=Symbol.for("react-redux-context"),e4=typeof globalThis<"u"?globalThis:{};function t4(){if(!M.createContext)return{};const t=e4[ZP]??=new Map;let e=t.get(M.createContext);return e||(e=M.createContext(null),t.set(M.createContext,e)),e}var Qi=t4();function n4(t){const{children:e,context:n,serverState:r,store:s}=t,o=M.useMemo(()=>{const d=YP(s);return{store:s,subscription:d,getServerState:r?()=>r:void 0}},[s,r]),a=M.useMemo(()=>s.getState(),[s]);JP(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),a!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,a]);const c=n||Qi;return M.createElement(c.Provider,{value:o},e)}var r4=n4;function X1(t=Qi){return function(){return M.useContext(t)}}var m2=X1();function g2(t=Qi){const e=t===Qi?m2:X1(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var s4=g2();function i4(t=Qi){const e=t===Qi?s4:g2(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var yn=i4(),o4=(t,e)=>t===e;function a4(t=Qi){const e=t===Qi?m2:X1(t),n=(r,s={})=>{const{equalityFn:o=o4}=typeof s=="function"?{equalityFn:s}:s,a=e(),{store:c,subscription:d,getServerState:f}=a;M.useRef(!0);const p=M.useCallback({[r.name](y){return r(y)}}[r.name],[r]),m=$P.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,f||c.getState,p,o);return M.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var mt=a4();function en(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var l4=typeof Symbol=="function"&&Symbol.observable||"@@observable",gT=l4,u0=()=>Math.random().toString(36).substring(7).split("").join("."),c4={INIT:`@@redux/INIT${u0()}`,REPLACE:`@@redux/REPLACE${u0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u0()}`},zh=c4;function J1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Z1(t,e,n){if(typeof t!="function")throw new Error(en(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(en(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(en(1));return n(Z1)(t,e)}let r=t,s=e,o=new Map,a=o,c=0,d=!1;function f(){a===o&&(a=new Map,o.forEach((C,k)=>{a.set(k,C)}))}function p(){if(d)throw new Error(en(3));return s}function m(C){if(typeof C!="function")throw new Error(en(4));if(d)throw new Error(en(5));let k=!0;f();const _=c++;return a.set(_,C),function(){if(k){if(d)throw new Error(en(6));k=!1,f(),a.delete(_),o=null}}}function y(C){if(!J1(C))throw new Error(en(7));if(typeof C.type>"u")throw new Error(en(8));if(typeof C.type!="string")throw new Error(en(17));if(d)throw new Error(en(9));try{d=!0,s=r(s,C)}finally{d=!1}return(o=a).forEach(_=>{_()}),C}function x(C){if(typeof C!="function")throw new Error(en(10));r=C,y({type:zh.REPLACE})}function S(){const C=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(en(11));function _(){const N=k;N.next&&N.next(p())}return _(),{unsubscribe:C(_)}},[gT](){return this}}}return y({type:zh.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:x,[gT]:S}}function u4(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:zh.INIT})>"u")throw new Error(en(12));if(typeof n(void 0,{type:zh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(en(13))})}function d4(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let s;try{u4(n)}catch(o){s=o}return function(a={},c){if(s)throw s;let d=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],y=n[m],x=a[m],S=y(x,c);if(typeof S>"u")throw c&&c.type,new Error(en(14));f[m]=S,d=d||S!==x}return d=d||r.length!==Object.keys(a).length,d?f:a}}function Bh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function f4(...t){return e=>(n,r)=>{const s=e(n,r);let o=()=>{throw new Error(en(15))};const a={getState:s.getState,dispatch:(d,...f)=>o(d,...f)},c=t.map(d=>d(a));return o=Bh(...c)(s.dispatch),{...s,dispatch:o}}}function h4(t){return J1(t)&&"type"in t&&typeof t.type=="string"}var y2=Symbol.for("immer-nothing"),yT=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function jr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cl=Object.getPrototypeOf;function Xo(t){return!!t&&!!t[tr]}function Qs(t){return t?v2(t)||Array.isArray(t)||!!t[yT]||!!t.constructor?.[yT]||Qp(t)||Xp(t):!1}var p4=Object.prototype.constructor.toString();function v2(t){if(!t||typeof t!="object")return!1;const e=Cl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===p4}function Ih(t,e){Kp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Kp(t){const e=t[tr];return e?e.type_:Array.isArray(t)?1:Qp(t)?2:Xp(t)?3:0}function Tv(t,e){return Kp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function b2(t,e,n){const r=Kp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function m4(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Qp(t){return t instanceof Map}function Xp(t){return t instanceof Set}function Ao(t){return t.copy_||t.base_}function _v(t,e){if(Qp(t))return new Map(t);if(Xp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=v2(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[tr];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const a=s[o],c=r[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Cl(t),r)}else{const r=Cl(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function eb(t,e=!1){return Jp(t)||Xo(t)||!Qs(t)||(Kp(t)>1&&(t.set=t.add=t.clear=t.delete=g4),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>eb(r,!0))),t}function g4(){jr(2)}function Jp(t){return Object.isFrozen(t)}var y4={};function Jo(t){const e=y4[t];return e||jr(0,t),e}var Ou;function x2(){return Ou}function v4(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vT(t,e){e&&(Jo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ev(t){Mv(t),t.drafts_.forEach(b4),t.drafts_=null}function Mv(t){t===Ou&&(Ou=t.parent_)}function bT(t){return Ou=v4(Ou,t)}function b4(t){const e=t[tr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[tr].modified_&&(Ev(e),jr(4)),Qs(t)&&(t=Vh(e,t),e.parent_||Uh(e,t)),e.patches_&&Jo("Patches").generateReplacementPatches_(n[tr].base_,t,e.patches_,e.inversePatches_)):t=Vh(e,n,[]),Ev(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==y2?t:void 0}function Vh(t,e,n){if(Jp(e))return e;const r=e[tr];if(!r)return Ih(e,(s,o)=>ST(t,r,e,s,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Uh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,a=!1;r.type_===3&&(o=new Set(s),s.clear(),a=!0),Ih(o,(c,d)=>ST(t,r,s,c,d,n,a)),Uh(t,s,!1),n&&t.patches_&&Jo("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function ST(t,e,n,r,s,o,a){if(Xo(s)){const c=o&&e&&e.type_!==3&&!Tv(e.assigned_,r)?o.concat(r):void 0,d=Vh(t,s,c);if(b2(n,r,d),Xo(d))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(Qs(s)&&!Jp(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Vh(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Uh(t,s)}}function Uh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&eb(e,n)}function x4(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:x2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=tb;n&&(s=[r],o=Au);const{revoke:a,proxy:c}=Proxy.revocable(s,o);return r.draft_=c,r.revoke_=a,c}var tb={get(t,e){if(e===tr)return t;const n=Ao(t);if(!Tv(n,e))return S4(t,n,e);const r=n[e];return t.finalized_||!Qs(r)?r:r===d0(t.base_,e)?(f0(t),t.copy_[e]=Av(r,t)):r},has(t,e){return e in Ao(t)},ownKeys(t){return Reflect.ownKeys(Ao(t))},set(t,e,n){const r=S2(Ao(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=d0(Ao(t),e),o=s?.[tr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(m4(n,s)&&(n!==void 0||Tv(t.base_,e)))return!0;f0(t),Ov(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return d0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,f0(t),Ov(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ao(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){jr(11)},getPrototypeOf(t){return Cl(t.base_)},setPrototypeOf(){jr(12)}},Au={};Ih(tb,(t,e)=>{Au[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Au.deleteProperty=function(t,e){return Au.set.call(this,t,e,void 0)};Au.set=function(t,e,n){return tb.set.call(this,t[0],e,n,t[0])};function d0(t,e){const n=t[tr];return(n?Ao(n):t)[e]}function S4(t,e,n){const r=S2(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function S2(t,e){if(!(e in t))return;let n=Cl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cl(n)}}function Ov(t){t.modified_||(t.modified_=!0,t.parent_&&Ov(t.parent_))}function f0(t){t.copy_||(t.copy_=_v(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var w4=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(d=o,...f){return a.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&jr(6),r!==void 0&&typeof r!="function"&&jr(7);let s;if(Qs(e)){const o=bT(this),a=Av(e,void 0);let c=!0;try{s=n(a),c=!1}finally{c?Ev(o):Mv(o)}return vT(o,r),xT(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===y2&&(s=void 0),this.autoFreeze_&&eb(s,!0),r){const o=[],a=[];Jo("Patches").generateReplacementPatches_(e,s,o,a),r(o,a)}return s}else jr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,d=>e(d,...c));let r,s;return[this.produce(e,n,(a,c)=>{r=a,s=c}),r,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Qs(t)||jr(8),Xo(t)&&(t=C4(t));const e=bT(this),n=Av(t,void 0);return n[tr].isManual_=!0,Mv(e),n}finishDraft(t,e){const n=t&&t[tr];(!n||!n.isManual_)&&jr(9);const{scope_:r}=n;return vT(r,e),xT(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Jo("Patches").applyPatches_;return Xo(t)?r(t,e):this.produce(t,s=>r(s,e))}};function Av(t,e){const n=Qp(t)?Jo("MapSet").proxyMap_(t,e):Xp(t)?Jo("MapSet").proxySet_(t,e):x4(t,e);return(e?e.scope_:x2()).drafts_.push(n),n}function C4(t){return Xo(t)||jr(10,t),w2(t)}function w2(t){if(!Qs(t)||Jp(t))return t;const e=t[tr];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_v(t,e.scope_.immer_.useStrictShallowCopy_)}else n=_v(t,!0);return Ih(n,(r,s)=>{b2(n,r,w2(s))}),e&&(e.finalized_=!1),n}var nr=new w4,C2=nr.produce;nr.produceWithPatches.bind(nr);nr.setAutoFreeze.bind(nr);nr.setUseStrictShallowCopy.bind(nr);nr.applyPatches.bind(nr);nr.createDraft.bind(nr);nr.finishDraft.bind(nr);function k2(t){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,t):s(o)}var k4=k2(),T4=k2,_4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bh:Bh.apply(null,arguments)},E4=t=>t&&typeof t.match=="function";function cu(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(Fs(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>h4(r)&&r.type===t,n}var T2=class ru extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ru.prototype)}static get[Symbol.species](){return ru}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ru(...e[0].concat(this)):new ru(...e.concat(this))}};function wT(t){return Qs(t)?C2(t,()=>{}):t}function If(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function M4(t){return typeof t=="boolean"}var O4=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let a=new T2;return n&&(M4(n)?a.push(k4):a.push(T4(n.extraArgument))),a},A4="RTK_autoBatch",CT=t=>e=>{setTimeout(e,t)},N4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,o=!1,a=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CT(10):t.type==="callback"?t.queueNotification:CT(t.timeout),f=()=>{a=!1,o&&(o=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>s&&p(),y=r.subscribe(m);return c.add(p),()=>{y(),c.delete(p)}},dispatch(p){try{return s=!p?.meta?.[A4],o=!s,o&&(a||(a=!0,d(f))),r.dispatch(p)}finally{s=!0}}})},D4=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new T2(t);return r&&s.push(N4(typeof r=="object"?r:void 0)),s};function R4(t){const e=O4(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(J1(n))c=d4(n);else throw new Error(Fs(1));let d;typeof r=="function"?d=r(e):d=e();let f=Bh;s&&(f=_4({trace:!1,...typeof s=="object"&&s}));const p=f4(...d),m=D4(p);let y=typeof a=="function"?a(m):m();const x=f(...y);return Z1(c,o,x)}function _2(t){const e={},n=[];let r;const s={addCase(o,a){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Fs(28));if(c in e)throw new Error(Fs(29));return e[c]=a,s},addMatcher(o,a){return n.push({matcher:o,reducer:a}),s},addDefaultCase(o){return r=o,s}};return t(s),[e,n,r]}function j4(t){return typeof t=="function"}function L4(t,e){let[n,r,s]=_2(e),o;if(j4(t))o=()=>wT(t());else{const c=wT(t);o=()=>c}function a(c=o(),d){let f=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[s]),f.reduce((p,m)=>{if(m)if(Xo(p)){const x=m(p,d);return x===void 0?p:x}else{if(Qs(p))return C2(p,y=>m(y,d));{const y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},c)}return a.getInitialState=o,a}var P4=(t,e)=>E4(t)?t.match(e):t(e);function z4(...t){return e=>t.some(n=>P4(n,e))}var B4="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I4=(t=21)=>{let e="",n=t;for(;n--;)e+=B4[Math.random()*64|0];return e},V4=["name","message","stack","code"],h0=class{constructor(t,e){this.payload=t,this.meta=e}_type},kT=class{constructor(t,e){this.payload=t,this.meta=e}_type},U4=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of V4)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},TT="External signal was aborted",Zp=(()=>{function t(e,n,r){const s=cu(e+"/fulfilled",(d,f,p,m)=>({payload:d,meta:{...m||{},arg:p,requestId:f,requestStatus:"fulfilled"}})),o=cu(e+"/pending",(d,f,p)=>({payload:void 0,meta:{...p||{},arg:f,requestId:d,requestStatus:"pending"}})),a=cu(e+"/rejected",(d,f,p,m,y)=>({payload:m,error:(r&&r.serializeError||U4)(d||"Rejected"),meta:{...y||{},arg:p,requestId:f,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:f}={}){return(p,m,y)=>{const x=r?.idGenerator?r.idGenerator(d):I4(),S=new AbortController;let w,C;function k(A){C=A,S.abort()}f&&(f.aborted?k(TT):f.addEventListener("abort",()=>k(TT),{once:!0}));const _=async function(){let A;try{let O=r?.condition?.(d,{getState:m,extra:y});if($4(O)&&(O=await O),O===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const j=new Promise((P,D)=>{w=()=>{D({name:"AbortError",message:C||"Aborted"})},S.signal.addEventListener("abort",w)});p(o(x,d,r?.getPendingMeta?.({requestId:x,arg:d},{getState:m,extra:y}))),A=await Promise.race([j,Promise.resolve(n(d,{dispatch:p,getState:m,extra:y,requestId:x,signal:S.signal,abort:k,rejectWithValue:(P,D)=>new h0(P,D),fulfillWithValue:(P,D)=>new kT(P,D)})).then(P=>{if(P instanceof h0)throw P;return P instanceof kT?s(P.payload,x,d,P.meta):s(P,x,d)})])}catch(O){A=O instanceof h0?a(null,x,d,O.payload,O.meta):a(O,x,d)}finally{w&&S.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&a.match(A)&&A.meta.condition||p(A),A}();return Object.assign(_,{abort:k,requestId:x,arg:d,unwrap(){return _.then(H4)}})}}return Object.assign(c,{pending:o,rejected:a,fulfilled:s,settled:z4(a,s),typePrefix:e})}return t.withTypes=()=>t,t})();function H4(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function $4(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var F4=Symbol.for("rtk-slice-createasyncthunk");function q4(t,e){return`${t}/${e}`}function Y4({creators:t}={}){const e=t?.asyncThunk?.[F4];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(Fs(11));const a=(typeof r.reducers=="function"?r.reducers(W4()):r.reducers)||{},c=Object.keys(a),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(A,N){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(Fs(12));if(O in d.sliceCaseReducersByType)throw new Error(Fs(13));return d.sliceCaseReducersByType[O]=N,f},addMatcher(A,N){return d.sliceMatchers.push({matcher:A,reducer:N}),f},exposeAction(A,N){return d.actionCreators[A]=N,f},exposeCaseReducer(A,N){return d.sliceCaseReducersByName[A]=N,f}};c.forEach(A=>{const N=a[A],O={reducerName:A,type:q4(s,A),createNotation:typeof r.reducers=="function"};Q4(N)?J4(O,N,f,e):K4(O,N,f)});function p(){const[A={},N=[],O=void 0]=typeof r.extraReducers=="function"?_2(r.extraReducers):[r.extraReducers],j={...A,...d.sliceCaseReducersByType};return L4(r.initialState,P=>{for(let D in j)P.addCase(D,j[D]);for(let D of d.sliceMatchers)P.addMatcher(D.matcher,D.reducer);for(let D of N)P.addMatcher(D.matcher,D.reducer);O&&P.addDefaultCase(O)})}const m=A=>A,y=new Map,x=new WeakMap;let S;function w(A,N){return S||(S=p()),S(A,N)}function C(){return S||(S=p()),S.getInitialState()}function k(A,N=!1){function O(P){let D=P[A];return typeof D>"u"&&N&&(D=If(x,O,C)),D}function j(P=m){const D=If(y,N,()=>new WeakMap);return If(D,P,()=>{const H={};for(const[X,Z]of Object.entries(r.selectors??{}))H[X]=G4(Z,P,()=>If(x,P,C),N);return H})}return{reducerPath:A,getSelectors:j,get selectors(){return j(O)},selectSlice:O}}const _={name:s,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...k(o),injectInto(A,{reducerPath:N,...O}={}){const j=N??o;return A.inject({reducerPath:j,reducer:w},O),{..._,...k(j,!0)}}};return _}}function G4(t,e,n,r){function s(o,...a){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...a)}return s.unwrapped=t,s}var nb=Y4();function W4(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function K4({type:t,reducerName:e,createNotation:n},r,s){let o,a;if("reducer"in r){if(n&&!X4(r))throw new Error(Fs(17));o=r.reducer,a=r.prepare}else o=r;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?cu(t,a):cu(t))}function Q4(t){return t._reducerDefinitionType==="asyncThunk"}function X4(t){return t._reducerDefinitionType==="reducerWithPrepare"}function J4({type:t,reducerName:e},n,r,s){if(!s)throw new Error(Fs(18));const{payloadCreator:o,fulfilled:a,pending:c,rejected:d,settled:f,options:p}=n,m=s(t,o,p);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),c&&r.addCase(m.pending,c),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(e,{fulfilled:a||Vf,pending:c||Vf,rejected:d||Vf,settled:f||Vf})}function Vf(){}function Fs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var rb="persist:",E2="persist/FLUSH",sb="persist/REHYDRATE",M2="persist/PAUSE",O2="persist/PERSIST",A2="persist/PURGE",N2="persist/REGISTER",Z4=-1;function gh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gh=function(n){return typeof n}:gh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gh(t)}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(n,!0).forEach(function(r){tz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nz(t,e,n,r){r.debug;var s=ez({},n);return t&&gh(t)==="object"&&Object.keys(t).forEach(function(o){o!=="_persist"&&e[o]===n[o]&&(s[o]=t[o])}),s}function rz(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,o="".concat(t.keyPrefix!==void 0?t.keyPrefix:rb).concat(t.key),a=t.storage,c;t.serialize===!1?c=function(O){return O}:typeof t.serialize=="function"?c=t.serialize:c=sz;var d=t.writeFailHandler||null,f={},p={},m=[],y=null,x=null,S=function(O){Object.keys(O).forEach(function(j){k(j)&&f[j]!==O[j]&&m.indexOf(j)===-1&&m.push(j)}),Object.keys(f).forEach(function(j){O[j]===void 0&&k(j)&&m.indexOf(j)===-1&&f[j]!==void 0&&m.push(j)}),y===null&&(y=setInterval(w,s)),f=O};function w(){if(m.length===0){y&&clearInterval(y),y=null;return}var N=m.shift(),O=r.reduce(function(j,P){return P.in(j,N,f)},f[N]);if(O!==void 0)try{p[N]=c(O)}catch(j){console.error("redux-persist/createPersistoid: error serializing state",j)}else delete p[N];m.length===0&&C()}function C(){Object.keys(p).forEach(function(N){f[N]===void 0&&delete p[N]}),x=a.setItem(o,c(p)).catch(_)}function k(N){return!(n&&n.indexOf(N)===-1&&N!=="_persist"||e&&e.indexOf(N)!==-1)}function _(N){d&&d(N)}var A=function(){for(;m.length!==0;)w();return x||Promise.resolve()};return{update:S,flush:A}}function sz(t){return JSON.stringify(t)}function iz(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:rb).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(a){return a}:typeof t.deserialize=="function"?s=t.deserialize:s=oz,r.getItem(n).then(function(o){if(o)try{var a={},c=s(o);return Object.keys(c).forEach(function(d){a[d]=e.reduceRight(function(f,p){return p.out(f,d,c)},s(c[d]))}),a}catch(d){throw d}else return})}function oz(t){return JSON.parse(t)}function az(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:rb).concat(t.key);return e.removeItem(n,lz)}function lz(t){}function ET(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ET(n,!0).forEach(function(r){cz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ET(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uz(t,e){if(t==null)return{};var n=dz(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var fz=5e3;function p0(t,e){var n=t.version!==void 0?t.version:Z4;t.debug;var r=t.stateReconciler===void 0?nz:t.stateReconciler,s=t.getStoredState||iz,o=t.timeout!==void 0?t.timeout:fz,a=null,c=!1,d=!0,f=function(m){return m._persist.rehydrated&&a&&!d&&a.update(m),m};return function(p,m){var y=p||{},x=y._persist,S=uz(y,["_persist"]),w=S;if(m.type===O2){var C=!1,k=function(D,H){C||(m.rehydrate(t.key,D,H),C=!0)};if(o&&setTimeout(function(){!C&&k(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},o),d=!1,a||(a=rz(t)),x)return Ds({},e(w,m),{_persist:x});if(typeof m.rehydrate!="function"||typeof m.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return m.register(t.key),s(t).then(function(P){var D=t.migrate||function(H,X){return Promise.resolve(H)};D(P,n).then(function(H){k(H)},function(H){k(void 0,H)})},function(P){k(void 0,P)}),Ds({},e(w,m),{_persist:{version:n,rehydrated:!1}})}else{if(m.type===A2)return c=!0,m.result(az(t)),Ds({},e(w,m),{_persist:x});if(m.type===E2)return m.result(a&&a.flush()),Ds({},e(w,m),{_persist:x});if(m.type===M2)d=!0;else if(m.type===sb){if(c)return Ds({},w,{_persist:Ds({},x,{rehydrated:!0})});if(m.key===t.key){var _=e(w,m),A=m.payload,N=r!==!1&&A!==void 0?r(A,p,_,t):_,O=Ds({},N,{_persist:Ds({},x,{rehydrated:!0})});return f(O)}}}if(!x)return e(p,m);var j=e(w,m);return j===w?p:f(Ds({},j,{_persist:x}))}}function MT(t){return mz(t)||pz(t)||hz()}function hz(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function pz(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function mz(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(n,!0).forEach(function(r){gz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D2={registry:[],bootstrapped:!1},yz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D2,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case N2:return Nv({},e,{registry:[].concat(MT(e.registry),[n.key])});case sb:var r=e.registry.indexOf(n.key),s=MT(e.registry);return s.splice(r,1),Nv({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function vz(t,e,n){var r=Z1(yz,D2,void 0),s=function(d){r.dispatch({type:N2,key:d})},o=function(d,f,p){var m={type:sb,payload:f,err:p,key:d};t.dispatch(m),r.dispatch(m)},a=Nv({},r,{purge:function(){var d=[];return t.dispatch({type:A2,result:function(p){d.push(p)}}),Promise.all(d)},flush:function(){var d=[];return t.dispatch({type:E2,result:function(p){d.push(p)}}),Promise.all(d)},pause:function(){t.dispatch({type:M2})},persist:function(){t.dispatch({type:O2,register:s,rehydrate:o})}});return a.persist(),a}var Wc={},Uf={},Hf={},AT;function bz(){if(AT)return Hf;AT=1,Hf.__esModule=!0,Hf.default=s;function t(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(c){return typeof c}:t=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(o)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(o){if((typeof self>"u"?"undefined":t(self))!=="object"||!(o in self))return!1;try{var a=self[o],c="redux-persist ".concat(o," test");a.setItem(c,"test"),a.getItem(c),a.removeItem(c)}catch{return!1}return!0}function s(o){var a="".concat(o,"Storage");return r(a)?self[a]:n}return Hf}var NT;function xz(){if(NT)return Uf;NT=1,Uf.__esModule=!0,Uf.default=n;var t=e(bz());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var s=(0,t.default)(r);return{getItem:function(a){return new Promise(function(c,d){c(s.getItem(a))})},setItem:function(a,c){return new Promise(function(d,f){d(s.setItem(a,c))})},removeItem:function(a){return new Promise(function(c,d){c(s.removeItem(a))})}}}return Uf}var DT;function Sz(){if(DT)return Wc;DT=1,Wc.__esModule=!0,Wc.default=void 0;var t=e(xz());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return Wc.default=n,Wc}var wz=Sz();const Cz=Wp(wz);function R2(t,e){return function(){return t.apply(e,arguments)}}const{toString:kz}=Object.prototype,{getPrototypeOf:ib}=Object,{iterator:em,toStringTag:j2}=Symbol,tm=(t=>e=>{const n=kz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hr=t=>(t=t.toLowerCase(),e=>tm(e)===t),nm=t=>e=>typeof e===t,{isArray:jl}=Array,kl=nm("undefined");function td(t){return t!==null&&!kl(t)&&t.constructor!==null&&!kl(t.constructor)&&Bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const L2=Hr("ArrayBuffer");function Tz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&L2(t.buffer),e}const _z=nm("string"),Bn=nm("function"),P2=nm("number"),nd=t=>t!==null&&typeof t=="object",Ez=t=>t===!0||t===!1,yh=t=>{if(tm(t)!=="object")return!1;const e=ib(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(j2 in t)&&!(em in t)},Mz=t=>{if(!nd(t)||td(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Oz=Hr("Date"),Az=Hr("File"),Nz=Hr("Blob"),Dz=Hr("FileList"),Rz=t=>nd(t)&&Bn(t.pipe),jz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bn(t.append)&&((e=tm(t))==="formdata"||e==="object"&&Bn(t.toString)&&t.toString()==="[object FormData]"))},Lz=Hr("URLSearchParams"),[Pz,zz,Bz,Iz]=["ReadableStream","Request","Response","Headers"].map(Hr),Vz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),jl(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(td(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let c;for(r=0;r<a;r++)c=o[r],e.call(null,t[c],c,t)}}function z2(t,e){if(td(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,B2=t=>!kl(t)&&t!==Ro;function Dv(){const{caseless:t,skipUndefined:e}=B2(this)&&this||{},n={},r=(s,o)=>{const a=t&&z2(n,o)||o;yh(n[a])&&yh(s)?n[a]=Dv(n[a],s):yh(s)?n[a]=Dv({},s):jl(s)?n[a]=s.slice():(!e||!kl(s))&&(n[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&rd(arguments[s],r);return n}const Uz=(t,e,n,{allOwnKeys:r}={})=>(rd(e,(s,o)=>{n&&Bn(s)?t[o]=R2(s,n):t[o]=s},{allOwnKeys:r}),t),Hz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$z=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Fz=(t,e,n,r)=>{let s,o,a;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)a=s[o],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&ib(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},qz=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Yz=t=>{if(!t)return null;if(jl(t))return t;let e=t.length;if(!P2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Gz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ib(Uint8Array)),Wz=(t,e)=>{const r=(t&&t[em]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Kz=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Qz=Hr("HTMLFormElement"),Xz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),RT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Jz=Hr("RegExp"),I2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};rd(n,(s,o)=>{let a;(a=e(s,o,t))!==!1&&(r[o]=a||s)}),Object.defineProperties(t,r)},Zz=t=>{I2(t,(e,n)=>{if(Bn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Bn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eB=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return jl(t)?r(t):r(String(t).split(e)),n},tB=()=>{},nB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rB(t){return!!(t&&Bn(t.append)&&t[j2]==="FormData"&&t[em])}const sB=t=>{const e=new Array(10),n=(r,s)=>{if(nd(r)){if(e.indexOf(r)>=0)return;if(td(r))return r;if(!("toJSON"in r)){e[s]=r;const o=jl(r)?[]:{};return rd(r,(a,c)=>{const d=n(a,s+1);!kl(d)&&(o[c]=d)}),e[s]=void 0,o}}return r};return n(t,0)},iB=Hr("AsyncFunction"),oB=t=>t&&(nd(t)||Bn(t))&&Bn(t.then)&&Bn(t.catch),V2=((t,e)=>t?setImmediate:e?((n,r)=>(Ro.addEventListener("message",({source:s,data:o})=>{s===Ro&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ro.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bn(Ro.postMessage)),aB=typeof queueMicrotask<"u"?queueMicrotask.bind(Ro):typeof process<"u"&&process.nextTick||V2,lB=t=>t!=null&&Bn(t[em]),F={isArray:jl,isArrayBuffer:L2,isBuffer:td,isFormData:jz,isArrayBufferView:Tz,isString:_z,isNumber:P2,isBoolean:Ez,isObject:nd,isPlainObject:yh,isEmptyObject:Mz,isReadableStream:Pz,isRequest:zz,isResponse:Bz,isHeaders:Iz,isUndefined:kl,isDate:Oz,isFile:Az,isBlob:Nz,isRegExp:Jz,isFunction:Bn,isStream:Rz,isURLSearchParams:Lz,isTypedArray:Gz,isFileList:Dz,forEach:rd,merge:Dv,extend:Uz,trim:Vz,stripBOM:Hz,inherits:$z,toFlatObject:Fz,kindOf:tm,kindOfTest:Hr,endsWith:qz,toArray:Yz,forEachEntry:Wz,matchAll:Kz,isHTMLForm:Qz,hasOwnProperty:RT,hasOwnProp:RT,reduceDescriptors:I2,freezeMethods:Zz,toObjectSet:eB,toCamelCase:Xz,noop:tB,toFiniteNumber:nB,findKey:z2,global:Ro,isContextDefined:B2,isSpecCompliantForm:rB,toJSONObject:sB,isAsyncFn:iB,isThenable:oB,setImmediate:V2,asap:aB,isIterable:lB};function we(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}F.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const U2=we.prototype,H2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{H2[t]={value:t}});Object.defineProperties(we,H2);Object.defineProperty(U2,"isAxiosError",{value:!0});we.from=(t,e,n,r,s,o)=>{const a=Object.create(U2);F.toFlatObject(t,a,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const c=t&&t.message?t.message:"Error",d=e==null&&t?t.code:e;return we.call(a,c,d,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const cB=null;function Rv(t){return F.isPlainObject(t)||F.isArray(t)}function $2(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function jT(t,e,n){return t?t.concat(e).map(function(s,o){return s=$2(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function uB(t){return F.isArray(t)&&!t.some(Rv)}const dB=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function rm(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,C){return!F.isUndefined(C[w])});const r=n.metaTokens,s=n.visitor||p,o=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(s))throw new TypeError("visitor must be a function");function f(S){if(S===null)return"";if(F.isDate(S))return S.toISOString();if(F.isBoolean(S))return S.toString();if(!d&&F.isBlob(S))throw new we("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(S)||F.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,w,C){let k=S;if(S&&!C&&typeof S=="object"){if(F.endsWith(w,"{}"))w=r?w:w.slice(0,-2),S=JSON.stringify(S);else if(F.isArray(S)&&uB(S)||(F.isFileList(S)||F.endsWith(w,"[]"))&&(k=F.toArray(S)))return w=$2(w),k.forEach(function(A,N){!(F.isUndefined(A)||A===null)&&e.append(a===!0?jT([w],N,o):a===null?w:w+"[]",f(A))}),!1}return Rv(S)?!0:(e.append(jT(C,w,o),f(S)),!1)}const m=[],y=Object.assign(dB,{defaultVisitor:p,convertValue:f,isVisitable:Rv});function x(S,w){if(!F.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(S),F.forEach(S,function(k,_){(!(F.isUndefined(k)||k===null)&&s.call(e,k,F.isString(_)?_.trim():_,w,y))===!0&&x(k,w?w.concat(_):[_])}),m.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return x(t),e}function LT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ob(t,e){this._pairs=[],t&&rm(t,this,e)}const F2=ob.prototype;F2.append=function(e,n){this._pairs.push([e,n])};F2.toString=function(e){const n=e?function(r){return e.call(this,r,LT)}:LT;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function fB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function q2(t,e,n){if(!e)return t;const r=n&&n.encode||fB;F.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=F.isURLSearchParams(e)?e.toString():new ob(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class PT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Y2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hB=typeof URLSearchParams<"u"?URLSearchParams:ob,pB=typeof FormData<"u"?FormData:null,mB=typeof Blob<"u"?Blob:null,gB={isBrowser:!0,classes:{URLSearchParams:hB,FormData:pB,Blob:mB},protocols:["http","https","file","blob","url","data"]},ab=typeof window<"u"&&typeof document<"u",jv=typeof navigator=="object"&&navigator||void 0,yB=ab&&(!jv||["ReactNative","NativeScript","NS"].indexOf(jv.product)<0),vB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bB=ab&&window.location.href||"http://localhost",xB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ab,hasStandardBrowserEnv:yB,hasStandardBrowserWebWorkerEnv:vB,navigator:jv,origin:bB},Symbol.toStringTag,{value:"Module"})),fn={...xB,...gB};function SB(t,e){return rm(t,new fn.classes.URLSearchParams,{visitor:function(n,r,s,o){return fn.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function wB(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CB(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function G2(t){function e(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),d=o>=n.length;return a=!a&&F.isArray(s)?s.length:a,d?(F.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!F.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],o)&&F.isArray(s[a])&&(s[a]=CB(s[a])),!c)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,s)=>{e(wB(r),s,n,0)}),n}return null}function kB(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const sd={transitional:Y2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=F.isObject(e);if(o&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return s?JSON.stringify(G2(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return SB(e,this.formSerializer).toString();if((c=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return rm(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),kB(e)):e}],transformResponse:[function(e){const n=this.transitional||sd.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?we.from(c,we.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{sd.headers[t]={}});const TB=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_B=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&TB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},zT=Symbol("internals");function Kc(t){return t&&String(t).trim().toLowerCase()}function vh(t){return t===!1||t==null?t:F.isArray(t)?t.map(vh):String(t)}function EB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const MB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function m0(t,e,n,r,s){if(F.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function OB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function AB(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,a){return this[r].call(this,e,s,o,a)},configurable:!0})})}let In=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(c,d,f){const p=Kc(d);if(!p)throw new Error("header name must be a non-empty string");const m=F.findKey(s,p);(!m||s[m]===void 0||f===!0||f===void 0&&s[m]!==!1)&&(s[m||d]=vh(c))}const a=(c,d)=>F.forEach(c,(f,p)=>o(f,p,d));if(F.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(F.isString(e)&&(e=e.trim())&&!MB(e))a(_B(e),n);else if(F.isObject(e)&&F.isIterable(e)){let c={},d,f;for(const p of e){if(!F.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[f=p[0]]=(d=c[f])?F.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}a(c,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Kc(e),e){const r=F.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return EB(s);if(F.isFunction(n))return n.call(this,s,r);if(F.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Kc(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||m0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(a){if(a=Kc(a),a){const c=F.findKey(r,a);c&&(!n||m0(r,r[c],c,n))&&(delete r[c],s=!0)}}return F.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||m0(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return F.forEach(this,(s,o)=>{const a=F.findKey(r,o);if(a){n[a]=vh(s),delete n[o];return}const c=e?OB(o):String(o).trim();c!==o&&delete n[o],n[c]=vh(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[zT]=this[zT]={accessors:{}}).accessors,s=this.prototype;function o(a){const c=Kc(a);r[c]||(AB(s,a),r[c]=!0)}return F.isArray(e)?e.forEach(o):o(e),this}};In.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(In.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(In);function g0(t,e){const n=this||sd,r=e||n,s=In.from(r.headers);let o=r.data;return F.forEach(t,function(c){o=c.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function W2(t){return!!(t&&t.__CANCEL__)}function Ll(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Ll,we,{__CANCEL__:!0});function K2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function NB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function DB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,a;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),p=r[o];a||(a=f),n[s]=d,r[s]=f;let m=o,y=0;for(;m!==s;)y+=n[m++],m=m%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),f-a<e)return;const x=p&&f-p;return x?Math.round(y*1e3/x):void 0}}function RB(t,e){let n=0,r=1e3/e,s,o;const a=(f,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const p=Date.now(),m=p-n;m>=r?a(f,p):(s=f,o||(o=setTimeout(()=>{o=null,a(s)},r-m)))},()=>s&&a(s)]}const Hh=(t,e,n=3)=>{let r=0;const s=DB(50,250);return RB(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,d=a-r,f=s(d),p=a<=c;r=a;const m={loaded:a,total:c,progress:c?a/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&p?(c-a)/f:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},n)},BT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},IT=t=>(...e)=>F.asap(()=>t(...e)),jB=fn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,fn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(fn.origin),fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent)):()=>!0,LB=fn.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const a=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),F.isString(r)&&a.push("path="+r),F.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Q2(t,e,n){let r=!PB(e);return t&&(r||n==!1)?zB(t,e):e}const VT=t=>t instanceof In?{...t}:t;function Zo(t,e){e=e||{};const n={};function r(f,p,m,y){return F.isPlainObject(f)&&F.isPlainObject(p)?F.merge.call({caseless:y},f,p):F.isPlainObject(p)?F.merge({},p):F.isArray(p)?p.slice():p}function s(f,p,m,y){if(F.isUndefined(p)){if(!F.isUndefined(f))return r(void 0,f,m,y)}else return r(f,p,m,y)}function o(f,p){if(!F.isUndefined(p))return r(void 0,p)}function a(f,p){if(F.isUndefined(p)){if(!F.isUndefined(f))return r(void 0,f)}else return r(void 0,p)}function c(f,p,m){if(m in e)return r(f,p);if(m in t)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(f,p,m)=>s(VT(f),VT(p),m,!0)};return F.forEach(Object.keys({...t,...e}),function(p){const m=d[p]||s,y=m(t[p],e[p],p);F.isUndefined(y)&&m!==c||(n[p]=y)}),n}const X2=t=>{const e=Zo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:c}=e;if(e.headers=a=In.from(a),e.url=q2(Q2(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),F.isFormData(n)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(F.isFunction(n.getHeaders)){const d=n.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&a.set(p,m)})}}if(fn.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&jB(e.url))){const d=s&&o&&LB.read(o);d&&a.set(s,d)}return e},BB=typeof XMLHttpRequest<"u",IB=BB&&function(t){return new Promise(function(n,r){const s=X2(t);let o=s.data;const a=In.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=s,p,m,y,x,S;function w(){x&&x(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function k(){if(!C)return;const A=In.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),O={data:!c||c==="text"||c==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:A,config:t,request:C};K2(function(P){n(P),w()},function(P){r(P),w()},O),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(r(new we("Request aborted",we.ECONNABORTED,t,C)),C=null)},C.onerror=function(N){const O=N&&N.message?N.message:"Network Error",j=new we(O,we.ERR_NETWORK,t,C);j.event=N||null,r(j),C=null},C.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||Y2;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new we(N,O.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,C)),C=null},o===void 0&&a.setContentType(null),"setRequestHeader"in C&&F.forEach(a.toJSON(),function(N,O){C.setRequestHeader(O,N)}),F.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),c&&c!=="json"&&(C.responseType=s.responseType),f&&([y,S]=Hh(f,!0),C.addEventListener("progress",y)),d&&C.upload&&([m,x]=Hh(d),C.upload.addEventListener("progress",m),C.upload.addEventListener("loadend",x)),(s.cancelToken||s.signal)&&(p=A=>{C&&(r(!A||A.type?new Ll(null,t,C):A),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const _=NB(s.url);if(_&&fn.protocols.indexOf(_)===-1){r(new we("Unsupported protocol "+_+":",we.ERR_BAD_REQUEST,t));return}C.send(o||null)})},VB=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(f){if(!s){s=!0,c();const p=f instanceof Error?f:this.reason;r.abort(p instanceof we?p:new Ll(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,o(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>F.asap(c),d}},UB=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},HB=async function*(t,e){for await(const n of $B(t))yield*UB(n,e)},$B=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},UT=(t,e,n,r)=>{const s=HB(t,e);let o=0,a,c=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await s.next();if(f){c(),d.close();return}let m=p.byteLength;if(n){let y=o+=m;n(y)}d.enqueue(new Uint8Array(p))}catch(f){throw c(f),f}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},HT=64*1024,{isFunction:$f}=F,FB=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:$T,TextEncoder:FT}=F.global,qT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qB=t=>{t=F.merge.call({skipUndefined:!0},FB,t);const{fetch:e,Request:n,Response:r}=t,s=e?$f(e):typeof fetch=="function",o=$f(n),a=$f(r);if(!s)return!1;const c=s&&$f($T),d=s&&(typeof FT=="function"?(S=>w=>S.encode(w))(new FT):async S=>new Uint8Array(await new n(S).arrayBuffer())),f=o&&c&&qT(()=>{let S=!1;const w=new n(fn.origin,{body:new $T,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!w}),p=a&&c&&qT(()=>F.isReadableStream(new r("").body)),m={stream:p&&(S=>S.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(w,C)=>{let k=w&&w[S];if(k)return k.call(w);throw new we(`Response type '${S}' is not supported`,we.ERR_NOT_SUPPORT,C)})});const y=async S=>{if(S==null)return 0;if(F.isBlob(S))return S.size;if(F.isSpecCompliantForm(S))return(await new n(fn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(F.isArrayBufferView(S)||F.isArrayBuffer(S))return S.byteLength;if(F.isURLSearchParams(S)&&(S=S+""),F.isString(S))return(await d(S)).byteLength},x=async(S,w)=>{const C=F.toFiniteNumber(S.getContentLength());return C??y(w)};return async S=>{let{url:w,method:C,data:k,signal:_,cancelToken:A,timeout:N,onDownloadProgress:O,onUploadProgress:j,responseType:P,headers:D,withCredentials:H="same-origin",fetchOptions:X}=X2(S),Z=e||fetch;P=P?(P+"").toLowerCase():"text";let ce=VB([_,A&&A.toAbortSignal()],N),Ie=null;const Ae=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let Ee;try{if(j&&f&&C!=="get"&&C!=="head"&&(Ee=await x(D,k))!==0){let K=new n(w,{method:"POST",body:k,duplex:"half"}),ie;if(F.isFormData(k)&&(ie=K.headers.get("content-type"))&&D.setContentType(ie),K.body){const[re,de]=BT(Ee,Hh(IT(j)));k=UT(K.body,HT,re,de)}}F.isString(H)||(H=H?"include":"omit");const q=o&&"credentials"in n.prototype,Y={...X,signal:ce,method:C.toUpperCase(),headers:D.normalize().toJSON(),body:k,duplex:"half",credentials:q?H:void 0};Ie=o&&new n(w,Y);let se=await(o?Z(Ie,X):Z(w,Y));const Ne=p&&(P==="stream"||P==="response");if(p&&(O||Ne&&Ae)){const K={};["status","statusText","headers"].forEach(Pe=>{K[Pe]=se[Pe]});const ie=F.toFiniteNumber(se.headers.get("content-length")),[re,de]=O&&BT(ie,Hh(IT(O),!0))||[];se=new r(UT(se.body,HT,re,()=>{de&&de(),Ae&&Ae()}),K)}P=P||"text";let L=await m[F.findKey(m,P)||"text"](se,S);return!Ne&&Ae&&Ae(),await new Promise((K,ie)=>{K2(K,ie,{data:L,headers:In.from(se.headers),status:se.status,statusText:se.statusText,config:S,request:Ie})})}catch(q){throw Ae&&Ae(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,S,Ie),{cause:q.cause||q}):we.from(q,q&&q.code,S,Ie)}}},YB=new Map,J2=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,o=[r,s,n];let a=o.length,c=a,d,f,p=YB;for(;c--;)d=o[c],f=p.get(d),f===void 0&&p.set(d,f=c?new Map:qB(e)),p=f;return f};J2();const Lv={http:cB,xhr:IB,fetch:{get:J2}};F.forEach(Lv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const YT=t=>`- ${t}`,GB=t=>F.isFunction(t)||t===null||t===!1,Z2={getAdapter:(t,e)=>{t=F.isArray(t)?t:[t];const{length:n}=t;let r,s;const o={};for(let a=0;a<n;a++){r=t[a];let c;if(s=r,!GB(r)&&(s=Lv[(c=String(r)).toLowerCase()],s===void 0))throw new we(`Unknown adapter '${c}'`);if(s&&(F.isFunction(s)||(s=s.get(e))))break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(YT).join(`
`):" "+YT(a[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Lv};function y0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ll(null,t)}function GT(t){return y0(t),t.headers=In.from(t.headers),t.data=g0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Z2.getAdapter(t.adapter||sd.adapter,t)(t).then(function(r){return y0(t),r.data=g0.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return W2(r)||(y0(t),r&&r.response&&(r.response.data=g0.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const eO="1.12.2",sm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const WT={};sm.transitional=function(e,n,r){function s(o,a){return"[Axios v"+eO+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(e===!1)throw new we(s(a," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!WT[a]&&(WT[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,c):!0}};sm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function WB(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],a=e[o];if(a){const c=t[o],d=c===void 0||a(c,o,t);if(d!==!0)throw new we("option "+o+" must be "+d,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+o,we.ERR_BAD_OPTION)}}const bh={assertOptions:WB,validators:sm},ts=bh.validators;let Ho=class{constructor(e){this.defaults=e||{},this.interceptors={request:new PT,response:new PT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zo(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&bh.assertOptions(r,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),s!=null&&(F.isFunction(s)?n.paramsSerializer={serialize:s}:bh.assertOptions(s,{encode:ts.function,serialize:ts.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),bh.assertOptions(n,{baseUrl:ts.spelling("baseURL"),withXsrfToken:ts.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&F.merge(o.common,o[n.method]);o&&F.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=In.concat(a,o);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const f=[];this.interceptors.response.forEach(function(w){f.push(w.fulfilled,w.rejected)});let p,m=0,y;if(!d){const S=[GT.bind(this),void 0];for(S.unshift(...c),S.push(...f),y=S.length,p=Promise.resolve(n);m<y;)p=p.then(S[m++],S[m++]);return p}y=c.length;let x=n;for(;m<y;){const S=c[m++],w=c[m++];try{x=S(x)}catch(C){w.call(this,C);break}}try{p=GT.call(this,x)}catch(S){return Promise.reject(S)}for(m=0,y=f.length;m<y;)p=p.then(f[m++],f[m++]);return p}getUri(e){e=Zo(this.defaults,e);const n=Q2(e.baseURL,e.url,e.allowAbsoluteUrls);return q2(n,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){Ho.prototype[e]=function(n,r){return this.request(Zo(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,c){return this.request(Zo(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Ho.prototype[e]=n(),Ho.prototype[e+"Form"]=n(!0)});let KB=class tO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,c){r.reason||(r.reason=new Ll(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new tO(function(s){e=s}),cancel:e}}};function QB(t){return function(n){return t.apply(null,n)}}function XB(t){return F.isObject(t)&&t.isAxiosError===!0}const Pv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pv).forEach(([t,e])=>{Pv[e]=t});function nO(t){const e=new Ho(t),n=R2(Ho.prototype.request,e);return F.extend(n,Ho.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return nO(Zo(t,s))},n}const Tt=nO(sd);Tt.Axios=Ho;Tt.CanceledError=Ll;Tt.CancelToken=KB;Tt.isCancel=W2;Tt.VERSION=eO;Tt.toFormData=rm;Tt.AxiosError=we;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=QB;Tt.isAxiosError=XB;Tt.mergeConfig=Zo;Tt.AxiosHeaders=In;Tt.formToJSON=t=>G2(F.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=Z2.getAdapter;Tt.HttpStatusCode=Pv;Tt.default=Tt;const{Axios:vle,AxiosError:rO,CanceledError:ble,isCancel:xle,CancelToken:Sle,VERSION:wle,all:Cle,Cancel:kle,isAxiosError:Tle,spread:_le,toFormData:Ele,AxiosHeaders:Mle,HttpStatusCode:Ole,formToJSON:Ale,getAdapter:Nle,mergeConfig:Dle}=Tt,JB="https://seashell-app-8zxmg.ondigitalocean.app/api",qe=Tt.create({baseURL:JB,withCredentials:!0,headers:{"Content-Type":"application/json"}}),ZB={id:null,user:null,isAuthenticated:!1,hasCompletedOnboarding:!1},$h=Zp("auth/checkAuth",async(t,{rejectWithValue:e})=>{try{return(await qe.get("/user/check")).data}catch(n){return e(n.response?.data||"Not authenticated")}}),sO=nb({name:"auth",initialState:ZB,reducers:{loginSuccess:(t,e)=>{t.id=e.payload.id,t.user=e.payload.user,t.isAuthenticated=!0,t.hasCompletedOnboarding=e.payload.hasCompletedOnboarding},logout:t=>{t.id=null,t.user=null,t.isAuthenticated=!1,t.hasCompletedOnboarding=!1},setHasCompletedOnboarding:(t,e)=>{t.hasCompletedOnboarding=e.payload}},extraReducers:t=>{t.addCase($h.fulfilled,(e,n)=>{e.id=n.payload.id,e.user=n.payload.user,e.isAuthenticated=n.payload.isAuthenticated,e.hasCompletedOnboarding=n.payload.hasCompletedOnboarding}),t.addCase($h.rejected,e=>{e.id=null,e.user=null,e.isAuthenticated=!1,e.hasCompletedOnboarding=!1})}}),{loginSuccess:iO,logout:oO,setHasCompletedOnboarding:e5}=sO.actions,t5=sO.reducer;function n5(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():null}const r5={educationLevel:null,program:null,orientation:null,year:null};async function aO(t){const e={...t,educationLevel:t.educationLevel?.toUpperCase()||null};try{return(await qe.put("/user/preferences",e)).data}catch(n){throw n}}async function lO(){try{const e=(await qe.get("/user/preferences")).data,n=e.userPreference??r5,r={...n,educationLevel:n5(n.educationLevel)};return{...e,userPreference:r}}catch(t){throw t}}async function s5(){try{return(await qe.get("/onboarding/enums")).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta enums"):new Error("Kunde inte n servern")}}async function i5(){try{await qe.put("/user/preferences/onboarding-complete")}catch(t){throw t}}const KT={educationLevel:null,program:null,orientation:null,year:null,subjects:null,gradedSubjects:null,meritValue:null,meritValueBasedOnGoal:null,loading:!1,error:null},v0=Zp("preferences/saveUserPreferences",async(t,{rejectWithValue:e})=>{try{return await aO(t)}catch(n){return e(n.message)}}),xh=Zp("preferences/fetchUserPreferences",async(t,{rejectWithValue:e})=>{try{return await lO()}catch(n){return e(n.message)}}),cO=nb({name:"userPreferences",initialState:KT,reducers:{setPreferences:(t,e)=>{Object.assign(t,e.payload)},resetPreferences:()=>KT},extraReducers:t=>{t.addCase(v0.pending,e=>{e.loading=!0,e.error=null}).addCase(v0.fulfilled,(e,n)=>{Object.assign(e,n.payload),e.loading=!1}).addCase(v0.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}),t.addCase(xh.pending,e=>{e.loading=!0,e.error=null}).addCase(xh.fulfilled,(e,n)=>{const r={...n.payload.userPreference,educationLevel:n.payload.userPreference?.educationLevel??null};Object.assign(e,r),e.loading=!1}).addCase(xh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{setPreferences:mn,resetPreferences:o5}=cO.actions,a5=cO.reducer;async function l5(){try{return(await qe.get("/user/me")).data}catch(t){throw{message:t.response?.data?.message||"Kunde inte hmta anvndarprofil",status:t.response?.status}}}const c5={profile:null,loading:!1,error:null},uu=Zp("profile/fetchUserProfile",async(t,{rejectWithValue:e})=>{try{return await l5()}catch(n){return e(n.message)}}),uO=nb({name:"profile",initialState:c5,reducers:{clearProfile:t=>{t.profile=null,t.loading=!1,t.error=null}},extraReducers:t=>{t.addCase(uu.pending,e=>{e.loading=!0,e.error=null}).addCase(uu.fulfilled,(e,n)=>{e.profile=n.payload,e.loading=!1}).addCase(uu.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{clearProfile:Rle}=uO.actions,u5=uO.reducer,b0=t=>({key:t,storage:Cz}),d5={auth:p0(b0("auth"),t5),profile:p0(b0("profile"),u5),preferences:p0(b0("preferences"),a5)},lb=R4({reducer:d5,middleware:t=>t({serializableCheck:!1})}),f5=vz(lb),h5="_footer_wrt8t_1",p5="_footerLinks_wrt8t_25",QT={footer:h5,footerLinks:p5};function m5(){return v.jsxs("footer",{className:QT.footer,children:[v.jsx("p",{children:" 2025 Stegvis. Alla rttigheter frbehllna."}),v.jsxs("div",{className:QT.footerLinks,children:[v.jsx("a",{href:"/about",children:"Om oss"}),v.jsx("a",{href:"/contact",children:"Kontakt"}),v.jsx("a",{href:"/privacy",children:"Integritetspolicy"})]})]})}const g5="_header_o8cth_1",y5="_logoWrapper_o8cth_79",v5="_text_o8cth_105",b5="_rightHamburgerWrapper_o8cth_121",x5="_routeTitle_o8cth_139",Qc={header:g5,logoWrapper:y5,text:v5,rightHamburgerWrapper:b5,routeTitle:x5};var XT="popstate";function S5(t={}){function e(r,s){let{pathname:o,search:a,hash:c}=r.location;return zv("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Nu(s)}return C5(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w5(){return Math.random().toString(36).substring(2,10)}function JT(t,e){return{usr:t.state,key:t.key,idx:e}}function zv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:n,key:e&&e.key||r||w5()}}function Nu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function C5(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,c="POP",d=null,f=p();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function p(){return(a.state||{idx:null}).idx}function m(){c="POP";let C=p(),k=C==null?null:C-f;f=C,d&&d({action:c,location:w.location,delta:k})}function y(C,k){c="PUSH";let _=zv(w.location,C,k);f=p()+1;let A=JT(_,f),N=w.createHref(_);try{a.pushState(A,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}o&&d&&d({action:c,location:w.location,delta:1})}function x(C,k){c="REPLACE";let _=zv(w.location,C,k);f=p();let A=JT(_,f),N=w.createHref(_);a.replaceState(A,"",N),o&&d&&d({action:c,location:w.location,delta:0})}function S(C){return k5(C)}let w={get action(){return c},get location(){return t(s,a)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(XT,m),d=C,()=>{s.removeEventListener(XT,m),d=null}},createHref(C){return e(s,C)},createURL:S,encodeLocation(C){let k=S(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:x,go(C){return a.go(C)}};return w}function k5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Nu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dO(t,e,n="/"){return T5(t,e,n,!1)}function T5(t,e,n,r){let s=typeof e=="string"?Pl(e):e,o=Xs(s.pathname||"/",n);if(o==null)return null;let a=fO(t);_5(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let f=z5(o);c=L5(a[d],f,r)}return c}function fO(t,e=[],n=[],r=""){let s=(o,a,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};d.relativePath.startsWith("/")&&(dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=qs([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),fO(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:R5(f,o.index),routesMeta:p})};return t.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let c of hO(o.path))s(o,a,c)}),e}function hO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=hO(r.join("/")),c=[];return c.push(...a.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function _5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var E5=/^:[\w-]+$/,M5=3,O5=2,A5=1,N5=10,D5=-2,ZT=t=>t==="*";function R5(t,e){let n=t.split("/"),r=n.length;return n.some(ZT)&&(r+=D5),e&&(r+=O5),n.filter(s=>!ZT(s)).reduce((s,o)=>s+(E5.test(o)?M5:o===""?A5:N5),r)}function j5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function L5(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=Fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:qs([o,m.pathname]),pathnameBase:U5(qs([o,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(o=qs([o,m.pathnameBase]))}return a}function Fh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=P5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},y)=>{if(p==="*"){let S=c[y]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=c[y];return m&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:t}}function P5(t,e=!1,n=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function z5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B5(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Pl(t):t;return{pathname:n?n.startsWith("/")?n:I5(n,e):e,search:H5(r),hash:$5(s)}}function I5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function x0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cb(t){let e=V5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ub(t,e,n,r=!1){let s;typeof t=="string"?s=Pl(t):(s={...t},dt(!s.pathname||!s.pathname.includes("?"),x0("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),x0("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),x0("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?e[m]:"/"}let d=B5(s,c),f=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var qs=t=>t.join("/").replace(/\/\/+/g,"/"),U5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),H5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var pO=["POST","PUT","PATCH","DELETE"];new Set(pO);var q5=["GET",...pO];new Set(q5);var zl=M.createContext(null);zl.displayName="DataRouter";var im=M.createContext(null);im.displayName="DataRouterState";M.createContext(!1);var mO=M.createContext({isTransitioning:!1});mO.displayName="ViewTransition";var Y5=M.createContext(new Map);Y5.displayName="Fetchers";var G5=M.createContext(null);G5.displayName="Await";var $r=M.createContext(null);$r.displayName="Navigation";var id=M.createContext(null);id.displayName="Location";var Fr=M.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var db=M.createContext(null);db.displayName="RouteError";function W5(t,{relative:e}={}){dt(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext($r),{hash:s,pathname:o,search:a}=od(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:qs([n,o])),r.createHref({pathname:c,search:a,hash:s})}function Bl(){return M.useContext(id)!=null}function qr(){return dt(Bl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(id).location}var gO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yO(t){M.useContext($r).static||M.useLayoutEffect(t)}function ps(){let{isDataRoute:t}=M.useContext(Fr);return t?l6():K5()}function K5(){dt(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(zl),{basename:e,navigator:n}=M.useContext($r),{matches:r}=M.useContext(Fr),{pathname:s}=qr(),o=JSON.stringify(cb(r)),a=M.useRef(!1);return yO(()=>{a.current=!0}),M.useCallback((d,f={})=>{if(Br(a.current,gO),!a.current)return;if(typeof d=="number"){n.go(d);return}let p=ub(d,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:qs([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,s,t])}M.createContext(null);function Q5(){let{matches:t}=M.useContext(Fr),e=t[t.length-1];return e?e.params:{}}function od(t,{relative:e}={}){let{matches:n}=M.useContext(Fr),{pathname:r}=qr(),s=JSON.stringify(cb(n));return M.useMemo(()=>ub(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function X5(t,e){return vO(t,e)}function vO(t,e,n,r){dt(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext($r),{matches:o}=M.useContext(Fr),a=o[o.length-1],c=a?a.params:{},d=a?a.pathname:"/",f=a?a.pathnameBase:"/",p=a&&a.route;{let k=p&&p.path||"";bO(d,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let m=qr(),y;if(e){let k=typeof e=="string"?Pl(e):e;dt(f==="/"||k.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),y=k}else y=m;let x=y.pathname||"/",S=x;if(f!=="/"){let k=f.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=dO(t,{pathname:S});Br(p||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Br(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=n6(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:qs([f,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:qs([f,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&C?M.createElement(id.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function J5(){let t=a6(),e=F5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,a)}var Z5=M.createElement(J5,null),e6=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement(Fr.Provider,{value:this.props.routeContext},M.createElement(db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function t6({routeContext:t,match:e,children:n}){let r=M.useContext(zl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Fr.Provider,{value:t},n)}function n6(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let a=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){a=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let m,y=!1,x=null,S=null;n&&(m=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||Z5,a&&(c<0&&p===0?(bO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):c===p&&(y=!0,S=f.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),C=()=>{let k;return m?k=x:y?k=S:f.route.Component?k=M.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,M.createElement(t6,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(e6,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}function fb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r6(t){let e=M.useContext(zl);return dt(e,fb(t)),e}function s6(t){let e=M.useContext(im);return dt(e,fb(t)),e}function i6(t){let e=M.useContext(Fr);return dt(e,fb(t)),e}function hb(t){let e=i6(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function o6(){return hb("useRouteId")}function a6(){let t=M.useContext(db),e=s6("useRouteError"),n=hb("useRouteError");return t!==void 0?t:e.errors?.[n]}function l6(){let{router:t}=r6("useNavigate"),e=hb("useNavigate"),n=M.useRef(!1);return yO(()=>{n.current=!0}),M.useCallback(async(s,o={})=>{Br(n.current,gO),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var e_={};function bO(t,e,n){!e&&!e_[t]&&(e_[t]=!0,Br(!1,n))}M.memo(c6);function c6({routes:t,future:e,state:n}){return vO(t,void 0,n,e)}function Sh({to:t,replace:e,state:n,relative:r}){dt(Bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=M.useContext($r);Br(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(Fr),{pathname:a}=qr(),c=ps(),d=ub(t,cb(o),a,r==="path"),f=JSON.stringify(d);return M.useEffect(()=>{c(JSON.parse(f),{replace:e,state:n,relative:r})},[c,f,r,e,n]),null}function un(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){dt(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:a,navigator:s,static:o,future:{}}),[a,s,o]);typeof n=="string"&&(n=Pl(n));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,x=M.useMemo(()=>{let S=Xs(d,a);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:y},navigationType:r}},[a,d,f,p,m,y,r]);return Br(x!=null,`<Router basename="${a}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:M.createElement($r.Provider,{value:c},M.createElement(id.Provider,{children:e,value:x}))}function d6({children:t,location:e}){return X5(Bv(t),e)}function Bv(t,e=[]){let n=[];return M.Children.forEach(t,(r,s)=>{if(!M.isValidElement(r))return;let o=[...e,s];if(r.type===M.Fragment){n.push.apply(n,Bv(r.props.children,o));return}dt(r.type===un,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Bv(r.props.children,o)),n.push(a)}),n}var wh="get",Ch="application/x-www-form-urlencoded";function om(t){return t!=null&&typeof t.tagName=="string"}function f6(t){return om(t)&&t.tagName.toLowerCase()==="button"}function h6(t){return om(t)&&t.tagName.toLowerCase()==="form"}function p6(t){return om(t)&&t.tagName.toLowerCase()==="input"}function m6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g6(t,e){return t.button===0&&(!e||e==="_self")&&!m6(t)}var Ff=null;function y6(){if(Ff===null)try{new FormData(document.createElement("form"),0),Ff=!1}catch{Ff=!0}return Ff}var v6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function S0(t){return t!=null&&!v6.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):t}function b6(t,e){let n,r,s,o,a;if(h6(t)){let c=t.getAttribute("action");r=c?Xs(c,e):null,n=t.getAttribute("method")||wh,s=S0(t.getAttribute("enctype"))||Ch,o=new FormData(t)}else if(f6(t)||p6(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Xs(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||wh,s=S0(t.getAttribute("formenctype"))||S0(c.getAttribute("enctype"))||Ch,o=new FormData(c,t),!y6()){let{name:f,type:p,value:m}=t;if(p==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,m)}}else{if(om(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,r=null,s=Ch,a=t}return o&&s==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x6(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function S6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function C6(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let a=await S6(o,n);return a.links?a.links():[]}return[]}));return E6(r.flat(1).filter(w6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function t_(t,e,n,r,s,o){let a=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>a(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(a(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function k6(t,e,{includeHydrateFallback:n}={}){return T6(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function T6(t){return[...new Set(t)]}function _6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function E6(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(_6(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function xO(){let t=M.useContext(zl);return pb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function M6(){let t=M.useContext(im);return pb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var mb=M.createContext(void 0);mb.displayName="FrameworkContext";function SO(){let t=M.useContext(mb);return pb(t,"You must render this element inside a <HydratedRouter> element"),t}function O6(t,e){let n=M.useContext(mb),[r,s]=M.useState(!1),[o,a]=M.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=e,y=M.useRef(null);M.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=k=>{k.forEach(_=>{a(_.isIntersecting)})},C=new IntersectionObserver(w,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[t]),M.useEffect(()=>{if(r){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[r]);let x=()=>{s(!0)},S=()=>{s(!1),a(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Xc(c,x),onBlur:Xc(d,S),onMouseEnter:Xc(f,x),onMouseLeave:Xc(p,S),onTouchStart:Xc(m,x)}]:[!1,y,{}]}function Xc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function A6({page:t,...e}){let{router:n}=xO(),r=M.useMemo(()=>dO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(D6,{page:t,matches:r,...e}):null}function N6(t){let{manifest:e,routeModules:n}=SO(),[r,s]=M.useState([]);return M.useEffect(()=>{let o=!1;return C6(t,e,n).then(a=>{o||s(a)}),()=>{o=!0}},[t,e,n]),r}function D6({page:t,matches:e,...n}){let r=qr(),{manifest:s,routeModules:o}=SO(),{basename:a}=xO(),{loaderData:c,matches:d}=M6(),f=M.useMemo(()=>t_(t,e,d,s,r,"data"),[t,e,d,s,r]),p=M.useMemo(()=>t_(t,e,d,s,r,"assets"),[t,e,d,s,r]),m=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(k=>{let _=s.routes[k.route.id];!_||!_.hasLoader||(!f.some(A=>A.route.id===k.route.id)&&k.route.id in c&&o[k.route.id]?.shouldRevalidate||_.hasClientLoader?w=!0:S.add(k.route.id))}),S.size===0)return[];let C=x6(t,a,"data");return w&&S.size>0&&C.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[a,c,r,s,f,e,t,o]),y=M.useMemo(()=>k6(p,s),[p,s]),x=N6(p);return M.createElement(M.Fragment,null,m.map(S=>M.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>M.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:w})=>M.createElement("link",{key:S,nonce:n.nonce,...w})))}function R6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wO&&(window.__reactRouterVersion="7.8.0")}catch{}function j6({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=S5({window:n,v5Compat:!0}));let s=r.current,[o,a]=M.useState({action:s.action,location:s.location}),c=M.useCallback(d=>{M.startTransition(()=>a(d))},[a]);return M.useLayoutEffect(()=>s.listen(c),[s,c]),M.createElement(u6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var CO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,am=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:a,state:c,target:d,to:f,preventScrollReset:p,viewTransition:m,...y},x){let{basename:S}=M.useContext($r),w=typeof f=="string"&&CO.test(f),C,k=!1;if(typeof f=="string"&&w&&(C=f,wO))try{let H=new URL(window.location.href),X=f.startsWith("//")?new URL(H.protocol+f):new URL(f),Z=Xs(X.pathname,S);X.origin===H.origin&&Z!=null?f=Z+X.search+X.hash:k=!0}catch{Br(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=W5(f,{relative:s}),[A,N,O]=O6(r,y),j=B6(f,{replace:a,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:m});function P(H){e&&e(H),H.defaultPrevented||j(H)}let D=M.createElement("a",{...y,...O,href:C||_,onClick:k||o?e:P,ref:R6(x,N),target:d,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?M.createElement(M.Fragment,null,D,M.createElement(A6,{page:_})):D});am.displayName="Link";var L6=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:a,viewTransition:c,children:d,...f},p){let m=od(a,{relative:f.relative}),y=qr(),x=M.useContext(im),{navigator:S,basename:w}=M.useContext($r),C=x!=null&&$6(m)&&c===!0,k=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,_=y.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(_=_.toLowerCase(),A=A?A.toLowerCase():null,k=k.toLowerCase()),A&&w&&(A=Xs(A,w)||A);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let O=_===k||!s&&_.startsWith(k)&&_.charAt(N)==="/",j=A!=null&&(A===k||!s&&A.startsWith(k)&&A.charAt(k.length)==="/"),P={isActive:O,isPending:j,isTransitioning:C},D=O?e:void 0,H;typeof r=="function"?H=r(P):H=[r,O?"active":null,j?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(P):o;return M.createElement(am,{...f,"aria-current":D,className:H,ref:p,style:X,to:a,viewTransition:c},typeof d=="function"?d(P):d)});L6.displayName="NavLink";var P6=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:a=wh,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...y},x)=>{let S=U6(),w=H6(c,{relative:f}),C=a.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&CO.test(c),_=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let N=A.nativeEvent.submitter,O=N?.getAttribute("formmethod")||a;S(N||A.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return M.createElement("form",{ref:x,method:C,action:w,onSubmit:r?d:_,...y,"data-discover":!k&&t==="render"?"true":void 0})});P6.displayName="Form";function z6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kO(t){let e=M.useContext(zl);return dt(e,z6(t)),e}function B6(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}={}){let c=ps(),d=qr(),f=od(t,{relative:o});return M.useCallback(p=>{if(g6(p,e)){p.preventDefault();let m=n!==void 0?n:Nu(d)===Nu(f);c(t,{replace:m,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[d,c,f,n,r,e,t,s,o,a])}var I6=0,V6=()=>`__${String(++I6)}__`;function U6(){let{router:t}=kO("useSubmit"),{basename:e}=M.useContext($r),n=o6();return M.useCallback(async(r,s={})=>{let{action:o,method:a,encType:c,formData:d,body:f}=b6(r,e);if(s.navigate===!1){let p=s.fetcherKey||V6();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||a,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function H6(t,{relative:e}={}){let{basename:n}=M.useContext($r),r=M.useContext(Fr);dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...od(t||".",{relative:e})},a=qr();if(t==null){o.search=a.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:qs([n,o.pathname])),Nu(o)}function $6(t,{relative:e}={}){let n=M.useContext(mO);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kO("useViewTransitionState"),s=od(t,{relative:e});if(!n.isTransitioning)return!1;let o=Xs(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Xs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Fh(s.pathname,a)!=null||Fh(s.pathname,o)!=null}var F6=p2();const q6=Wp(F6),Y6="_statusOverlay_1gw1b_1",G6="_statusModal_1gw1b_29",W6="_loader_1gw1b_71",K6="_checkmark_1gw1b_89",Q6="_checkmarkCircle_1gw1b_101",X6="_checkmarkCheck_1gw1b_119",Co={statusOverlay:Y6,statusModal:G6,loader:W6,checkmark:K6,checkmarkCircle:Q6,checkmarkCheck:X6},J6=({active:t,completed:e,loadingText:n="Laddar...",doneText:r="Klart!",icon:s,onComplete:o})=>(M.useEffect(()=>{if(e&&o){const a=setTimeout(()=>{o()},2e3);return()=>clearTimeout(a)}},[e,o]),!t&&!e?null:v.jsx("div",{className:Co.statusOverlay,children:v.jsxs("div",{className:`${Co.statusModal} ${e?Co.completed:""}`,children:[e?v.jsx("div",{className:Co.checkmark,children:s||v.jsxs("svg",{viewBox:"0 0 52 52",children:[v.jsx("circle",{className:Co.checkmarkCircle,cx:"26",cy:"26",r:"25",fill:"none"}),v.jsx("path",{className:Co.checkmarkCheck,fill:"none",d:"M14 27l7 7 16-16"})]})}):v.jsx("div",{className:Co.loader}),v.jsx("p",{children:e?r:n})]})}));const Z6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),n_=t=>{const e=eI(t);return e.charAt(0).toUpperCase()+e.slice(1)},TO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rI=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...c},d)=>M.createElement("svg",{ref:d,...nI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:TO("lucide",s),...!o&&!tI(c)&&{"aria-hidden":"true"},...c},[...a.map(([f,p])=>M.createElement(f,p)),...Array.isArray(o)?o:[o]]));const ge=(t,e)=>{const n=M.forwardRef(({className:r,...s},o)=>M.createElement(rI,{ref:o,iconNode:e,className:TO(`lucide-${Z6(n_(t))}`,`lucide-${t}`,r),...s}));return n.displayName=n_(t),n};const sI=[["path",{d:"M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z",key:"1232du"}]],ea=ge("arrow-big-right",sI);const iI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oI=ge("award",iI);const aI=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],lI=ge("bold",aI);const cI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lm=ge("book-open",cI);const uI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],dI=ge("bot",uI);const fI=[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],_O=ge("calendar-1",fI);const hI=[["path",{d:"m14 18 4 4 4-4",key:"1waygx"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 14v8",key:"irew45"}],["path",{d:"M21 11.354V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.343",key:"bse4f3"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],pI=ge("calendar-arrow-down",hI);const mI=[["path",{d:"m14 18 4-4 4 4",key:"ftkppy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 22v-8",key:"su0gjh"}],["path",{d:"M21 11.343V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9",key:"1exg90"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],r_=ge("calendar-arrow-up",mI);const gI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yI=ge("calendar",gI);const vI=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],bI=ge("chart-no-axes-column",vI);const xI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],EO=ge("chevron-down",xI);const SI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gb=ge("circle-x",SI);const wI=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]],CI=ge("corner-up-right",wI);const kI=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],ad=ge("eraser",kI);const TI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_I=ge("eye-off",TI);const EI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],MI=ge("eye",EI);const OI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],AI=ge("file-text",OI);const NI=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],DI=ge("folder",NI);const RI=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],jI=ge("gem",RI);const LI=[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29",key:"1c0wjv"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02",key:"gb1g7m"}]],PI=ge("goal",LI);const zI=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],qh=ge("graduation-cap",zI);const BI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],II=ge("house",BI);const VI=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],UI=ge("italic",VI);const HI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$I=ge("layout-dashboard",HI);const FI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],qI=ge("layers",FI);const YI=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],MO=ge("layout-grid",YI);const GI=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],WI=ge("list-checks",GI);const KI=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],QI=ge("list-ordered",KI);const XI=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],JI=ge("list-tree",XI);const ZI=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],OO=ge("list",ZI);const eV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tV=ge("lock",eV);const nV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],rV=ge("log-in",nV);const sV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s_=ge("log-out",sV);const iV=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],oV=ge("menu",iV);const aV=[["path",{d:"m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982",key:"bjo8r8"}],["path",{d:"m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353",key:"16h5ne"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],lV=ge("pencil-off",aV);const cV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],uV=ge("pencil",cV);const dV=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fV=ge("play",dV);const hV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],AO=ge("plus",hV);const pV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mV=ge("save",pV);const gV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],NO=ge("search",gV);const yV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vV=ge("shield",yV);const bV=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],xV=ge("sliders-horizontal",bV);const SV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],wV=ge("trash-2",SV);const CV=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kV=ge("trash",CV);const TV=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],_V=ge("underline",TV);const EV=[["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],MV=ge("user-round-cog",EV);const OV=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],DO=ge("user-round-pen",OV);const AV=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],NV=ge("user-round-plus",AV);const DV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RV=ge("user",DV);const jV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Il=ge("x",jV);const LV=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],PV=ge("zap",LV);async function zV(t){try{return(await qe.post("/auth/login",t)).data}catch(e){throw{message:e.response?.data?.message||"Inloggning misslyckades",status:e.response?.status}}}async function BV(){try{await qe.post("/auth/logout")}catch(t){throw{message:t.response?.data?.message||"Utloggning misslyckades",status:t.response?.status}}}async function IV(t){try{return(await qe.post("/auth/register",t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Ngot gick fel vid registrering"):new Error("Kunde inte n servern")}}async function VV(t){try{return await BV(),t(oO()),t(o5()),await f5.purge(),!0}catch(e){return console.error("Logout failed:",e),!1}}function UV(t,e){const[n,r]=M.useState(!1),[s,o]=M.useState(!1);return{loggingOut:n,loggedOut:s,logout:async()=>{r(!0),o(!1);const c=Date.now();if(await VV(t)){const p=Date.now()-c,m=Math.max(2e3-p,0);setTimeout(()=>o(!0),300),setTimeout(()=>{r(!1),e("/logga-in")},m)}else r(!1),alert("Ngot gick fel vid utloggning.")}}}const HV="_container_1u3pv_1",$V="_menuButton_1u3pv_9",FV="_disabledMenuItem_1u3pv_35",qV="_menu_1u3pv_9",YV="_open_1u3pv_87",GV="_menuItem_1u3pv_99",WV="_icon_1u3pv_159",ns={container:HV,menuButton:$V,disabledMenuItem:FV,menu:qV,open:YV,menuItem:GV,icon:WV};function KV(){const[t,e]=M.useState(!1),n=ps(),r=yn(),s=M.useRef(null),{loggingOut:o,loggedOut:a,logout:c}=UV(r,n);return M.useEffect(()=>{const d=f=>{s.current&&!s.current.contains(f.target)&&e(!1)};return t?document.addEventListener("mousedown",d):document.removeEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[t]),v.jsxs("div",{className:ns.container,ref:s,children:[v.jsx("button",{className:ns.menuButton,onClick:()=>e(!t),children:t?v.jsx(gb,{size:23}):v.jsx(MV,{size:23})}),v.jsxs("nav",{className:`${ns.menu} ${t?ns.open:""}`,children:[v.jsxs("button",{onClick:void 0,className:`${ns.menuItem} ${ns.disabledMenuItem}`,children:[v.jsx(xV,{className:ns.icon})," Instllningar"]}),v.jsxs("button",{onClick:c,className:ns.menuItem,children:[v.jsx(s_,{className:ns.icon})," Logga ut"]})]}),v.jsx(J6,{active:o,completed:a,loadingText:"Loggar ut...",doneText:"Vi ses snart igen!",icon:v.jsx(s_,{size:48,className:ns.logoutIcon})})]})}function QV(t){const n=decodeURIComponent(t).split("/").filter(Boolean);if(n.length===0)return"Stegvis";switch(n[0]){case"dashboard":return"Dashboard";case"anteckningar":return"Anteckningar";case"studieplaneraren":return"Studieplaneraren";case"instllningar":return"Instllningar";case"mlplaneraren":return"Mlplaneraren";case"deadlines":return"Deadlines";case"min-utbildning":return"Min utbildning";case"abonnemang":return"Abonnemang";case"home":return"Home";case"kom-igang":return"";default:return"Stegvis"}}function XV(){const t=qr(),e=QV(t.pathname);return v.jsxs("header",{className:Qc.header,children:[v.jsx("div",{className:Qc.logoWrapper,children:v.jsx("div",{className:Qc.text,children:v.jsx("u",{children:"Stegvis"})})}),v.jsx("h2",{className:Qc.routeTitle,children:e}),v.jsx("div",{className:Qc.rightHamburgerWrapper,children:v.jsx(KV,{})})]})}function Dr({children:t}){const{isAuthenticated:e,hasCompletedOnboarding:n}=mt(s=>s.auth),r=window.location.pathname;return e?!n&&r!=="/kom-igang"?v.jsx(Sh,{to:"/kom-igang",replace:!0}):n&&r==="/kom-igang"?v.jsx(Sh,{to:"/hem",replace:!0}):t:v.jsx(Sh,{to:"/logga-in",replace:!0})}function qf({children:t,redirectTo:e="/hem"}){return mt(r=>r.auth.isAuthenticated)?v.jsx(Sh,{to:e,replace:!0}):t}const JV="_loginContainer_vrrdg_13",ZV="_googleButton_vrrdg_47",eU="_forgotPassword_vrrdg_107",tU="_errorMessage_vrrdg_177",nU="_bottomText_vrrdg_189",rU="_registerLink_vrrdg_221",sU="_label_vrrdg_251",iU="_passwordWrapper_vrrdg_271",oU="_togglePassword_vrrdg_325",aU="_loginIcon_vrrdg_353",Xn={loginContainer:JV,googleButton:ZV,forgotPassword:eU,errorMessage:tU,bottomText:nU,registerLink:rU,label:sU,passwordWrapper:iU,togglePassword:oU,loginIcon:aU};var RO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i_=zn.createContext&&zn.createContext(RO),lU=["attr","size","title"];function cU(t,e){if(t==null)return{};var n=uU(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(this,arguments)}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){dU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dU(t,e,n){return e=fU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fU(t){var e=hU(t,"string");return typeof e=="symbol"?e:e+""}function hU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jO(t){return t&&t.map((e,n)=>zn.createElement(e.tag,Gh({key:n},e.attr),jO(e.child)))}function yb(t){return e=>zn.createElement(pU,Yh({attr:Gh({},t.attr)},e),jO(t.child))}function pU(t){var e=n=>{var{attr:r,size:s,title:o}=t,a=cU(t,lU),c=s||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),zn.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:d,style:Gh(Gh({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&zn.createElement("title",null,o),t.children)};return i_!==void 0?zn.createElement(i_.Consumer,null,n=>e(n)):e(RO)}function mU(t){return yb({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function gU(t){return yb({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"circle",attr:{fill:"#4CAF50",cx:"24",cy:"24",r:"21"},child:[]},{tag:"polygon",attr:{fill:"#CCFF90",points:"34.6,14.6 21,28.2 15.4,22.6 12.6,25.4 21,33.8 37.4,17.4"},child:[]}]})(t)}const LO=()=>{const t=yn(),[e,n]=M.useState(""),[r,s]=M.useState(""),[o,a]=M.useState(null),[c,d]=M.useState(!1),f=async m=>{m.preventDefault();const y={email:e,password:r};try{const x=await zV(y);t(iO({id:x.id,user:x.email,hasCompletedOnboarding:x.hasCompletedOnboarding}))}catch(x){a(x.message)}},p=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"};return v.jsxs("div",{className:Xn.loginContainer,children:[v.jsx(rV,{size:27,className:Xn.loginIcon}),v.jsxs("form",{onSubmit:f,children:[v.jsx("label",{className:Xn.label,children:"E-post"}),v.jsx("div",{className:Xn.passwordWrapper,children:v.jsx("input",{type:"email",placeholder:"username@gmail.com",value:e,onChange:m=>n(m.target.value),required:!0})}),v.jsx("label",{className:Xn.label,children:"Lsenord"}),v.jsxs("div",{className:Xn.passwordWrapper,children:[v.jsx("input",{type:c?"text":"password",placeholder:"Lsenord",value:r,onChange:m=>s(m.target.value),required:!0}),r.length>0&&(c?v.jsx(_I,{size:18,className:Xn.togglePassword,onClick:()=>d(!1),"aria-label":"Dlj lsenord"}):v.jsx(MI,{size:18,className:Xn.togglePassword,onClick:()=>d(!0),"aria-label":"Visa lsenord"}))]}),v.jsx("p",{className:Xn.forgotPassword,children:"Glmt lsenord?"}),v.jsx("div",{className:Xn.errorMessage,children:o}),v.jsx("button",{type:"submit",children:"Logga in"})]}),v.jsxs("button",{className:Xn.googleButton,onClick:p,children:[v.jsx(mU,{size:22,style:{marginRight:"8px"}}),"Logga in med Google"]}),v.jsxs("p",{className:Xn.bottomText,children:["Har du inte ett konto?"," ",v.jsx(am,{to:"/registrera-dig",className:Xn.registerLink,children:"Registrera dig hr"})]})]})},yU="_registerContainer_1r37u_15",vU="_h1_1r37u_43",bU="_icon_1r37u_57",xU="_nameFields_1r37u_125",SU="_errorMessage_1r37u_201",wU="_bottomText_1r37u_215",CU="_label_1r37u_229",kU="_buttonLink_1r37u_245",pr={registerContainer:yU,h1:vU,icon:bU,nameFields:xU,errorMessage:SU,bottomText:wU,label:CU,buttonLink:kU},TU=()=>{const t=ps(),[e,n]=M.useState(""),[r,s]=M.useState(""),[o,a]=M.useState(""),[c,d]=M.useState(""),[f,p]=M.useState(""),[m,y]=M.useState(null),x=async S=>{if(S.preventDefault(),c!==f){y("Lsenorden matchar inte.");return}const w={firstname:e,lastname:r,email:o,password:c};try{await IV(w),t("/logga-in")}catch(C){y(C.message)}};return v.jsxs(v.Fragment,{children:[v.jsx("h1",{className:pr.h1,children:"Stegvis"}),v.jsxs("div",{className:pr.registerContainer,children:[v.jsx(NV,{className:pr.icon,size:26}),v.jsxs("form",{onSubmit:x,children:[v.jsxs("div",{className:pr.nameFields,children:[v.jsxs("div",{children:[v.jsx("label",{className:pr.label,htmlFor:"firstname",children:"Frnamn"}),v.jsx("input",{id:"firstname",type:"text",placeholder:"Frnamn",value:e,onChange:S=>n(S.target.value),required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:pr.label,htmlFor:"lastname",children:"Efternamn"}),v.jsx("input",{id:"lastname",type:"text",placeholder:"Efternamn",value:r,onChange:S=>s(S.target.value),required:!0})]})]}),v.jsx("label",{className:pr.label,htmlFor:"email",children:"E-post"}),v.jsx("input",{id:"email",type:"email",placeholder:"E-post",value:o,onChange:S=>a(S.target.value),required:!0}),v.jsx("label",{className:pr.label,htmlFor:"password",children:"Lsenord"}),v.jsx("input",{id:"password",type:"password",placeholder:"Nytt lsenord",value:c,onChange:S=>d(S.target.value),required:!0}),v.jsx("label",{className:pr.label,htmlFor:"repeatPassword",children:"Bekrfta lsenord"}),v.jsx("input",{id:"repeatPassword",type:"password",placeholder:"Bekrfta lsenord",value:f,onChange:S=>p(S.target.value),required:!0}),v.jsx("div",{className:pr.errorMessage,children:m}),v.jsx("button",{type:"submit",children:"G med"})]}),v.jsxs("p",{className:pr.bottomText,children:["Har du redan ett konto? ",v.jsx(am,{to:"/logga-in",className:pr.buttonLink,children:"Logga in hr"})]})]})]})},_U="_pageContainer_16za7_1",EU="_landingContainer_16za7_21",MU="_leftText_16za7_47",OU="_rightLogin_16za7_59",Yf={pageContainer:_U,landingContainer:EU,leftText:MU,rightLogin:OU};function AU(){return v.jsx("div",{className:Yf.pageContainer,children:v.jsxs("div",{className:Yf.landingContainer,children:[v.jsxs("div",{className:Yf.leftText,children:[v.jsx("h1",{children:"Stegvis"}),v.jsx("p",{children:"Sm steg varje dag leder till stora framgngar"})]}),v.jsx("div",{className:Yf.rightLogin,children:v.jsx(LO,{})})]})})}var PO;function ne(){return PO.apply(null,arguments)}function NU(t){PO=t}function Ir(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function $o(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vb(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(He(t,e))return!1;return!0}function jn(t){return t===void 0}function Js(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function ld(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function zO(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function Ii(t,e){for(var n in e)He(e,n)&&(t[n]=e[n]);return He(e,"toString")&&(t.toString=e.toString),He(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ms(t,e,n,r){return oA(t,e,n,r,!0).utc()}function DU(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(t){return t._pf==null&&(t._pf=DU()),t._pf}var Iv;Array.prototype.some?Iv=Array.prototype.some:Iv=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function bb(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=ke(t),n=Iv.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function cm(t){var e=ms(NaN);return t!=null?Ii(ke(e),t):ke(e).userInvalidated=!0,e}var a_=ne.momentProperties=[],w0=!1;function xb(t,e){var n,r,s,o=a_.length;if(jn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),jn(e._i)||(t._i=e._i),jn(e._f)||(t._f=e._f),jn(e._l)||(t._l=e._l),jn(e._strict)||(t._strict=e._strict),jn(e._tzm)||(t._tzm=e._tzm),jn(e._isUTC)||(t._isUTC=e._isUTC),jn(e._offset)||(t._offset=e._offset),jn(e._pf)||(t._pf=ke(e)),jn(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=a_[n],s=e[r],jn(s)||(t[r]=s);return t}function cd(t){xb(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),w0===!1&&(w0=!0,ne.updateOffset(this),w0=!1)}function Vr(t){return t instanceof cd||t!=null&&t._isAMomentObject!=null}function BO(t){ne.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function _r(t,e){var n=!0;return Ii(function(){if(ne.deprecationHandler!=null&&ne.deprecationHandler(null,t),n){var r=[],s,o,a,c=arguments.length;for(o=0;o<c;o++){if(s="",typeof arguments[o]=="object"){s+=`
[`+o+"] ";for(a in arguments[0])He(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[o];r.push(s)}BO(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var l_={};function IO(t,e){ne.deprecationHandler!=null&&ne.deprecationHandler(t,e),l_[t]||(BO(e),l_[t]=!0)}ne.suppressDeprecationWarnings=!1;ne.deprecationHandler=null;function gs(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function RU(t){var e,n;for(n in t)He(t,n)&&(e=t[n],gs(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Vv(t,e){var n=Ii({},t),r;for(r in e)He(e,r)&&($o(t[r])&&$o(e[r])?(n[r]={},Ii(n[r],t[r]),Ii(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)He(t,r)&&!He(e,r)&&$o(t[r])&&(n[r]=Ii({},n[r]));return n}function Sb(t){t!=null&&this.set(t)}var Uv;Object.keys?Uv=Object.keys:Uv=function(t){var e,n=[];for(e in t)He(t,e)&&n.push(e);return n};var jU={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function LU(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return gs(r)?r.call(e,n):r}function ds(t,e,n){var r=""+Math.abs(t),s=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var wb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Gf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,C0={},yl={};function he(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(yl[t]=s),e&&(yl[e[0]]=function(){return ds(s.apply(this,arguments),e[1],e[2])}),n&&(yl[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function PU(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function zU(t){var e=t.match(wb),n,r;for(n=0,r=e.length;n<r;n++)yl[e[n]]?e[n]=yl[e[n]]:e[n]=PU(e[n]);return function(s){var o="",a;for(a=0;a<r;a++)o+=gs(e[a])?e[a].call(s,t):e[a];return o}}function kh(t,e){return t.isValid()?(e=VO(e,t.localeData()),C0[e]=C0[e]||zU(e),C0[e](t)):t.localeData().invalidDate()}function VO(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(Gf.lastIndex=0;n>=0&&Gf.test(t);)t=t.replace(Gf,r),Gf.lastIndex=0,n-=1;return t}var BU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function IU(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(wb).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var VU="Invalid date";function UU(){return this._invalidDate}var HU="%d",$U=/\d{1,2}/;function FU(t){return this._ordinal.replace("%d",t)}var qU={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function YU(t,e,n,r){var s=this._relativeTime[n];return gs(s)?s(t,e,n,r):s.replace(/%d/i,t)}function GU(t,e){var n=this._relativeTime[t>0?"future":"past"];return gs(n)?n(e):n.replace(/%s/i,e)}var c_={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Er(t){return typeof t=="string"?c_[t]||c_[t.toLowerCase()]:void 0}function Cb(t){var e={},n,r;for(r in t)He(t,r)&&(n=Er(r),n&&(e[n]=t[r]));return e}var WU={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function KU(t){var e=[],n;for(n in t)He(t,n)&&e.push({unit:n,priority:WU[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var UO=/\d/,rr=/\d\d/,HO=/\d{3}/,kb=/\d{4}/,um=/[+-]?\d{6}/,ot=/\d\d?/,$O=/\d\d\d\d?/,FO=/\d\d\d\d\d\d?/,dm=/\d{1,3}/,Tb=/\d{1,4}/,fm=/[+-]?\d{1,6}/,Vl=/\d+/,hm=/[+-]?\d+/,QU=/Z|[+-]\d\d:?\d\d/gi,pm=/Z|[+-]\d\d(?::?\d\d)?/gi,XU=/[+-]?\d+(\.\d{1,3})?/,ud=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ul=/^[1-9]\d?/,_b=/^([1-9]\d|\d)/,Wh;Wh={};function ae(t,e,n){Wh[t]=gs(e)?e:function(r,s){return r&&n?n:e}}function JU(t,e){return He(Wh,t)?Wh[t](e._strict,e._locale):new RegExp(ZU(t))}function ZU(t){return Ys(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,o){return n||r||s||o}))}function Ys(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Sr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Le(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Sr(e)),n}var Hv={};function et(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),Js(e)&&(r=function(o,a){a[e]=Le(o)}),s=t.length,n=0;n<s;n++)Hv[t[n]]=r}function dd(t,e){et(t,function(n,r,s,o){s._w=s._w||{},e(n,s._w,s,o)})}function eH(t,e,n){e!=null&&He(Hv,t)&&Hv[t](e,n._a,n,t)}function mm(t){return t%4===0&&t%100!==0||t%400===0}var gn=0,Us=1,ls=2,Ut=3,Pr=4,Hs=5,jo=6,tH=7,nH=8;he("Y",0,0,function(){var t=this.year();return t<=9999?ds(t,4):"+"+t});he(0,["YY",2],0,function(){return this.year()%100});he(0,["YYYY",4],0,"year");he(0,["YYYYY",5],0,"year");he(0,["YYYYYY",6,!0],0,"year");ae("Y",hm);ae("YY",ot,rr);ae("YYYY",Tb,kb);ae("YYYYY",fm,um);ae("YYYYYY",fm,um);et(["YYYYY","YYYYYY"],gn);et("YYYY",function(t,e){e[gn]=t.length===2?ne.parseTwoDigitYear(t):Le(t)});et("YY",function(t,e){e[gn]=ne.parseTwoDigitYear(t)});et("Y",function(t,e){e[gn]=parseInt(t,10)});function du(t){return mm(t)?366:365}ne.parseTwoDigitYear=function(t){return Le(t)+(Le(t)>68?1900:2e3)};var qO=Hl("FullYear",!0);function rH(){return mm(this.year())}function Hl(t,e){return function(n){return n!=null?(YO(this,t,n),ne.updateOffset(this,e),this):Du(this,t)}}function Du(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function YO(t,e,n){var r,s,o,a,c;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,a=t.month(),c=t.date(),c=c===29&&a===1&&!mm(o)?28:c,s?r.setUTCFullYear(o,a,c):r.setFullYear(o,a,c)}}function sH(t){return t=Er(t),gs(this[t])?this[t]():this}function iH(t,e){if(typeof t=="object"){t=Cb(t);var n=KU(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=Er(t),gs(this[t]))return this[t](e);return this}function oH(t,e){return(t%e+e)%e}var At;Array.prototype.indexOf?At=Array.prototype.indexOf:At=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Eb(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=oH(e,12);return t+=(e-n)/12,n===1?mm(t)?29:28:31-n%7%2}he("M",["MM",2],"Mo",function(){return this.month()+1});he("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});he("MMMM",0,0,function(t){return this.localeData().months(this,t)});ae("M",ot,Ul);ae("MM",ot,rr);ae("MMM",function(t,e){return e.monthsShortRegex(t)});ae("MMMM",function(t,e){return e.monthsRegex(t)});et(["M","MM"],function(t,e){e[Us]=Le(t)-1});et(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[Us]=s:ke(n).invalidMonth=t});var aH="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),GO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),WO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lH=ud,cH=ud;function uH(t,e){return t?Ir(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||WO).test(e)?"format":"standalone"][t.month()]:Ir(this._months)?this._months:this._months.standalone}function dH(t,e){return t?Ir(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[WO.test(e)?"format":"standalone"][t.month()]:Ir(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fH(t,e,n){var r,s,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=ms([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(s=At.call(this._shortMonthsParse,a),s!==-1?s:null):(s=At.call(this._longMonthsParse,a),s!==-1?s:null):e==="MMM"?(s=At.call(this._shortMonthsParse,a),s!==-1?s:(s=At.call(this._longMonthsParse,a),s!==-1?s:null)):(s=At.call(this._longMonthsParse,a),s!==-1?s:(s=At.call(this._shortMonthsParse,a),s!==-1?s:null))}function hH(t,e,n){var r,s,o;if(this._monthsParseExact)return fH.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=ms([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function KO(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Le(e);else if(e=t.localeData().monthsParse(e),!Js(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,Eb(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function QO(t){return t!=null?(KO(this,t),ne.updateOffset(this,!0),this):Du(this,"Month")}function pH(){return Eb(this.year(),this.month())}function mH(t){return this._monthsParseExact?(He(this,"_monthsRegex")||XO.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(He(this,"_monthsShortRegex")||(this._monthsShortRegex=lH),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function gH(t){return this._monthsParseExact?(He(this,"_monthsRegex")||XO.call(this),t?this._monthsStrictRegex:this._monthsRegex):(He(this,"_monthsRegex")||(this._monthsRegex=cH),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function XO(){function t(d,f){return f.length-d.length}var e=[],n=[],r=[],s,o,a,c;for(s=0;s<12;s++)o=ms([2e3,s]),a=Ys(this.monthsShort(o,"")),c=Ys(this.months(o,"")),e.push(a),n.push(c),r.push(c),r.push(a);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function yH(t,e,n,r,s,o,a){var c;return t<100&&t>=0?(c=new Date(t+400,e,n,r,s,o,a),isFinite(c.getFullYear())&&c.setFullYear(t)):c=new Date(t,e,n,r,s,o,a),c}function Ru(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Kh(t,e,n){var r=7+e-n,s=(7+Ru(t,0,r).getUTCDay()-e)%7;return-s+r-1}function JO(t,e,n,r,s){var o=(7+n-r)%7,a=Kh(t,r,s),c=1+7*(e-1)+o+a,d,f;return c<=0?(d=t-1,f=du(d)+c):c>du(t)?(d=t+1,f=c-du(t)):(d=t,f=c),{year:d,dayOfYear:f}}function ju(t,e,n){var r=Kh(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,o,a;return s<1?(a=t.year()-1,o=s+Gs(a,e,n)):s>Gs(t.year(),e,n)?(o=s-Gs(t.year(),e,n),a=t.year()+1):(a=t.year(),o=s),{week:o,year:a}}function Gs(t,e,n){var r=Kh(t,e,n),s=Kh(t+1,e,n);return(du(t)-r+s)/7}he("w",["ww",2],"wo","week");he("W",["WW",2],"Wo","isoWeek");ae("w",ot,Ul);ae("ww",ot,rr);ae("W",ot,Ul);ae("WW",ot,rr);dd(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Le(t)});function vH(t){return ju(t,this._week.dow,this._week.doy).week}var bH={dow:0,doy:6};function xH(){return this._week.dow}function SH(){return this._week.doy}function wH(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function CH(t){var e=ju(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}he("d",0,"do","day");he("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});he("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});he("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});he("e",0,0,"weekday");he("E",0,0,"isoWeekday");ae("d",ot);ae("e",ot);ae("E",ot);ae("dd",function(t,e){return e.weekdaysMinRegex(t)});ae("ddd",function(t,e){return e.weekdaysShortRegex(t)});ae("dddd",function(t,e){return e.weekdaysRegex(t)});dd(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:ke(n).invalidWeekday=t});dd(["d","e","E"],function(t,e,n,r){e[r]=Le(t)});function kH(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function TH(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Mb(t,e){return t.slice(e,7).concat(t.slice(0,e))}var _H="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ZO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),EH="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),MH=ud,OH=ud,AH=ud;function NH(t,e){var n=Ir(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Mb(n,this._week.dow):t?n[t.day()]:n}function DH(t){return t===!0?Mb(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function RH(t){return t===!0?Mb(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function jH(t,e,n){var r,s,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=ms([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(s=At.call(this._weekdaysParse,a),s!==-1?s:null):e==="ddd"?(s=At.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=At.call(this._minWeekdaysParse,a),s!==-1?s:null):e==="dddd"?(s=At.call(this._weekdaysParse,a),s!==-1||(s=At.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=At.call(this._minWeekdaysParse,a),s!==-1?s:null)):e==="ddd"?(s=At.call(this._shortWeekdaysParse,a),s!==-1||(s=At.call(this._weekdaysParse,a),s!==-1)?s:(s=At.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=At.call(this._minWeekdaysParse,a),s!==-1||(s=At.call(this._weekdaysParse,a),s!==-1)?s:(s=At.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function LH(t,e,n){var r,s,o;if(this._weekdaysParseExact)return jH.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=ms([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function PH(t){if(!this.isValid())return t!=null?this:NaN;var e=Du(this,"Day");return t!=null?(t=kH(t,this.localeData()),this.add(t-e,"d")):e}function zH(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function BH(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=TH(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function IH(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Ob.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(He(this,"_weekdaysRegex")||(this._weekdaysRegex=MH),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function VH(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Ob.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(He(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=OH),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function UH(t){return this._weekdaysParseExact?(He(this,"_weekdaysRegex")||Ob.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(He(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=AH),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ob(){function t(p,m){return m.length-p.length}var e=[],n=[],r=[],s=[],o,a,c,d,f;for(o=0;o<7;o++)a=ms([2e3,1]).day(o),c=Ys(this.weekdaysMin(a,"")),d=Ys(this.weekdaysShort(a,"")),f=Ys(this.weekdays(a,"")),e.push(c),n.push(d),r.push(f),s.push(c),s.push(d),s.push(f);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ab(){return this.hours()%12||12}function HH(){return this.hours()||24}he("H",["HH",2],0,"hour");he("h",["hh",2],0,Ab);he("k",["kk",2],0,HH);he("hmm",0,0,function(){return""+Ab.apply(this)+ds(this.minutes(),2)});he("hmmss",0,0,function(){return""+Ab.apply(this)+ds(this.minutes(),2)+ds(this.seconds(),2)});he("Hmm",0,0,function(){return""+this.hours()+ds(this.minutes(),2)});he("Hmmss",0,0,function(){return""+this.hours()+ds(this.minutes(),2)+ds(this.seconds(),2)});function eA(t,e){he(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}eA("a",!0);eA("A",!1);function tA(t,e){return e._meridiemParse}ae("a",tA);ae("A",tA);ae("H",ot,_b);ae("h",ot,Ul);ae("k",ot,Ul);ae("HH",ot,rr);ae("hh",ot,rr);ae("kk",ot,rr);ae("hmm",$O);ae("hmmss",FO);ae("Hmm",$O);ae("Hmmss",FO);et(["H","HH"],Ut);et(["k","kk"],function(t,e,n){var r=Le(t);e[Ut]=r===24?0:r});et(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});et(["h","hh"],function(t,e,n){e[Ut]=Le(t),ke(n).bigHour=!0});et("hmm",function(t,e,n){var r=t.length-2;e[Ut]=Le(t.substr(0,r)),e[Pr]=Le(t.substr(r)),ke(n).bigHour=!0});et("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[Ut]=Le(t.substr(0,r)),e[Pr]=Le(t.substr(r,2)),e[Hs]=Le(t.substr(s)),ke(n).bigHour=!0});et("Hmm",function(t,e,n){var r=t.length-2;e[Ut]=Le(t.substr(0,r)),e[Pr]=Le(t.substr(r))});et("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[Ut]=Le(t.substr(0,r)),e[Pr]=Le(t.substr(r,2)),e[Hs]=Le(t.substr(s))});function $H(t){return(t+"").toLowerCase().charAt(0)==="p"}var FH=/[ap]\.?m?\.?/i,qH=Hl("Hours",!0);function YH(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var nA={calendar:jU,longDateFormat:BU,invalidDate:VU,ordinal:HU,dayOfMonthOrdinalParse:$U,relativeTime:qU,months:aH,monthsShort:GO,week:bH,weekdays:_H,weekdaysMin:EH,weekdaysShort:ZO,meridiemParse:FH},ct={},Jc={},Lu;function GH(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function u_(t){return t&&t.toLowerCase().replace("_","-")}function WH(t){for(var e=0,n,r,s,o;e<t.length;){for(o=u_(t[e]).split("-"),n=o.length,r=u_(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=gm(o.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&GH(o,r)>=n-1)break;n--}e++}return Lu}function KH(t){return!!(t&&t.match("^[^/\\\\]*$"))}function gm(t){var e=null,n;if(ct[t]===void 0&&typeof Ph<"u"&&Ph&&Ph.exports&&KH(t))try{e=Lu._abbr,n=require,n("./locale/"+t),Fi(e)}catch{ct[t]=null}return ct[t]}function Fi(t,e){var n;return t&&(jn(e)?n=ti(t):n=Nb(t,e),n?Lu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Lu._abbr}function Nb(t,e){if(e!==null){var n,r=nA;if(e.abbr=t,ct[t]!=null)IO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ct[t]._config;else if(e.parentLocale!=null)if(ct[e.parentLocale]!=null)r=ct[e.parentLocale]._config;else if(n=gm(e.parentLocale),n!=null)r=n._config;else return Jc[e.parentLocale]||(Jc[e.parentLocale]=[]),Jc[e.parentLocale].push({name:t,config:e}),null;return ct[t]=new Sb(Vv(r,e)),Jc[t]&&Jc[t].forEach(function(s){Nb(s.name,s.config)}),Fi(t),ct[t]}else return delete ct[t],null}function QH(t,e){if(e!=null){var n,r,s=nA;ct[t]!=null&&ct[t].parentLocale!=null?ct[t].set(Vv(ct[t]._config,e)):(r=gm(t),r!=null&&(s=r._config),e=Vv(s,e),r==null&&(e.abbr=t),n=new Sb(e),n.parentLocale=ct[t],ct[t]=n),Fi(t)}else ct[t]!=null&&(ct[t].parentLocale!=null?(ct[t]=ct[t].parentLocale,t===Fi()&&Fi(t)):ct[t]!=null&&delete ct[t]);return ct[t]}function ti(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Lu;if(!Ir(t)){if(e=gm(t),e)return e;t=[t]}return WH(t)}function XH(){return Uv(ct)}function Db(t){var e,n=t._a;return n&&ke(t).overflow===-2&&(e=n[Us]<0||n[Us]>11?Us:n[ls]<1||n[ls]>Eb(n[gn],n[Us])?ls:n[Ut]<0||n[Ut]>24||n[Ut]===24&&(n[Pr]!==0||n[Hs]!==0||n[jo]!==0)?Ut:n[Pr]<0||n[Pr]>59?Pr:n[Hs]<0||n[Hs]>59?Hs:n[jo]<0||n[jo]>999?jo:-1,ke(t)._overflowDayOfYear&&(e<gn||e>ls)&&(e=ls),ke(t)._overflowWeeks&&e===-1&&(e=tH),ke(t)._overflowWeekday&&e===-1&&(e=nH),ke(t).overflow=e),t}var JH=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ZH=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e$=/Z|[+-]\d\d(?::?\d\d)?/,Wf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],k0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],t$=/^\/?Date\((-?\d+)/i,n$=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,r$={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function rA(t){var e,n,r=t._i,s=JH.exec(r)||ZH.exec(r),o,a,c,d,f=Wf.length,p=k0.length;if(s){for(ke(t).iso=!0,e=0,n=f;e<n;e++)if(Wf[e][1].exec(s[1])){a=Wf[e][0],o=Wf[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(s[3]){for(e=0,n=p;e<n;e++)if(k0[e][1].exec(s[3])){c=(s[2]||" ")+k0[e][0];break}if(c==null){t._isValid=!1;return}}if(!o&&c!=null){t._isValid=!1;return}if(s[4])if(e$.exec(s[4]))d="Z";else{t._isValid=!1;return}t._f=a+(c||"")+(d||""),jb(t)}else t._isValid=!1}function s$(t,e,n,r,s,o){var a=[i$(t),GO.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return o&&a.push(parseInt(o,10)),a}function i$(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function o$(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function a$(t,e,n){if(t){var r=ZO.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return ke(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function l$(t,e,n){if(t)return r$[t];if(e)return 0;var r=parseInt(n,10),s=r%100,o=(r-s)/100;return o*60+s}function sA(t){var e=n$.exec(o$(t._i)),n;if(e){if(n=s$(e[4],e[3],e[2],e[5],e[6],e[7]),!a$(e[1],n,t))return;t._a=n,t._tzm=l$(e[8],e[9],e[10]),t._d=Ru.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ke(t).rfc2822=!0}else t._isValid=!1}function c$(t){var e=t$.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(rA(t),t._isValid===!1)delete t._isValid;else return;if(sA(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ne.createFromInputFallback(t)}ne.createFromInputFallback=_r("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function il(t,e,n){return t??e??n}function u$(t){var e=new Date(ne.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Rb(t){var e,n,r=[],s,o,a;if(!t._d){for(s=u$(t),t._w&&t._a[ls]==null&&t._a[Us]==null&&d$(t),t._dayOfYear!=null&&(a=il(t._a[gn],s[gn]),(t._dayOfYear>du(a)||t._dayOfYear===0)&&(ke(t)._overflowDayOfYear=!0),n=Ru(a,0,t._dayOfYear),t._a[Us]=n.getUTCMonth(),t._a[ls]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Ut]===24&&t._a[Pr]===0&&t._a[Hs]===0&&t._a[jo]===0&&(t._nextDay=!0,t._a[Ut]=0),t._d=(t._useUTC?Ru:yH).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ut]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(ke(t).weekdayMismatch=!0)}}function d$(t){var e,n,r,s,o,a,c,d,f;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,a=4,n=il(e.GG,t._a[gn],ju(it(),1,4).year),r=il(e.W,1),s=il(e.E,1),(s<1||s>7)&&(d=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,f=ju(it(),o,a),n=il(e.gg,t._a[gn],f.year),r=il(e.w,f.week),e.d!=null?(s=e.d,(s<0||s>6)&&(d=!0)):e.e!=null?(s=e.e+o,(e.e<0||e.e>6)&&(d=!0)):s=o),r<1||r>Gs(n,o,a)?ke(t)._overflowWeeks=!0:d!=null?ke(t)._overflowWeekday=!0:(c=JO(n,r,s,o,a),t._a[gn]=c.year,t._dayOfYear=c.dayOfYear)}ne.ISO_8601=function(){};ne.RFC_2822=function(){};function jb(t){if(t._f===ne.ISO_8601){rA(t);return}if(t._f===ne.RFC_2822){sA(t);return}t._a=[],ke(t).empty=!0;var e=""+t._i,n,r,s,o,a,c=e.length,d=0,f,p;for(s=VO(t._f,t._locale).match(wb)||[],p=s.length,n=0;n<p;n++)o=s[n],r=(e.match(JU(o,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&ke(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),d+=r.length),yl[o]?(r?ke(t).empty=!1:ke(t).unusedTokens.push(o),eH(o,r,t)):t._strict&&!r&&ke(t).unusedTokens.push(o);ke(t).charsLeftOver=c-d,e.length>0&&ke(t).unusedInput.push(e),t._a[Ut]<=12&&ke(t).bigHour===!0&&t._a[Ut]>0&&(ke(t).bigHour=void 0),ke(t).parsedDateParts=t._a.slice(0),ke(t).meridiem=t._meridiem,t._a[Ut]=f$(t._locale,t._a[Ut],t._meridiem),f=ke(t).era,f!==null&&(t._a[gn]=t._locale.erasConvertYear(f,t._a[gn])),Rb(t),Db(t)}function f$(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function h$(t){var e,n,r,s,o,a,c=!1,d=t._f.length;if(d===0){ke(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<d;s++)o=0,a=!1,e=xb({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],jb(e),bb(e)&&(a=!0),o+=ke(e).charsLeftOver,o+=ke(e).unusedTokens.length*10,ke(e).score=o,c?o<r&&(r=o,n=e):(r==null||o<r||a)&&(r=o,n=e,a&&(c=!0));Ii(t,n||e)}function p$(t){if(!t._d){var e=Cb(t._i),n=e.day===void 0?e.date:e.day;t._a=zO([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Rb(t)}}function m$(t){var e=new cd(Db(iA(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function iA(t){var e=t._i,n=t._f;return t._locale=t._locale||ti(t._l),e===null||n===void 0&&e===""?cm({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Vr(e)?new cd(Db(e)):(ld(e)?t._d=e:Ir(n)?h$(t):n?jb(t):g$(t),bb(t)||(t._d=null),t))}function g$(t){var e=t._i;jn(e)?t._d=new Date(ne.now()):ld(e)?t._d=new Date(e.valueOf()):typeof e=="string"?c$(t):Ir(e)?(t._a=zO(e.slice(0),function(n){return parseInt(n,10)}),Rb(t)):$o(e)?p$(t):Js(e)?t._d=new Date(e):ne.createFromInputFallback(t)}function oA(t,e,n,r,s){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),($o(t)&&vb(t)||Ir(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=n,o._i=t,o._f=e,o._strict=r,m$(o)}function it(t,e,n,r){return oA(t,e,n,r,!1)}var y$=_r("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=it.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:cm()}),v$=_r("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=it.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:cm()});function aA(t,e){var n,r;if(e.length===1&&Ir(e[0])&&(e=e[0]),!e.length)return it();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function b$(){var t=[].slice.call(arguments,0);return aA("isBefore",t)}function x$(){var t=[].slice.call(arguments,0);return aA("isAfter",t)}var S$=function(){return Date.now?Date.now():+new Date},Zc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function w$(t){var e,n=!1,r,s=Zc.length;for(e in t)if(He(t,e)&&!(At.call(Zc,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[Zc[r]]){if(n)return!1;parseFloat(t[Zc[r]])!==Le(t[Zc[r]])&&(n=!0)}return!0}function C$(){return this._isValid}function k$(){return Yr(NaN)}function ym(t){var e=Cb(t),n=e.year||0,r=e.quarter||0,s=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,c=e.hour||0,d=e.minute||0,f=e.second||0,p=e.millisecond||0;this._isValid=w$(e),this._milliseconds=+p+f*1e3+d*6e4+c*1e3*60*60,this._days=+a+o*7,this._months=+s+r*3+n*12,this._data={},this._locale=ti(),this._bubble()}function Th(t){return t instanceof ym}function $v(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function T$(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0,a;for(a=0;a<r;a++)Le(t[a])!==Le(e[a])&&o++;return o+s}function lA(t,e){he(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+ds(~~(n/60),2)+e+ds(~~n%60,2)})}lA("Z",":");lA("ZZ","");ae("Z",pm);ae("ZZ",pm);et(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Lb(pm,t)});var _$=/([\+\-]|\d\d)/gi;function Lb(t,e){var n=(e||"").match(t),r,s,o;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(_$)||["-",0,0],o=+(s[1]*60)+Le(s[2]),o===0?0:s[0]==="+"?o:-o)}function Pb(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Vr(t)||ld(t)?t.valueOf():it(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ne.updateOffset(n,!1),n):it(t).local()}function Fv(t){return-Math.round(t._d.getTimezoneOffset())}ne.updateOffset=function(){};function E$(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Lb(pm,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=Fv(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?dA(this,Yr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ne.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Fv(this)}function M$(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function O$(t){return this.utcOffset(0,t)}function A$(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fv(this),"m")),this}function N$(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Lb(QU,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function D$(t){return this.isValid()?(t=t?it(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function R$(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function j$(){if(!jn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return xb(t,this),t=iA(t),t._a?(e=t._isUTC?ms(t._a):it(t._a),this._isDSTShifted=this.isValid()&&T$(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function L$(){return this.isValid()?!this._isUTC:!1}function P$(){return this.isValid()?this._isUTC:!1}function cA(){return this.isValid()?this._isUTC&&this._offset===0:!1}var z$=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,B$=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yr(t,e){var n=t,r=null,s,o,a;return Th(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Js(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=z$.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:Le(r[ls])*s,h:Le(r[Ut])*s,m:Le(r[Pr])*s,s:Le(r[Hs])*s,ms:Le($v(r[jo]*1e3))*s}):(r=B$.exec(t))?(s=r[1]==="-"?-1:1,n={y:ko(r[2],s),M:ko(r[3],s),w:ko(r[4],s),d:ko(r[5],s),h:ko(r[6],s),m:ko(r[7],s),s:ko(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=I$(it(n.from),it(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),o=new ym(n),Th(t)&&He(t,"_locale")&&(o._locale=t._locale),Th(t)&&He(t,"_isValid")&&(o._isValid=t._isValid),o}Yr.fn=ym.prototype;Yr.invalid=k$;function ko(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function d_(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function I$(t,e){var n;return t.isValid()&&e.isValid()?(e=Pb(e,t),t.isBefore(e)?n=d_(t,e):(n=d_(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function uA(t,e){return function(n,r){var s,o;return r!==null&&!isNaN(+r)&&(IO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),s=Yr(n,r),dA(this,s,t),this}}function dA(t,e,n,r){var s=e._milliseconds,o=$v(e._days),a=$v(e._months);t.isValid()&&(r=r??!0,a&&KO(t,Du(t,"Month")+a*n),o&&YO(t,"Date",Du(t,"Date")+o*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&ne.updateOffset(t,o||a))}var V$=uA(1,"add"),U$=uA(-1,"subtract");function fA(t){return typeof t=="string"||t instanceof String}function H$(t){return Vr(t)||ld(t)||fA(t)||Js(t)||F$(t)||$$(t)||t===null||t===void 0}function $$(t){var e=$o(t)&&!vb(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,o,a=r.length;for(s=0;s<a;s+=1)o=r[s],n=n||He(t,o);return e&&n}function F$(t){var e=Ir(t),n=!1;return e&&(n=t.filter(function(r){return!Js(r)&&fA(t)}).length===0),e&&n}function q$(t){var e=$o(t)&&!vb(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,o;for(s=0;s<r.length;s+=1)o=r[s],n=n||He(t,o);return e&&n}function Y$(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function G$(t,e){arguments.length===1&&(arguments[0]?H$(arguments[0])?(t=arguments[0],e=void 0):q$(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||it(),r=Pb(n,this).startOf("day"),s=ne.calendarFormat(this,r)||"sameElse",o=e&&(gs(e[s])?e[s].call(this,n):e[s]);return this.format(o||this.localeData().calendar(s,this,it(n)))}function W$(){return new cd(this)}function K$(t,e){var n=Vr(t)?t:it(t);return this.isValid()&&n.isValid()?(e=Er(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function Q$(t,e){var n=Vr(t)?t:it(t);return this.isValid()&&n.isValid()?(e=Er(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function X$(t,e,n,r){var s=Vr(t)?t:it(t),o=Vr(e)?e:it(e);return this.isValid()&&s.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function J$(t,e){var n=Vr(t)?t:it(t),r;return this.isValid()&&n.isValid()?(e=Er(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function Z$(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function e8(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function t8(t,e,n){var r,s,o;if(!this.isValid())return NaN;if(r=Pb(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=Er(e),e){case"year":o=_h(this,r)/12;break;case"month":o=_h(this,r);break;case"quarter":o=_h(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-s)/864e5;break;case"week":o=(this-r-s)/6048e5;break;default:o=this-r}return n?o:Sr(o)}function _h(t,e){if(t.date()<e.date())return-_h(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,o;return e-r<0?(s=t.clone().add(n-1,"months"),o=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),o=(e-r)/(s-r)),-(n+o)||0}ne.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ne.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function n8(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function r8(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?kh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):gs(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",kh(n,"Z")):kh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function s8(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+s+o)}function i8(t){t||(t=this.isUtc()?ne.defaultFormatUtc:ne.defaultFormat);var e=kh(this,t);return this.localeData().postformat(e)}function o8(t,e){return this.isValid()&&(Vr(t)&&t.isValid()||it(t).isValid())?Yr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function a8(t){return this.from(it(),t)}function l8(t,e){return this.isValid()&&(Vr(t)&&t.isValid()||it(t).isValid())?Yr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function c8(t){return this.to(it(),t)}function hA(t){var e;return t===void 0?this._locale._abbr:(e=ti(t),e!=null&&(this._locale=e),this)}var pA=_r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function mA(){return this._locale}var Qh=1e3,vl=60*Qh,Xh=60*vl,gA=(365*400+97)*24*Xh;function bl(t,e){return(t%e+e)%e}function yA(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-gA:new Date(t,e,n).valueOf()}function vA(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-gA:Date.UTC(t,e,n)}function u8(t){var e,n;if(t=Er(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?vA:yA,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=bl(e+(this._isUTC?0:this.utcOffset()*vl),Xh);break;case"minute":e=this._d.valueOf(),e-=bl(e,vl);break;case"second":e=this._d.valueOf(),e-=bl(e,Qh);break}return this._d.setTime(e),ne.updateOffset(this,!0),this}function d8(t){var e,n;if(t=Er(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?vA:yA,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Xh-bl(e+(this._isUTC?0:this.utcOffset()*vl),Xh)-1;break;case"minute":e=this._d.valueOf(),e+=vl-bl(e,vl)-1;break;case"second":e=this._d.valueOf(),e+=Qh-bl(e,Qh)-1;break}return this._d.setTime(e),ne.updateOffset(this,!0),this}function f8(){return this._d.valueOf()-(this._offset||0)*6e4}function h8(){return Math.floor(this.valueOf()/1e3)}function p8(){return new Date(this.valueOf())}function m8(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function g8(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function y8(){return this.isValid()?this.toISOString():null}function v8(){return bb(this)}function b8(){return Ii({},ke(this))}function x8(){return ke(this).overflow}function S8(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}he("N",0,0,"eraAbbr");he("NN",0,0,"eraAbbr");he("NNN",0,0,"eraAbbr");he("NNNN",0,0,"eraName");he("NNNNN",0,0,"eraNarrow");he("y",["y",1],"yo","eraYear");he("y",["yy",2],0,"eraYear");he("y",["yyy",3],0,"eraYear");he("y",["yyyy",4],0,"eraYear");ae("N",zb);ae("NN",zb);ae("NNN",zb);ae("NNNN",D8);ae("NNNNN",R8);et(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?ke(n).era=s:ke(n).invalidEra=t});ae("y",Vl);ae("yy",Vl);ae("yyy",Vl);ae("yyyy",Vl);ae("yo",j8);et(["y","yy","yyy","yyyy"],gn);et(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[gn]=n._locale.eraYearOrdinalParse(t,s):e[gn]=parseInt(t,10)});function w8(t,e){var n,r,s,o=this._eras||ti("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":s=ne(o[n].since).startOf("day"),o[n].since=s.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=ne(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf();break}}return o}function C8(t,e,n){var r,s,o=this.eras(),a,c,d;for(t=t.toUpperCase(),r=0,s=o.length;r<s;++r)if(a=o[r].name.toUpperCase(),c=o[r].abbr.toUpperCase(),d=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(c===t)return o[r];break;case"NNNN":if(a===t)return o[r];break;case"NNNNN":if(d===t)return o[r];break}else if([a,c,d].indexOf(t)>=0)return o[r]}function k8(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ne(t.since).year():ne(t.since).year()+(e-t.offset)*n}function T8(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function _8(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function E8(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function M8(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-ne(s[t].since).year())*n+s[t].offset;return this.year()}function O8(t){return He(this,"_erasNameRegex")||Bb.call(this),t?this._erasNameRegex:this._erasRegex}function A8(t){return He(this,"_erasAbbrRegex")||Bb.call(this),t?this._erasAbbrRegex:this._erasRegex}function N8(t){return He(this,"_erasNarrowRegex")||Bb.call(this),t?this._erasNarrowRegex:this._erasRegex}function zb(t,e){return e.erasAbbrRegex(t)}function D8(t,e){return e.erasNameRegex(t)}function R8(t,e){return e.erasNarrowRegex(t)}function j8(t,e){return e._eraYearOrdinalRegex||Vl}function Bb(){var t=[],e=[],n=[],r=[],s,o,a,c,d,f=this.eras();for(s=0,o=f.length;s<o;++s)a=Ys(f[s].name),c=Ys(f[s].abbr),d=Ys(f[s].narrow),e.push(a),t.push(c),n.push(d),r.push(a),r.push(c),r.push(d);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}he(0,["gg",2],0,function(){return this.weekYear()%100});he(0,["GG",2],0,function(){return this.isoWeekYear()%100});function vm(t,e){he(0,[t,t.length],0,e)}vm("gggg","weekYear");vm("ggggg","weekYear");vm("GGGG","isoWeekYear");vm("GGGGG","isoWeekYear");ae("G",hm);ae("g",hm);ae("GG",ot,rr);ae("gg",ot,rr);ae("GGGG",Tb,kb);ae("gggg",Tb,kb);ae("GGGGG",fm,um);ae("ggggg",fm,um);dd(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Le(t)});dd(["gg","GG"],function(t,e,n,r){e[r]=ne.parseTwoDigitYear(t)});function L8(t){return bA.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function P8(t){return bA.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function z8(){return Gs(this.year(),1,4)}function B8(){return Gs(this.isoWeekYear(),1,4)}function I8(){var t=this.localeData()._week;return Gs(this.year(),t.dow,t.doy)}function V8(){var t=this.localeData()._week;return Gs(this.weekYear(),t.dow,t.doy)}function bA(t,e,n,r,s){var o;return t==null?ju(this,r,s).year:(o=Gs(t,r,s),e>o&&(e=o),U8.call(this,t,e,n,r,s))}function U8(t,e,n,r,s){var o=JO(t,e,n,r,s),a=Ru(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}he("Q",0,"Qo","quarter");ae("Q",UO);et("Q",function(t,e){e[Us]=(Le(t)-1)*3});function H8(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}he("D",["DD",2],"Do","date");ae("D",ot,Ul);ae("DD",ot,rr);ae("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});et(["D","DD"],ls);et("Do",function(t,e){e[ls]=Le(t.match(ot)[0])});var xA=Hl("Date",!0);he("DDD",["DDDD",3],"DDDo","dayOfYear");ae("DDD",dm);ae("DDDD",HO);et(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Le(t)});function $8(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}he("m",["mm",2],0,"minute");ae("m",ot,_b);ae("mm",ot,rr);et(["m","mm"],Pr);var F8=Hl("Minutes",!1);he("s",["ss",2],0,"second");ae("s",ot,_b);ae("ss",ot,rr);et(["s","ss"],Hs);var q8=Hl("Seconds",!1);he("S",0,0,function(){return~~(this.millisecond()/100)});he(0,["SS",2],0,function(){return~~(this.millisecond()/10)});he(0,["SSS",3],0,"millisecond");he(0,["SSSS",4],0,function(){return this.millisecond()*10});he(0,["SSSSS",5],0,function(){return this.millisecond()*100});he(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});he(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});he(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});he(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ae("S",dm,UO);ae("SS",dm,rr);ae("SSS",dm,HO);var Vi,SA;for(Vi="SSSS";Vi.length<=9;Vi+="S")ae(Vi,Vl);function Y8(t,e){e[jo]=Le(("0."+t)*1e3)}for(Vi="S";Vi.length<=9;Vi+="S")et(Vi,Y8);SA=Hl("Milliseconds",!1);he("z",0,0,"zoneAbbr");he("zz",0,0,"zoneName");function G8(){return this._isUTC?"UTC":""}function W8(){return this._isUTC?"Coordinated Universal Time":""}var te=cd.prototype;te.add=V$;te.calendar=G$;te.clone=W$;te.diff=t8;te.endOf=d8;te.format=i8;te.from=o8;te.fromNow=a8;te.to=l8;te.toNow=c8;te.get=sH;te.invalidAt=x8;te.isAfter=K$;te.isBefore=Q$;te.isBetween=X$;te.isSame=J$;te.isSameOrAfter=Z$;te.isSameOrBefore=e8;te.isValid=v8;te.lang=pA;te.locale=hA;te.localeData=mA;te.max=v$;te.min=y$;te.parsingFlags=b8;te.set=iH;te.startOf=u8;te.subtract=U$;te.toArray=m8;te.toObject=g8;te.toDate=p8;te.toISOString=r8;te.inspect=s8;typeof Symbol<"u"&&Symbol.for!=null&&(te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});te.toJSON=y8;te.toString=n8;te.unix=h8;te.valueOf=f8;te.creationData=S8;te.eraName=T8;te.eraNarrow=_8;te.eraAbbr=E8;te.eraYear=M8;te.year=qO;te.isLeapYear=rH;te.weekYear=L8;te.isoWeekYear=P8;te.quarter=te.quarters=H8;te.month=QO;te.daysInMonth=pH;te.week=te.weeks=wH;te.isoWeek=te.isoWeeks=CH;te.weeksInYear=I8;te.weeksInWeekYear=V8;te.isoWeeksInYear=z8;te.isoWeeksInISOWeekYear=B8;te.date=xA;te.day=te.days=PH;te.weekday=zH;te.isoWeekday=BH;te.dayOfYear=$8;te.hour=te.hours=qH;te.minute=te.minutes=F8;te.second=te.seconds=q8;te.millisecond=te.milliseconds=SA;te.utcOffset=E$;te.utc=O$;te.local=A$;te.parseZone=N$;te.hasAlignedHourOffset=D$;te.isDST=R$;te.isLocal=L$;te.isUtcOffset=P$;te.isUtc=cA;te.isUTC=cA;te.zoneAbbr=G8;te.zoneName=W8;te.dates=_r("dates accessor is deprecated. Use date instead.",xA);te.months=_r("months accessor is deprecated. Use month instead",QO);te.years=_r("years accessor is deprecated. Use year instead",qO);te.zone=_r("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",M$);te.isDSTShifted=_r("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",j$);function K8(t){return it(t*1e3)}function Q8(){return it.apply(null,arguments).parseZone()}function wA(t){return t}var $e=Sb.prototype;$e.calendar=LU;$e.longDateFormat=IU;$e.invalidDate=UU;$e.ordinal=FU;$e.preparse=wA;$e.postformat=wA;$e.relativeTime=YU;$e.pastFuture=GU;$e.set=RU;$e.eras=w8;$e.erasParse=C8;$e.erasConvertYear=k8;$e.erasAbbrRegex=A8;$e.erasNameRegex=O8;$e.erasNarrowRegex=N8;$e.months=uH;$e.monthsShort=dH;$e.monthsParse=hH;$e.monthsRegex=gH;$e.monthsShortRegex=mH;$e.week=vH;$e.firstDayOfYear=SH;$e.firstDayOfWeek=xH;$e.weekdays=NH;$e.weekdaysMin=RH;$e.weekdaysShort=DH;$e.weekdaysParse=LH;$e.weekdaysRegex=IH;$e.weekdaysShortRegex=VH;$e.weekdaysMinRegex=UH;$e.isPM=$H;$e.meridiem=YH;function Jh(t,e,n,r){var s=ti(),o=ms().set(r,e);return s[n](o,t)}function CA(t,e,n){if(Js(t)&&(e=t,t=void 0),t=t||"",e!=null)return Jh(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Jh(t,r,n,"month");return s}function Ib(t,e,n,r){typeof t=="boolean"?(Js(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Js(e)&&(n=e,e=void 0),e=e||"");var s=ti(),o=t?s._week.dow:0,a,c=[];if(n!=null)return Jh(e,(n+o)%7,r,"day");for(a=0;a<7;a++)c[a]=Jh(e,(a+o)%7,r,"day");return c}function X8(t,e){return CA(t,e,"months")}function J8(t,e){return CA(t,e,"monthsShort")}function Z8(t,e,n){return Ib(t,e,n,"weekdays")}function eF(t,e,n){return Ib(t,e,n,"weekdaysShort")}function tF(t,e,n){return Ib(t,e,n,"weekdaysMin")}Fi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Le(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ne.lang=_r("moment.lang is deprecated. Use moment.locale instead.",Fi);ne.langData=_r("moment.langData is deprecated. Use moment.localeData instead.",ti);var Rs=Math.abs;function nF(){var t=this._data;return this._milliseconds=Rs(this._milliseconds),this._days=Rs(this._days),this._months=Rs(this._months),t.milliseconds=Rs(t.milliseconds),t.seconds=Rs(t.seconds),t.minutes=Rs(t.minutes),t.hours=Rs(t.hours),t.months=Rs(t.months),t.years=Rs(t.years),this}function kA(t,e,n,r){var s=Yr(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function rF(t,e){return kA(this,t,e,1)}function sF(t,e){return kA(this,t,e,-1)}function f_(t){return t<0?Math.floor(t):Math.ceil(t)}function iF(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,o,a,c,d;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=f_(qv(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=Sr(t/1e3),r.seconds=s%60,o=Sr(s/60),r.minutes=o%60,a=Sr(o/60),r.hours=a%24,e+=Sr(a/24),d=Sr(TA(e)),n+=d,e-=f_(qv(d)),c=Sr(n/12),n%=12,r.days=e,r.months=n,r.years=c,this}function TA(t){return t*4800/146097}function qv(t){return t*146097/4800}function oF(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Er(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+TA(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(qv(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ni(t){return function(){return this.as(t)}}var _A=ni("ms"),aF=ni("s"),lF=ni("m"),cF=ni("h"),uF=ni("d"),dF=ni("w"),fF=ni("M"),hF=ni("Q"),pF=ni("y"),mF=_A;function gF(){return Yr(this)}function yF(t){return t=Er(t),this.isValid()?this[t+"s"]():NaN}function la(t){return function(){return this.isValid()?this._data[t]:NaN}}var vF=la("milliseconds"),bF=la("seconds"),xF=la("minutes"),SF=la("hours"),wF=la("days"),CF=la("months"),kF=la("years");function TF(){return Sr(this.days()/7)}var Is=Math.round,ul={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function _F(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function EF(t,e,n,r){var s=Yr(t).abs(),o=Is(s.as("s")),a=Is(s.as("m")),c=Is(s.as("h")),d=Is(s.as("d")),f=Is(s.as("M")),p=Is(s.as("w")),m=Is(s.as("y")),y=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||c<=1&&["h"]||c<n.h&&["hh",c]||d<=1&&["d"]||d<n.d&&["dd",d];return n.w!=null&&(y=y||p<=1&&["w"]||p<n.w&&["ww",p]),y=y||f<=1&&["M"]||f<n.M&&["MM",f]||m<=1&&["y"]||["yy",m],y[2]=e,y[3]=+t>0,y[4]=r,_F.apply(null,y)}function MF(t){return t===void 0?Is:typeof t=="function"?(Is=t,!0):!1}function OF(t,e){return ul[t]===void 0?!1:e===void 0?ul[t]:(ul[t]=e,t==="s"&&(ul.ss=e-1),!0)}function AF(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ul,s,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},ul,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),o=EF(this,!n,r,s),n&&(o=s.pastFuture(+this,o)),s.postformat(o)}var T0=Math.abs;function Qa(t){return(t>0)-(t<0)||+t}function bm(){if(!this.isValid())return this.localeData().invalidDate();var t=T0(this._milliseconds)/1e3,e=T0(this._days),n=T0(this._months),r,s,o,a,c=this.asSeconds(),d,f,p,m;return c?(r=Sr(t/60),s=Sr(r/60),t%=60,r%=60,o=Sr(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",d=c<0?"-":"",f=Qa(this._months)!==Qa(c)?"-":"",p=Qa(this._days)!==Qa(c)?"-":"",m=Qa(this._milliseconds)!==Qa(c)?"-":"",d+"P"+(o?f+o+"Y":"")+(n?f+n+"M":"")+(e?p+e+"D":"")+(s||r||t?"T":"")+(s?m+s+"H":"")+(r?m+r+"M":"")+(t?m+a+"S":"")):"P0D"}var Be=ym.prototype;Be.isValid=C$;Be.abs=nF;Be.add=rF;Be.subtract=sF;Be.as=oF;Be.asMilliseconds=_A;Be.asSeconds=aF;Be.asMinutes=lF;Be.asHours=cF;Be.asDays=uF;Be.asWeeks=dF;Be.asMonths=fF;Be.asQuarters=hF;Be.asYears=pF;Be.valueOf=mF;Be._bubble=iF;Be.clone=gF;Be.get=yF;Be.milliseconds=vF;Be.seconds=bF;Be.minutes=xF;Be.hours=SF;Be.days=wF;Be.weeks=TF;Be.months=CF;Be.years=kF;Be.humanize=AF;Be.toISOString=bm;Be.toString=bm;Be.toJSON=bm;Be.locale=hA;Be.localeData=mA;Be.toIsoString=_r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",bm);Be.lang=pA;he("X",0,0,"unix");he("x",0,0,"valueOf");ae("x",hm);ae("X",XU);et("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});et("x",function(t,e,n){n._d=new Date(Le(t))});ne.version="2.30.1";NU(it);ne.fn=te;ne.min=b$;ne.max=x$;ne.now=S$;ne.utc=ms;ne.unix=K8;ne.months=X8;ne.isDate=ld;ne.locale=Fi;ne.invalid=cm;ne.duration=Yr;ne.isMoment=Vr;ne.weekdays=Z8;ne.parseZone=Q8;ne.localeData=ti;ne.isDuration=Th;ne.monthsShort=J8;ne.weekdaysMin=tF;ne.defineLocale=Nb;ne.updateLocale=QH;ne.locales=XH;ne.weekdaysShort=eF;ne.normalizeUnits=Er;ne.relativeTimeRounding=MF;ne.relativeTimeThreshold=OF;ne.calendarFormat=Y$;ne.prototype=te;ne.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const NF="_calendarWrapper_1etwz_1",DF="_simpleWeekGrid_1etwz_23",RF="_dayCard_1etwz_35",jF="_dayHeader_1etwz_53",LF="_dayEvents_1etwz_81",PF="_eventCard_1etwz_93",zF="_eventType_1etwz_133",BF="_daysLeft_1etwz_145",Oi={calendarWrapper:NF,simpleWeekGrid:DF,dayCard:RF,dayHeader:jF,dayEvents:LF,eventCard:PF,eventType:zF,daysLeft:BF};function IF({events:t}){const e=ne(),n=["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],r=[...t].sort((s,o)=>ne(s.start).diff(ne(o.start))).filter(s=>ne(s.start).diff(e,"days")>=0);return v.jsx("div",{className:Oi.calendarWrapper,children:v.jsx("div",{className:Oi.simpleWeekGrid,children:r.map(s=>{const o=ne(s.start),a=o.diff(e,"days");return v.jsxs("div",{className:Oi.dayCard,children:[v.jsxs("div",{className:Oi.dayHeader,children:[n[o.day()]," ",o.format("D/M")]}),v.jsx("div",{className:Oi.dayEvents,children:v.jsxs("div",{className:Oi.eventCard,children:[v.jsx("strong",{children:s.subject}),v.jsxs("div",{className:Oi.eventType,children:[s.type," (",o.format("HH:mm"),"-",ne(s.end).format("HH:mm"),")"]}),v.jsx("div",{className:Oi.daysLeft,children:a===0?"Idag":`${a} dagar kvar`})]})})]},s.id)})})})}const VF="/calender/task";async function UF(){try{return(await qe.get(`${VF}`)).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta tasks"):new Error("Kunde inte n servern")}}const HF="_containerWrapper_1i4d4_1",$F={containerWrapper:HF};function FF(t){return t.map(e=>{const n=e.deadline.replace("Z",""),r=ne(n).toDate(),s=ne(n).add(1,"hour").toDate();return{id:e.id,subject:e.subject||"Ingen rubrik",type:e.type||"Oknt",start:r,end:s,status:e.pastDue?"overdue":e.daysLeft<=0?"completed":"pending"}})}function qF(){const[t,e]=M.useState([]),n=M.useCallback(async()=>{try{const r=await UF();e(FF(r)),console.log("Uppgifter hmtade:",r)}catch(r){console.error("Fel vid hmtning av uppgifter:",r),e([])}},[]);return M.useEffect(()=>{n()},[n]),v.jsxs("div",{className:$F.containerWrapper,children:[v.jsx(IF,{events:t}),v.jsx("div",{})]})}var $l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},GF=class{#e=YF;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Lo=new GF;function WF(t){setTimeout(t,0)}var ta=typeof window>"u"||"Deno"in globalThis;function wn(){}function KF(t,e){return typeof t=="function"?t(e):t}function Yv(t){return typeof t=="number"&&t>=0&&t!==1/0}function EA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qi(t,e){return typeof t=="function"?t(e):t}function br(t,e){return typeof t=="function"?t(e):t}function h_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==Vb(a,e.options))return!1}else if(!Pu(e.queryKey,a))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function p_(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(na(e.options.mutationKey)!==na(o))return!1}else if(!Pu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Vb(t,e){return(e?.queryKeyHashFn||na)(t)}function na(t){return JSON.stringify(t,(e,n)=>Gv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Pu(t[n],e[n])):!1}var QF=Object.prototype.hasOwnProperty;function MA(t,e){if(t===e)return t;const n=m_(t)&&m_(e);if(!n&&!(Gv(t)&&Gv(e)))return e;const s=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,c=n?new Array(a):{};let d=0;for(let f=0;f<a;f++){const p=n?f:o[f],m=t[p],y=e[p];if(m===y){c[p]=m,(n?f<s:QF.call(t,p))&&d++;continue}if(m===null||y===null||typeof m!="object"||typeof y!="object"){c[p]=y;continue}const x=MA(m,y);c[p]=x,x===m&&d++}return s===a&&d===s?t:c}function Zh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function m_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gv(t){if(!g_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!g_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function g_(t){return Object.prototype.toString.call(t)==="[object Object]"}function XF(t){return new Promise(e=>{Lo.setTimeout(e,t)})}function Wv(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MA(t,e):e}function JF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ZF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ub=Symbol();function OA(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Ub?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function AA(t,e){return typeof t=="function"?t(...e):!!t}var e9=class extends $l{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ta&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Hb=new e9;function Kv(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var t9=WF;function n9(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=t9;const o=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||a()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var Vt=n9(),r9=class extends $l{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ta&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},ep=new r9;function s9(t){return Math.min(1e3*2**t,3e4)}function NA(t){return(t??"online")==="online"?ep.isOnline():!0}var Qv=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function DA(t){let e=!1,n=0,r;const s=Kv(),o=()=>s.status!=="pending",a=w=>{if(!o()){const C=new Qv(w);y(C),t.onCancel?.(C)}},c=()=>{e=!0},d=()=>{e=!1},f=()=>Hb.isFocused()&&(t.networkMode==="always"||ep.isOnline())&&t.canRun(),p=()=>NA(t.networkMode)&&t.canRun(),m=w=>{o()||(r?.(),s.resolve(w))},y=w=>{o()||(r?.(),s.reject(w))},x=()=>new Promise(w=>{r=C=>{(o()||f())&&w(C)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),S=()=>{if(o())return;let w;const C=n===0?t.initialPromise:void 0;try{w=C??t.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(m).catch(k=>{if(o())return;const _=t.retry??(ta?0:3),A=t.retryDelay??s9,N=typeof A=="function"?A(n,k):A,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,k);if(e||!O){y(k);return}n++,t.onFail?.(n,k),XF(N).then(()=>f()?void 0:x()).then(()=>{e?y(k):S()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?S():x().then(S),s)}}var RA=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yv(this.gcTime)&&(this.#e=Lo.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ta?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Lo.clearTimeout(this.#e),this.#e=void 0)}},i9=class extends RA{#e;#t;#n;#r;#s;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=y_(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=y_(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=Wv(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(wn).catch(wn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>br(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ub||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>qi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!EA(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const c=OA(this.options,e),f=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(c,f,this):c(f)},a=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:s};return r(c),c})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#s=DA({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:c=>{c instanceof Qv&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#i({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const c=await this.#s.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Qv){if(c.silent)return this.#s.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jA(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Vt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function jA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function y_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var o9=class extends $l{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=Kv(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#o;#a;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),v_(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof br(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Zh(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&b_(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||br(this.options.enabled,this.#t)!==br(e.enabled,this.#t)||qi(this.options.staleTime,this.#t)!==qi(e.staleTime,this.#t))&&this.#g();const s=this.#y();r&&(this.#t!==n||br(this.options.enabled,this.#t)!==br(e.enabled,this.#t)||s!==this.#l)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return l9(this,n)&&(this.#r=n,this.#o=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(wn)),e}#g(){this.#x();const t=qi(this.options.staleTime,this.#t);if(ta||this.#r.isStale||!Yv(t))return;const n=EA(this.#r.dataUpdatedAt,t)+1;this.#c=Lo.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#S(),this.#l=t,!(ta||br(this.options.enabled,this.#t)===!1||!Yv(this.#l)||this.#l===0)&&(this.#u=Lo.setInterval(()=>{(this.options.refetchIntervalInBackground||Hb.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(Lo.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Lo.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#r,o=this.#s,a=this.#o,d=t!==n?t.state:this.#n,{state:f}=t;let p={...f},m=!1,y;if(e._optimisticResults){const D=this.hasListeners(),H=!D&&v_(t,e),X=D&&b_(t,n,e,r);(H||X)&&(p={...p,...jA(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:w}=p;y=p.data;let C=!1;if(e.placeholderData!==void 0&&y===void 0&&w==="pending"){let D;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(D=s.data,C=!0):D=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,D!==void 0&&(w="success",y=Wv(s?.data,D,e),m=!0)}if(e.select&&y!==void 0&&!C)if(s&&y===o?.data&&e.select===this.#m)y=this.#f;else try{this.#m=e.select,y=e.select(y),y=Wv(s?.data,y,e),this.#f=y,this.#i=null}catch(D){this.#i=D}this.#i&&(x=this.#i,y=this.#f,S=Date.now(),w="error");const k=p.fetchStatus==="fetching",_=w==="pending",A=w==="error",N=_&&k,O=y!==void 0,P={status:w,fetchStatus:p.fetchStatus,isPending:_,isSuccess:w==="success",isError:A,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:k,isRefetching:k&&!_,isLoadingError:A&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&O,isStale:$b(t,e),refetch:this.refetch,promise:this.#a,isEnabled:br(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const D=Z=>{P.status==="error"?Z.reject(P.error):P.data!==void 0&&Z.resolve(P.data)},H=()=>{const Z=this.#a=P.promise=Kv();D(Z)},X=this.#a;switch(X.status){case"pending":t.queryHash===n.queryHash&&D(X);break;case"fulfilled":(P.status==="error"||P.data!==X.value)&&H();break;case"rejected":(P.status!=="error"||P.error!==X.reason)&&H();break}}return P}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Zh(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(a=>{const c=a;return this.#r[c]!==t[c]&&o.has(c)})};this.#C({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(t){Vt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function a9(t,e){return br(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function v_(t,e){return a9(t,e)||t.state.data!==void 0&&Xv(t,e,e.refetchOnMount)}function Xv(t,e,n){if(br(e.enabled,t)!==!1&&qi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&$b(t,e)}return!1}function b_(t,e,n,r){return(t!==e||br(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&$b(t,n)}function $b(t,e){return br(e.enabled,t)!==!1&&t.isStaleByTime(qi(e.staleTime,t))}function l9(t,e){return!Zh(t.getCurrentResult(),e)}function x_(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let p=!1;const m=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=OA(e.options,e.fetchOptions),x=async(S,w,C)=>{if(p)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const _=(()=>{const j={client:e.client,queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};return m(j),j})(),A=await y(_),{maxPages:N}=e.options,O=C?ZF:JF;return{pages:O(S.pages,A,N),pageParams:O(S.pageParams,w,N)}};if(s&&o.length){const S=s==="backward",w=S?c9:S_,C={pages:o,pageParams:a},k=w(r,C);c=await x(C,k,S)}else{const S=t??o.length;do{const w=d===0?a[0]??r.initialPageParam:S_(r,c);if(d>0&&w==null)break;c=await x(c,w),d++}while(d<S)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=f}}}function S_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function c9(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var u9=class extends RA{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||LA(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=DA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Vt.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function LA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var d9=class extends $l{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new u9({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Kf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Kf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Kf(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Kf(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Vt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>p_(e,n))}findAll(t={}){return this.getAll().filter(e=>p_(t,e))}notify(t){Vt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Vt.batch(()=>Promise.all(t.map(e=>e.continue().catch(wn))))}};function Kf(t){return t.options.scope?.id}var f9=class extends $l{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Zh(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&na(n.mutationKey)!==na(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??LA();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Vt.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},h9=class extends $l{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??Vb(r,e);let o=this.get(s);return o||(o=new i9({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>h_(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>h_(t,n)):e}notify(t){Vt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},p9=class{#e;#t;#n;#r;#s;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new h9,this.#t=t.mutationCache||new d9,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Hb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=ep.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(qi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,a=KF(e,o);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Vt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Vt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Vt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Vt.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(wn).catch(wn)}invalidateQueries(t,e={}){return Vt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Vt.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(wn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(wn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(qi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wn).catch(wn)}fetchInfiniteQuery(t){return t.behavior=x_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wn).catch(wn)}ensureInfiniteQueryData(t){return t.behavior=x_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ep.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(na(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Pu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(na(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Pu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ub&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},PA=M.createContext(void 0),Mn=t=>{const e=M.useContext(PA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},m9=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(PA.Provider,{value:t,children:e})),zA=M.createContext(!1),g9=()=>M.useContext(zA);zA.Provider;function y9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var v9=M.createContext(y9()),b9=()=>M.useContext(v9),x9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},S9=t=>{M.useEffect(()=>{t.clearReset()},[t])},w9=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||AA(n,[t.error,r])),C9=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},k9=(t,e)=>t.isLoading&&t.isFetching&&!e,T9=(t,e)=>t?.suspense&&e.isPending,w_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function _9(t,e,n){const r=g9(),s=b9(),o=Mn(),a=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",C9(a),x9(a,s),S9(s);const c=!o.getQueryCache().get(a.queryHash),[d]=M.useState(()=>new e(o,a)),f=d.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(m=>{const y=p?d.subscribe(Vt.batchCalls(m)):wn;return d.updateResult(),y},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),M.useEffect(()=>{d.setOptions(a)},[a,d]),T9(a,f))throw w_(a,d,s);if(w9({result:f,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw f.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(a,f),a.experimental_prefetchInRender&&!ta&&k9(f,r)&&(c?w_(a,d,s):o.getQueryCache().get(a.queryHash)?.promise)?.catch(wn).finally(()=>{d.updateResult()}),a.notifyOnChangeProps?f:d.trackResult(f)}function Gr(t,e){return _9(t,o9)}function Mr(t,e){const n=Mn(),[r]=M.useState(()=>new f9(n,t));M.useEffect(()=>{r.setOptions(t)},[r,t]);const s=M.useSyncExternalStore(M.useCallback(a=>r.subscribe(Vt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=M.useCallback((a,c)=>{r.mutate(a,c).catch(wn)},[r]);if(s.error&&AA(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}async function E9(){try{return(await qe.get("/skolverket/programs")).data.programs}catch(t){if(t instanceof rO){const e=t.response?.data?.message||t.message||"Kunde inte hmta program";throw new Error(e)}throw new Error("Kunde inte n servern")}}async function M9(t){try{return(await qe.get(`/skolverket/programs/${t}/subjects`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta mnen fr program"):new Error("Kunde inte n servern")}}function Fb(){return Gr({queryKey:["programs"],queryFn:E9,staleTime:1e3*60*5})}function O9(){return Gr({queryKey:["userPreferenceEnums"],queryFn:s5,staleTime:1e3*60*5})}function A9(){return Gr({queryKey:["userPreferences"],queryFn:lO,staleTime:3e5})}function N9(){const t=Mn();return Mr({mutationFn:e=>aO(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})},onError:e=>{console.error("Failed to set user preferences:",e)}})}function D9(){const[t,e]=M.useState(null),n=M.useRef(null);return M.useEffect(()=>{const s=o=>{n.current&&!n.current.contains(o.target)&&e(null)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),{open:t,toggle:s=>e(o=>o===s?null:s),ref:n,setOpen:e}}function R9(t,e,n){if(!n)return t;const r=e.toLowerCase();return t.filter(s=>s.name.toLowerCase().startsWith(r)||s.code.toLowerCase().startsWith(r))}const j9=["Skolniv"];function BA(t,e,n,r){return M.useCallback(s=>{const o=Array.isArray(s)?s:[s];if(o.some(a=>j9.includes(a))){e(o.length===1?o[0]:o);return}if(n){const a=Array.isArray(t)?[...t]:t?[t]:[];o.forEach(c=>{const d=a.indexOf(c);d>-1?a.splice(d,1):a.push(c)}),e(a)}else e(o[0]);r&&r(o[0])},[t,e,n,r])}const L9="_buttonContainer_1nw9f_1",P9="_row_1nw9f_23",z9="_title_1nw9f_41",B9="_container_1nw9f_59",I9="_button_1nw9f_1",V9="_selected_1nw9f_127",U9="_unselected_1nw9f_147",H9="_current_1nw9f_171",$9="_scrollable_1nw9f_179",F9="_programContainer_1nw9f_209",q9="_searchWrapper_1nw9f_217",Y9="_searchSelected_1nw9f_243",G9="_searchInput_1nw9f_251",W9="_clearButton_1nw9f_289",K9="_dropdown_1nw9f_315",Q9="_courseButton_1nw9f_335",X9="_userSelected_1nw9f_371",J9="_courseInnerButton_1nw9f_391",Z9="_courseLabel_1nw9f_409",e7="_courseCheck_1nw9f_419",t7="_disabledCourse_1nw9f_431",n7="_allGraded_1nw9f_447",r7="_allGradedGreen_1nw9f_477",s7="_green_1nw9f_497",i7="_selectedGreen_1nw9f_509",o7="_unselectedGreen_1nw9f_531",a7="_partiallyGraded_1nw9f_565",Ke={buttonContainer:L9,row:P9,title:z9,container:B9,button:I9,selected:V9,unselected:U9,current:H9,scrollable:$9,programContainer:F9,searchWrapper:q9,searchSelected:Y9,searchInput:G9,clearButton:W9,dropdown:K9,courseButton:Q9,userSelected:X9,courseInnerButton:J9,courseLabel:Z9,courseCheck:e7,disabledCourse:t7,allGraded:n7,allGradedGreen:r7,green:s7,selectedGreen:i7,unselectedGreen:o7,partiallyGraded:a7};function l7({name:t,selected:e,onClick:n,disabled:r,className:s}){return v.jsx("button",{onClick:n,disabled:r,className:`${Ke.button}  ${s??""}`,children:t})}function c7({option:t,isOpen:e,onClose:n,isSelected:r,onCourseSelect:s}){const a=mt(d=>d.preferences)?.gradedSubjects??[],c=M.useRef(null);return M.useEffect(()=>{function d(f){c.current&&!c.current.contains(f.target)&&n?.()}return e&&document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[e,n]),!t.courses||!e?null:v.jsx("div",{ref:c,className:Ke.dropdown,role:"list",children:t.courses.map(d=>{const f=a.some(y=>y.courseCode===d.code),p=`${d.name} (${d.code}, ${d.points??0} p)`,m=[Ke.courseButton,f?Ke.disabledCourse:"",r(d.code)&&!f?Ke.userSelected:""].join(" ").trim();return v.jsx("div",{className:m,children:v.jsxs("button",{type:"button",className:Ke.courseInnerButton,onClick:()=>{f||(s?.(d.code,Number(d.points??0)),n?.())},disabled:f,"aria-disabled":f,children:[v.jsx("span",{className:Ke.courseLabel,children:p}),f&&v.jsx("span",{className:Ke.courseCheck,children:""})]})},d.code)})})}function u7({option:t,isSelected:e,handleSelect:n,toggle:r,open:s,current:o=!1,onCourseSelect:a,variant:c="default"}){const f=mt(k=>k.preferences)?.gradedSubjects??[],p=t.courses?t.courses.filter(k=>f.some(_=>_.courseCode===k.code)).length:0,m=t.courses?.length??0,y=m>0&&p===m,x=p>0&&p<m,S=()=>e(t.code)?!0:t.courses?t.courses.some(k=>e(k.code))||y:!1,w=[o?Ke.current:"",S()?c==="green"?Ke.selectedGreen:Ke.selected:c==="green"?Ke.unselectedGreen:Ke.unselected,y?c==="green"?Ke.allGradedGreen:Ke.allGraded:x?Ke.partiallyGraded:""].filter(Boolean).join(" "),C=t.courses&&m>0?`${t.name} (${p}/${m})`:t.name;return v.jsxs("div",{className:Ke.optionWrapper,children:[v.jsx(l7,{name:C,selected:S(),onClick:()=>t.courses?r(t.name):n(t.code),className:w}),v.jsx(c7,{option:t,isOpen:s===t.name,isSelected:e,onCourseSelect:a})]})}function d7({title:t,options:e,selected:n,onSelect:r,onCourseSelect:s,multiple:o=!1,searchable:a=!1,searchValue:c,onSearchChange:d,currentGrade:f=null,variant:p="default"}){const[m,y]=M.useState(""),x=c??m,S=d??y,w=M.useRef(null),{open:C,toggle:k,ref:_}=D9(),A=R9(e,x,a),N=a&&x.trim()===""&&n?e.filter(Z=>Array.isArray(n)?n.includes(Z.code):Z.code===n):A,O=Z=>n?(Array.isArray(n)?n:[n]).includes(Z):!1,j=BA(n,r,o,k),P=Z=>{j(Z),a&&(S(""),w.current?.blur())},[D,H]=M.useState(!1),X=a&&(x.trim()!==""||D);return v.jsx("div",{ref:_,className:`${Ke.buttonContainer} ${p==="green"?Ke.green:""}`,children:v.jsxs("div",{className:Ke.row,children:[v.jsx("div",{className:Ke.title,children:t}),a&&v.jsxs("div",{className:`${Ke.searchWrapper} ${X?Ke.searchSelected:""}`,children:[v.jsx("span",{className:Ke.searchIconWrapper,children:v.jsx(NO,{size:18})}),v.jsx("input",{ref:w,placeholder:"Sk program",value:x,onChange:Z=>S(Z.target.value),className:Ke.searchInput,onFocus:()=>H(!0),onBlur:()=>H(!1)}),x&&v.jsx("span",{className:Ke.clearButton,onClick:()=>S(""),children:v.jsx(gb,{size:18})})]}),v.jsx("div",{className:`${Ke.container} ${a?Ke.scrollable:""} ${t==="Program"?Ke.programContainer:""}`,children:N.map(Z=>{const ce=Z.code===f;return v.jsx(u7,{option:Z,isSelected:O,handleSelect:P,toggle:k,open:C,current:ce,onCourseSelect:s,variant:p},Z.code)})})]})})}function Zn({title:t,options:e,selected:n,onSelect:r,onCourseSelect:s,searchable:o=!1,searchValue:a,onSearchChange:c,currentGrade:d,multiple:f,variant:p="default"}){return v.jsx(d7,{title:t,options:e,selected:n,onSelect:r??(()=>{}),onCourseSelect:s,searchable:o,searchValue:a,onSearchChange:c,currentGrade:d,multiple:f,variant:p})}function f7({localPrefs:t,enums:e,programs:n,orientations:r,updateField:s,handleSelect:o}){const[a,c]=M.useState(""),d=M.useMemo(()=>a?n.filter(f=>f.name.toLowerCase().includes(a.toLowerCase())||f.code.toLowerCase().includes(a.toLowerCase())):t.program?n.filter(f=>f.code===t.program?.code):[],[n,a,t.program?.code]);return v.jsxs(v.Fragment,{children:[v.jsx(Zn,{title:"Skolniv",options:e.educationLevels.map(f=>({name:f,code:f})),selected:t.educationLevel,onSelect:o}),n.length>0&&v.jsx(Zn,{title:"Program",options:d.map(f=>({name:`${f.name} (${f.code})`,code:f.code})),selected:t.program?.code??null,searchable:!0,searchValue:a,onSearchChange:c,onSelect:f=>{const p=n.find(m=>m.code===f);s("program",p??null)}}),r.length>0&&v.jsx(Zn,{title:"Inriktning",options:r.map(f=>({name:f.name,code:f.code})),selected:t.orientation?.code??null,onSelect:f=>{const p=r.find(m=>m.code===f);s("orientation",p??null)}}),t.program&&(!r.length||t.orientation)&&v.jsx(Zn,{title:"r",options:e.year.map((f,p)=>({name:`${p+1}`,code:`${p+1}`})),selected:t.year?`${t.year}`:null,onSelect:f=>s("year",Number(typeof f=="string"?f:f[0]))})]})}const h7="_content_ydhtb_5",p7="_onboardingContainer_ydhtb_23",m7="_hint_ydhtb_65",g7="_hintExtra_ydhtb_83",y7="_continueAction_ydhtb_163",v7="_resetAction_ydhtb_229",Ze={content:h7,onboardingContainer:p7,hint:m7,hintExtra:g7,continueAction:y7,resetAction:v7};function IA({hint:t,initialPrefs:e,onPrefsChange:n,onComplete:r}){const s=yn(),a=mt(Z=>Z.profile.profile)?.firstname??"",c=mt(Z=>Z.preferences),{data:d,isLoading:f,error:p}=Fb(),{data:m,isLoading:y,error:x}=O9(),{data:S,isLoading:w,error:C}=A9(),{mutate:k}=N9(),[_,A]=M.useState({educationLevel:e?.educationLevel||c.educationLevel||S?.userPreference?.educationLevel||"Gymnasiet",program:e?.program||c.program||S?.userPreference?.program||null,orientation:e?.orientation||c.orientation||S?.userPreference?.orientation||null,year:e?.year||c.year||S?.userPreference?.year||null}),[,N]=M.useState({saving:!1,saved:!1});M.useEffect(()=>{S?.userPreference&&A(Z=>({educationLevel:Z.educationLevel||S.userPreference.educationLevel||"Gymnasiet",program:Z.program||S.userPreference.program||null,orientation:Z.orientation||S.userPreference.orientation||null,year:Z.year||S.userPreference.year||null}))},[S]);const O=(Z,ce)=>{A(Ie=>{const Ae={...Ie,[Z]:ce,...Z==="program"?{orientation:null}:{}};return n?.(Ae),Ae})},j=M.useMemo(()=>{if(!_.program)return[];const Z=d?.find(ce=>`${ce.name} (${ce.code})`==`${_.program?.name} (${_.program?.code})`);return Z?.orientations?Z.orientations.map(ce=>({name:ce.name,code:ce.code,points:Number(ce.points)})):[]},[d,_.program]),P=BA(_.educationLevel,Z=>O("educationLevel",Array.isArray(Z)?Z[0]:Z),!1),D=!!(_.educationLevel&&_.program&&_.year&&(j.length===0||_.orientation)),H=()=>{N({saving:!0,saved:!1});const Z={educationLevel:_.educationLevel,program:_.program?{code:_.program.code,name:_.program.name}:null,orientation:_.orientation?{code:_.orientation.code,name:_.orientation.name,points:_.orientation.points}:null,year:_.year};k(Z,{onSuccess:()=>{s(mn(Z)),N({saving:!1,saved:!0}),setTimeout(()=>{N({saving:!1,saved:!1}),r?.()})},onError:()=>{N({saving:!1,saved:!1})}})},X=()=>{const Z={educationLevel:"Gymnasiet",program:null,orientation:null,year:null};A(Z),n?.(Z)};return w||f||y?v.jsx("p",{children:"Laddar..."}):C||p||x?v.jsxs("p",{children:["Ett fel intrffade: ",String(C||p||x)]}):v.jsx("div",{className:Ze.wrapper,children:v.jsx("div",{className:Ze.content,children:v.jsxs("div",{className:Ze.onboardingContainer,children:[v.jsxs("p",{className:Ze.hint,children:[v.jsx("strong",{children:"Del 1: Introduktion"}),v.jsx("br",{}),v.jsx("br",{}),"Hej och vlkommen ",a,"!"]}),v.jsx("p",{className:Ze.hint,children:t??v.jsxs(v.Fragment,{children:["Fr att ge dig en s anpassad upplevelse som mjligt ber vi dig att flja stegen fr att fylla i din studieprofil.",v.jsx("br",{}),v.jsx("br",{}),"Vi vet att det kan vara komplicerat med ett nytt digitalt verktyg men vi r hr fr att vgleda dig, steg fr steg. Att komma igng tar bara ngra minuter och gr Stegvis skrddarsytt fr dig.",v.jsx("br",{}),v.jsx("br",{}),"Till vnster kan du se en sammanfattning av din studieprofil som uppdateras vid varje val du gr.",v.jsx("br",{}),v.jsx("br",{}),"Det frsta vi behver veta om dig r vilket gymnasieprogram och rskurs du gr i.",v.jsx("br",{}),v.jsx("br",{}),"Du kan hitta ditt program via skrutan i programrutan  skriv programmets namn eller kod."]})}),v.jsxs("div",{className:Ze.hintExtra,style:{display:"flex",flexDirection:"column",gap:"4px"},children:[v.jsxs("p",{style:{textDecoration:_.program?"line-through":"none",display:"flex",gap:"6px"},children:[_.program?" Steg 1 -":" Steg 1 -"," Vlj ditt gymnasieprogram"]}),_.program&&j.length>0&&v.jsxs("p",{style:{textDecoration:_.orientation?"line-through":"none",display:"flex",gap:"6px"},children:[_.orientation?" Steg 2 -":" Steg 2 -"," Vlj din programinriktning"]}),_.program&&(_.orientation&&j.length>0||j.length===0)&&v.jsxs("p",{style:{textDecoration:_.year?"line-through":"none",display:"flex",gap:"6px"},children:[_.year?" Steg 3 -":" Steg 3 -"," Vlj aktuell rskurs"]}),D&&v.jsxs("div",{className:Ze.continueAction,onClick:H,style:{marginTop:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[_.year===1?"Del 1/2 av komma igng r klar! Klicka hr fr att fortstta":"Del 1/4 av komma igng r klar! Klicka hr fr att fortstta",v.jsx(ea,{size:25})]})]}),v.jsx("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"20px",marginBottom:"15px"},children:v.jsxs("button",{type:"button",className:Ze.resetAction,onClick:X,children:[v.jsx(ad,{size:16})," Rensa"]})}),m&&v.jsx(f7,{localPrefs:_,enums:m,programs:d??[],orientations:j,updateField:O,handleSelect:P})]})})})}function b7(){return v.jsx(v.Fragment,{children:v.jsx("div",{children:v.jsx(IA,{hint:""})})})}const fd="/notes";async function x7(t){try{return(await qe.post(`${fd}`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte lgga till note"):new Error("Kunde inte n servern")}}async function S7(t){try{return(await qe.get(`${fd}/filter`,{params:t})).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta notes"):new Error("Kunde inte n servern")}}async function w7(t){try{return(await qe.get(`${fd}/${t}`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta note"):new Error("Kunde inte n servern")}}async function C7(t){try{return(await qe.delete(`${fd}/${t}`)).data}catch(e){if(e.response)throw new Error(e.response.data?.message||"Kunde inte radera note")}throw new Error("Kunde inte n servern")}async function k7(t,e){try{return(await qe.put(`${fd}/${e}`,t)).data}catch(n){if(n.response)throw new Error(n.response.data?.message||"Kunde inte redigera note")}throw new Error("Kunde inte n servern")}async function T7(t,e){try{return(await qe.put(`/notes/${t}/optimize`,e)).data}catch(n){throw n.response?new Error(n.response.data?.message||"Kunde inte optimera anteckningen"):new Error("Kunde inte n servern")}}async function _7(t){try{return(await qe.post(`/quiz/note/${t}/generate`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte generera quiz fr anteckningen"):new Error("Kunde inte n servern")}}function E7(t){const e=t?Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==""&&r!==void 0)):void 0;return Gr({queryKey:["notes",e],queryFn:()=>S7(e)})}const M7="_buttonContainer_m6nfx_1",O7="_selected_m6nfx_45",A7="_roundCheckbox_m6nfx_53",N7="_subjectBanner_m6nfx_135",D7="_subjectCircle_m6nfx_161",R7="_notePreview_m6nfx_173",j7="_date_m6nfx_193",L7="_notesList_m6nfx_207",P7="_divider_m6nfx_225",z7="_headerTitle_m6nfx_255",B7="_notesListWrapper_m6nfx_283",I7="_iconButton_m6nfx_349",V7="_selectAllRow_m6nfx_379",Yt={buttonContainer:M7,selected:O7,roundCheckbox:A7,subjectBanner:N7,subjectCircle:D7,notePreview:R7,date:j7,notesList:L7,divider:P7,headerTitle:z7,notesListWrapper:B7,iconButton:I7,selectAllRow:V7};function U7(t){if(!t)return"-";const e=new Date(t),n=e.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}),r=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${n}, ${r}`}function H7(t){if(!t)return"";const r=new DOMParser().parseFromString(t,"text/html").body,s=[];r.childNodes.forEach(d=>{if(d.nodeType===Node.ELEMENT_NODE){const f=d;if(/H[1-6]/.test(f.tagName)){const p=f.textContent?.trim()||"";p&&s.push(`<strong>${p}</strong>`)}else{const p=f.textContent?.trim()||"";p&&s.push(p)}}else if(d.nodeType===Node.TEXT_NODE){const f=d.textContent?.trim()||"";f&&s.push(f)}});const o=s.join(" "),a=o.split(/\s+/);return a.length>10?a.slice(0,6).join(" ")+"":o}const _0={};function Fl(t){if(_0[t])return _0[t];let e=0;for(let c=0;c<t.length;c++)e=t.charCodeAt(c)+((e<<5)-e);let n=Math.abs(e)%400;(n>=0&&n<=20||n>=400&&n<=360)&&(n=(n+30)%360);const r=100+Math.abs(e)%100,s=30+Math.abs(e)%5,o=.3+Math.abs(e)%30/60,a=`hsla(${n}, ${r}%, ${s}%, ${o})`;return _0[t]=a,a}function $7({filter:t,selectedCategory:e,onSelectNote:n}){const{data:r,isLoading:s,error:o}=E7(t),[a,c]=M.useState(new Set),d=e||t?.subject||"Alla",f=S=>{const w=new Set(a);w.has(S)?w.delete(S):w.add(S),c(w)},p=()=>{r&&(a.size===r.length?c(new Set):c(new Set(r.map(S=>S.id))))},m=()=>{alert("Ta bort dessa IDs: "+Array.from(a).join(", ")),c(new Set)},y=()=>{alert("Flytta dessa IDs: "+Array.from(a).join(", "))};if(s)return v.jsx("p",{children:"Laddar anteckningar..."});if(o)return v.jsx("p",{className:Yt.error,children:o.message});const x=r&&a.size===r.length;return v.jsxs("div",{className:Yt.notesListWrapper,children:[v.jsx("h2",{className:Yt.headerTitle,children:d}),v.jsxs("div",{className:Yt.notesList,children:[r&&r.length>0&&v.jsxs("div",{className:`${Yt.buttonContainer} ${Yt.selectAllRow}`,children:[v.jsx("div",{children:v.jsx("input",{type:"checkbox",checked:x,onChange:p,className:Yt.roundCheckbox})}),v.jsx("div",{className:Yt.notePreview,children:v.jsx("strong",{children:"Markera alla"})}),v.jsx("div",{style:{display:"flex",gap:"8px"},children:a.size>0&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:m,className:Yt.iconButton,children:v.jsx(wV,{size:18})}),v.jsx("button",{onClick:y,className:Yt.iconButton,children:v.jsx(CI,{size:18})})]})})]}),r?.map((S,w)=>v.jsxs("div",{style:{width:"100%"},children:[v.jsxs("div",{className:`${Yt.buttonContainer} ${a.has(S.id)?Yt.selected:""}`,style:{cursor:n?"pointer":"default"},onClick:()=>n?.(S.id),children:[v.jsx("div",{onClick:C=>C.stopPropagation(),children:v.jsx("input",{type:"checkbox",checked:a.has(S.id),onChange:()=>f(S.id),className:Yt.roundCheckbox})}),v.jsx("div",{className:Yt.notePreview,dangerouslySetInnerHTML:{__html:H7(S.note)}}),v.jsx("p",{className:Yt.date,children:U7(S.dateTime)}),S.subject&&v.jsxs("div",{className:Yt.subjectBanner,children:[v.jsx("span",{className:Yt.subjectCircle,style:{backgroundColor:Fl(S.subject)}}),S.subject]})]}),w<r.length-0&&v.jsx("div",{className:Yt.divider})]},S.id))]})]})}const F7="_wrapper_okjnv_1",q7="_title_okjnv_21",Y7="_container_okjnv_39",G7="_button_okjnv_69",W7="_selected_okjnv_123",K7="_unselected_okjnv_143",Q7="_colorCircle_okjnv_167",To={wrapper:F7,title:q7,container:Y7,button:G7,selected:W7,unselected:K7,colorCircle:Q7};function zu({title:t,options:e,selected:n,onSelect:r,collapsed:s=!1}){const o=s?n?[n]:[]:e||[];return v.jsxs("div",{className:To.wrapper,children:[t&&v.jsx("h4",{className:To.title,children:t}),v.jsx("div",{className:To.container,children:o.map(a=>{const c=Fl(a),d=n===a,f=s?{maxWidth:"fit-content",border:"1px solid #ffffffff",backgroundColor:"rgba(255, 255, 255, 1)",color:"black",borderRadius:"50px",padding:"12px 24px",display:"inline-flex",alignItems:"center",gap:"0.5rem",cursor:"default",position:"absolute",left:"-20px",top:"-10px"}:{};return v.jsxs("button",{onClick:()=>!s&&r(a),className:`${To.button} ${d?To.selected:To.unselected}`,style:s?f:void 0,disabled:s,children:[v.jsx("span",{className:To.colorCircle,style:{backgroundColor:c}}),a]},a)})})]})}var E0={exports:{}},M0={};var C_;function X7(){if(C_)return M0;C_=1;var t=Rl();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function c(m,y){var x=y(),S=r({inst:{value:x,getSnapshot:y}}),w=S[0].inst,C=S[1];return o(function(){w.value=x,w.getSnapshot=y,d(w)&&C({inst:w})},[m,x,y]),s(function(){return d(w)&&C({inst:w}),m(function(){d(w)&&C({inst:w})})},[m]),a(x),x}function d(m){var y=m.getSnapshot;m=m.value;try{var x=y();return!n(m,x)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return M0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,M0}var k_;function VA(){return k_||(k_=1,E0.exports=X7()),E0.exports}var UA=VA();function tn(t){this.content=t}tn.prototype={constructor:tn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),o=r.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new tn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new tn(n)},addToStart:function(t,e){return new tn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new tn(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),o=r.find(t);return s.splice(o==-1?s.length:o,0,e,n),new tn(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=tn.from(t),t.size?new tn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=tn.from(t),t.size?new tn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=tn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};tn.from=function(t){if(t instanceof tn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new tn(e)};function HA(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),o=e.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let a=0;s.text[a]==o.text[a];a++)n++;return n}if(s.content.size||o.content.size){let a=HA(s.content,o.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function $A(t,e,n,r){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let a=t.child(--s),c=e.child(--o),d=a.nodeSize;if(a==c){n-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let f=0,p=Math.min(a.text.length,c.text.length);for(;f<p&&a.text[a.text.length-f-1]==c.text[c.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let f=$A(a.content,c.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class J{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,o){for(let a=0,c=0;c<n;a++){let d=this.content[a],f=c+d.nodeSize;if(f>e&&r(d,s+c,o||null,a)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let o="",a=!0;return this.nodesBetween(e,n,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(a?a=!1:o+=r),o+=f},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new J(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let o=0,a=0;a<n;o++){let c=this.content[o],d=a+c.nodeSize;d>e&&((a<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,n-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,n-a-1))),r.push(c),s+=c.nodeSize),a=d}return new J(r,s)}cutByIndex(e,n){return e==n?J.empty:e==0&&n==this.content.length?this:new J(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new J(s,o)}addToStart(e){return new J([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new J(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return HA(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return $A(this,e,n,r)}findIndex(e){if(e==0)return Qf(0,e);if(e==this.size)return Qf(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e?Qf(n+1,o):Qf(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return J.empty;let n,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new J(n||e,r)}static from(e){if(!e)return J.empty;if(e instanceof J)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new J([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const O0={index:0,offset:0};function Qf(t,e){return O0.index=t,O0.offset=e,O0}function tp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!tp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!tp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let nt=class Jv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&tp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Jv.none;if(e instanceof Jv)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};nt.none=[];class np extends Error{}class oe{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=qA(this.content,e+this.openStart,n);return r&&new oe(r,this.openStart,this.openEnd)}removeBetween(e,n){return new oe(FA(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return oe.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new oe(J.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new oe(e,r,s)}}oe.empty=new oe(J.empty,0,0);function FA(t,e,n){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:c}=t.findIndex(n);if(s==e||o.isText){if(c!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(FA(o.content,e-s-1,n-s-1)))}function qA(t,e,n,r){let{index:s,offset:o}=t.findIndex(e),a=t.maybeChild(s);if(o==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=qA(a.content,e-o-1,n,a);return c&&t.replaceChild(s,a.copy(c))}function J7(t,e,n){if(n.openStart>t.depth)throw new np("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new np("Inconsistent open depths");return YA(t,e,n,0)}function YA(t,e,n,r){let s=t.index(r),o=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=YA(t,e,n,r+1);return o.copy(o.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,c=a.content;return qo(a,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=Z7(n,t);return qo(o,WA(t,a,c,e,r))}else return qo(o,rp(t,e,r))}function GA(t,e){if(!e.type.compatibleContent(t.type))throw new np("Cannot join "+e.type.name+" onto "+t.type.name)}function Zv(t,e,n){let r=t.node(n);return GA(r,e.node(n)),r}function Fo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function fu(t,e,n,r){let s=(e||t).node(n),o=0,a=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Fo(t.nodeAfter,r),o++));for(let c=o;c<a;c++)Fo(s.child(c),r);e&&e.depth==n&&e.textOffset&&Fo(e.nodeBefore,r)}function qo(t,e){return t.type.checkContent(e),t.copy(e)}function WA(t,e,n,r,s){let o=t.depth>s&&Zv(t,e,s+1),a=r.depth>s&&Zv(n,r,s+1),c=[];return fu(null,t,s,c),o&&a&&e.index(s)==n.index(s)?(GA(o,a),Fo(qo(o,WA(t,e,n,r,s+1)),c)):(o&&Fo(qo(o,rp(t,e,s+1)),c),fu(e,n,s,c),a&&Fo(qo(a,rp(n,r,s+1)),c)),fu(r,null,s,c),new J(c)}function rp(t,e,n){let r=[];if(fu(null,t,n,r),t.depth>n){let s=Zv(t,e,n+1);Fo(qo(s,rp(t,e,n+1)),r)}return fu(e,null,n,r),new J(r)}function Z7(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(J.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Bu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return nt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!s||!o[a].isInSet(s.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new sp(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let a=e;;){let{index:c,offset:d}=a.content.findIndex(o),f=o-d;if(r.push(a,c,s+d),!f||(a=a.child(c),a.isText))break;o=f-1,s+=d+1}return new Bu(n,r,o)}static resolveCached(e,n){let r=T_.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else T_.set(e,r=new eq);let s=r.elts[r.i]=Bu.resolve(e,n);return r.i=(r.i+1)%tq,s}}class eq{constructor(){this.elts=[],this.i=0}}const tq=12,T_=new WeakMap;class sp{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const nq=Object.create(null);let Yi=class e1{constructor(e,n,r,s=nt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&tp(this.attrs,n||e.defaultAttrs||nq)&&nt.sameSet(this.marks,r||nt.none)}copy(e=null){return e==this.content?this:new e1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new e1(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return oe.empty;let s=this.resolve(e),o=this.resolve(n),a=r?0:s.sharedDepth(n),c=s.start(a),f=s.node(a).content.cut(s.pos-c,o.pos-c);return new oe(f,s.depth-a,o.depth-a)}replace(e,n,r){return J7(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Bu.resolveCached(this,e)}resolveNoCache(e){return Bu.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),KA(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=J.empty,s=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,o),c=a&&a.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=nt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!nt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=J.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,r);return o.type.checkAttrs(o.attrs),o}};Yi.prototype.text=void 0;class ip extends Yi{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):KA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ip(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ip(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function KA(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ra{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new rq(e,n);if(r.next==null)return ra.empty;let s=QA(r);r.next&&r.err("Unexpected trailing text");let o=uq(cq(s));return dq(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function o(a,c){let d=a.matchFragment(e,r);if(d&&(!n||d.validEnd))return J.from(c.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:p,next:m}=a.next[f];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=o(m,c.concat(p));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let a=[];for(let c=s;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:c,next:d}=o.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}ra.empty=new ra(!0);class rq{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function QA(t){let e=[];do e.push(sq(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function sq(t){let e=[];do e.push(iq(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function iq(t){let e=lq(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=oq(t,e);else break;return e}function __(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function oq(t,e){let n=__(t),r=n;return t.eat(",")&&(t.next!="}"?r=__(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function aq(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let o in n){let a=n[o];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function lq(t){if(t.eat("(")){let e=QA(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=aq(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function cq(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function r(a,c,d){let f={term:d,to:c};return e[a].push(f),f}function s(a,c){a.forEach(d=>d.to=c)}function o(a,c){if(a.type=="choice")return a.exprs.reduce((d,f)=>d.concat(o(f,c)),[]);if(a.type=="seq")for(let d=0;;d++){let f=o(a.exprs[d],c);if(d==a.exprs.length-1)return f;s(f,c=n())}else if(a.type=="star"){let d=n();return r(c,d),s(o(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=n();return s(o(a.expr,c),d),s(o(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(c)].concat(o(a.expr,c));if(a.type=="range"){let d=c;for(let f=0;f<a.min;f++){let p=n();s(o(a.expr,d),p),d=p}if(a.max==-1)s(o(a.expr,d),d);else for(let f=a.min;f<a.max;f++){let p=n();r(d,p),s(o(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function XA(t,e){return e-t}function E_(t,e){let n=[];return r(e),n.sort(XA);function r(s){let o=t[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let a=0;a<o.length;a++){let{term:c,to:d}=o[a];!c&&n.indexOf(d)==-1&&r(d)}}}function uq(t){let e=Object.create(null);return n(E_(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let p=0;p<s.length;p++)s[p][0]==c&&(f=s[p][1]);E_(t,d).forEach(p=>{f||s.push([c,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let o=e[r.join(",")]=new ra(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let c=s[a][1].sort(XA);o.next.push({type:s[a][0],next:e[c.join(",")]||n(c)})}return o}}function dq(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],o=!s.validEnd,a=[];for(let c=0;c<s.next.length;c++){let{type:d,next:f}=s.next[c];a.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function JA(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function ZA(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let o=t[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function eN(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function tN(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new hq(t,r,e[r]);return n}let M_=class nN{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=tN(e,r.attrs),this.defaultAttrs=JA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ra.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:ZA(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Yi(this,this.computeAttrs(e),J.from(n),nt.setFrom(r))}createChecked(e=null,n,r){return n=J.from(n),this.checkContent(n),new Yi(this,this.computeAttrs(e),n,nt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=J.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(J.empty,!0);return o?new Yi(this,e,n.append(o),nt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){eN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:nt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,a)=>r[o]=new nN(o,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function fq(t,e,n){let r=n.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class hq{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?fq(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class xm{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=tN(e,s.attrs),this.excluded=null;let o=JA(this.attrs);this.instance=o?new nt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new nt(this,ZA(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((o,a)=>r[o]=new xm(o,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){eN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class rN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=tn.from(e.nodes),n.marks=tn.from(e.marks||{}),this.nodes=M_.compile(this.spec.nodes,this),this.marks=xm.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],a=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=ra.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?O_(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:O_(this,a.split(" "))}this.nodeFromJSON=s=>Yi.fromJSON(this,s),this.markFromJSON=s=>nt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof M_){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new ip(r,r.defaultAttrs,e,nt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function O_(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],o=t.marks[s],a=o;if(o)n.push(o);else for(let c in t.marks){let d=t.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function pq(t){return t.tag!=null}function mq(t){return t.style!=null}let hu=class t1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(pq(s))this.tags.push(s);else if(mq(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new N_(this,n,!1);return r.addAll(e,nt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new N_(this,n,!0);return r.addAll(e,nt.none,n.from,n.to),oe.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(vq(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let a=this.styles[o],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(a.getAttrs){let d=a.getAttrs(n);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let o=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let c=n[a];if((c.priority==null?50:c.priority)<o)break}n.splice(a,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(a=>{r(a=D_(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(a=>{r(a=D_(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new t1(e,t1.schemaRules(e)))}};const sN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gq={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},iN={ol:!0,ul:!0},Iu=1,n1=2,pu=4;function A_(t,e,n){return e!=null?(e?Iu:0)|(e==="full"?n1:0):t&&t.whitespace=="pre"?Iu|n1:n&~pu}class Xf{constructor(e,n,r,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=nt.none,this.match=o||(a&pu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Iu)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=J.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!sN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class N_{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,a=A_(null,n.preserveWhitespace,0)|(r?pu:0);s?o=new Xf(s.type,s.attrs,nt.none,!0,n.topMatch||s.type.contentMatch,a):r?o=new Xf(null,null,nt.none,!0,null,a):o=new Xf(e.schema.topNodeType,null,nt.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,o=s.options&n1?"full":this.localPreserveWS||(s.options&Iu)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;iN.hasOwnProperty(a)&&this.parser.normalizeLists&&yq(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:gq.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(sN.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),f=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(o),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],a=r.getPropertyValue(o);if(a)for(let c=void 0;;){let d=this.parser.matchStyle(o,a,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,r,s){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,n.attrs||null,r,n.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,r,s){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];a!=c;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,n);this.findAtPoint(e,o)}findPlace(e,n,r){let s,o;for(let a=this.open,c=0;a>=0;a--){let d=this.nodes[a],f=d.findWrapping(e);if(f&&(!s||s.length>f.length+c)&&(s=f,o=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=nt.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):R_(c.type,e.type))&&(a=c.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,s)),o}enterInner(e,n,r,s=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=A_(e,o,a.options);a.options&pu&&a.content.length==0&&(c|=pu);let d=nt.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):R_(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new Xf(e,n,d,s,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Iu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),a=(c,d)=>{for(;c>=0;c--){let f=n[c];if(f==""){if(c==n.length-1||c==0)continue;for(;d>=o;d--)if(a(c-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function yq(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&iN.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function vq(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function D_(t){let e={};for(let n in t)e[n]=t[n];return e}function R_(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let o=[],a=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:p}=c.edge(d);if(f==e||o.indexOf(p)<0&&a(p))return!0}};if(a(s.contentMatch))return!0}}class ca{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=A0(n).createDocumentFragment());let s=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let c=0,d=0;for(;c<o.length&&d<a.marks.length;){let f=a.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(o[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<a.marks.length;){let f=a.marks[d++],p=this.serializeMark(f,a.isInline,n);p&&(o.push([f,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Eh(A0(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Eh(A0(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Eh(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ca(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=j_(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return j_(e.marks)}}function j_(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function A0(t){return t.document||window.document}const L_=new WeakMap;function bq(t){let e=L_.get(t);return e===void 0&&L_.set(t,e=xq(t)),e}function xq(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Eh(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=bq(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let c,d=n?t.createElementNS(n,s):t.createElement(s),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let y=m.indexOf(" ");y>0?d.setAttributeNS(m.slice(0,y),m.slice(y+1),f[m]):m=="style"&&d.style?d.style.cssText=f[m]:d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:x,contentDOM:S}=Eh(t,y,n,r);if(d.appendChild(x),S){if(c)throw new RangeError("Multiple content holes");c=S}}}return{dom:d,contentDOM:c}}const oN=65535,aN=Math.pow(2,16);function Sq(t,e){return t+e*aN}function P_(t){return t&oN}function wq(t){return(t-(t&oN))/aN}const lN=1,cN=2,Mh=4,uN=8;class r1{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&uN)>0}get deletedBefore(){return(this.delInfo&(lN|Mh))>0}get deletedAfter(){return(this.delInfo&(cN|Mh))>0}get deletedAcross(){return(this.delInfo&Mh)>0}}class Jn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Jn.empty)return Jn.empty}recover(e){let n=0,r=P_(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+wq(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[c+o],p=this.ranges[c+a],m=d+f;if(e<=m){let y=f?e==d?-1:e==m?1:n:n,x=d+s+(y<0?0:p);if(r)return x;let S=e==(n<0?d:m)?null:Sq(c/3,e-d),w=e==d?cN:e==m?lN:Mh;return(n<0?e!=d:e!=m)&&(w|=uN),new r1(x,w,S)}s+=p-f}return r?e+s:new r1(e+s,0,null)}touches(e,n){let r=0,s=P_(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+o],p=d+f;if(e<=p&&c==s*3)return!0;r+=this.ranges[c+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?o:0),d=a+(this.inverted?0:o),f=this.ranges[s+n],p=this.ranges[s+r];e(c,c+f,d,d+p),o+=p-f}}invert(){return new Jn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Jn.empty:new Jn(e<0?[0,-e,0]:[0,0,e])}}Jn.empty=new Jn([]);class Vu{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Vu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Vu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],c=a.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new r1(e,s,null)}}const N0=Object.create(null);class vn{getMap(){return Jn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=N0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in N0)throw new RangeError("Duplicate use of step JSON ID "+e);return N0[e]=n,n.prototype.jsonID=e,n}}class jt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new jt(e,null)}static fail(e){return new jt(null,e)}static fromReplace(e,n,r,s){try{return jt.ok(e.replace(n,r,s))}catch(o){if(o instanceof np)return jt.fail(o.message);throw o}}}function qb(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(qb(o.content,e,o))),o.isInline&&(o=e(o,n,s)),r.push(o)}return J.fromArray(r)}class Ui extends vn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new oe(qb(n.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return jt.fromReplace(e,this.from,this.to,o)}invert(){return new zr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ui(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ui&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ui(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ui(n.from,n.to,e.markFromJSON(n.mark))}}vn.jsonID("addMark",Ui);class zr extends vn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new oe(qb(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return jt.fromReplace(e,this.from,this.to,r)}invert(){return new Ui(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new zr(n.pos,r.pos,this.mark)}merge(e){return e instanceof zr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new zr(n.from,n.to,e.markFromJSON(n.mark))}}vn.jsonID("removeMark",zr);class Hi extends vn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return jt.fromReplace(e,this.pos,this.pos+1,new oe(J.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Hi(this.pos,n.marks[s]);return new Hi(this.pos,this.mark)}}return new sa(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Hi(n.pos,e.markFromJSON(n.mark))}}vn.jsonID("addNodeMark",Hi);class sa extends vn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return jt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return jt.fromReplace(e,this.pos,this.pos+1,new oe(J.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Hi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sa(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new sa(n.pos,e.markFromJSON(n.mark))}}vn.jsonID("removeNodeMark",sa);class Gt extends vn{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&s1(e,this.from,this.to)?jt.fail("Structure replace would overwrite content"):jt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Jn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Gt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Gt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Gt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?oe.empty:new oe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Gt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?oe.empty:new oe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Gt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Gt(n.from,n.to,oe.fromJSON(e,n.slice),!!n.structure)}}vn.jsonID("replace",Gt);class Wt extends vn{constructor(e,n,r,s,o,a,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=a,this.structure=c}apply(e){if(this.structure&&(s1(e,this.from,this.gapFrom)||s1(e,this.gapTo,this.to)))return jt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return jt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?jt.fromReplace(e,this.from,this.to,r):jt.fail("Content does not fit in gap")}getMap(){return new Jn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Wt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new Wt(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Wt(n.from,n.to,n.gapFrom,n.gapTo,oe.fromJSON(e,n.slice),n.insert,!!n.structure)}}vn.jsonID("replaceAround",Wt);function s1(t,e,n){let r=t.resolve(e),s=n-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function Cq(t,e,n,r){let s=[],o=[],a,c;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(f,e),x=Math.min(f+d.nodeSize,n),S=r.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(S)||(a&&a.to==y&&a.mark.eq(m[w])?a.to=x:s.push(a=new zr(y,x,m[w])));c&&c.to==y?c.to=x:o.push(c=new Ui(y,x,r))}}),s.forEach(d=>t.step(d)),o.forEach(d=>t.step(d))}function kq(t,e,n,r){let s=[],o=0;t.doc.nodesBetween(e,n,(a,c)=>{if(!a.isInline)return;o++;let d=null;if(r instanceof xm){let f=a.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let f=Math.min(c+a.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],y;for(let x=0;x<s.length;x++){let S=s[x];S.step==o-1&&m.eq(s[x].style)&&(y=S)}y?(y.to=f,y.step=o):s.push({style:m,from:Math.max(c,e),to:f,step:o})}}}),s.forEach(a=>t.step(new zr(a.from,a.to,a.style)))}function Yb(t,e,n,r=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),a=[],c=e+1;for(let d=0;d<o.childCount;d++){let f=o.child(d),p=c+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new Gt(c,p,oe.empty));else{r=m;for(let y=0;y<f.marks.length;y++)n.allowsMarkType(f.marks[y].type)||t.step(new zr(c,p,f.marks[y]));if(s&&f.isText&&n.whitespace!="pre"){let y,x=/\r?\n|\r/g,S;for(;y=x.exec(f.text);)S||(S=new oe(J.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new Gt(c+y.index,c+y.index+y[0].length,S))}}c=p}if(!r.validEnd){let d=r.fillBefore(J.empty,!0);t.replace(c,c,new oe(d,0,0))}for(let d=a.length-1;d>=0;d--)t.step(a[d])}function Tq(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ql(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),o=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(o,a,n))return r;if(r==0||s.type.spec.isolating||!Tq(s,o,a))break}return null}function _q(t,e,n){let{$from:r,$to:s,depth:o}=e,a=r.before(o+1),c=s.after(o+1),d=a,f=c,p=J.empty,m=0;for(let S=o,w=!1;S>n;S--)w||r.index(S)>0?(w=!0,p=J.from(r.node(S).copy(p)),m++):d--;let y=J.empty,x=0;for(let S=o,w=!1;S>n;S--)w||s.after(S+1)<s.end(S)?(w=!0,y=J.from(s.node(S).copy(y)),x++):f++;t.step(new Wt(d,f,a,c,new oe(p.append(y),m,x),p.size-m,!0))}function Gb(t,e,n=null,r=t){let s=Eq(t,e),o=s&&Mq(r,e);return o?s.map(z_).concat({type:e,attrs:n}).concat(o.map(z_)):null}function z_(t){return{type:t,attrs:null}}function Eq(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,s,a)?o:null}function Mq(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;d&&f<s;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:a}function Oq(t,e,n){let r=J.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let c=n[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=J.from(n[a].type.create(n[a].attrs,r))}let s=e.start,o=e.end;t.step(new Wt(s,o,s,o,new oe(r,0,0),n.length,!0))}function Aq(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(a,c)=>{let d=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,d)&&Nq(t.doc,t.mapping.slice(o).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!S?f=!1:!x&&S&&(f=!0)}f===!1&&fN(t,a,c,o),Yb(t,t.mapping.slice(o).map(c,1),r,void 0,f===null);let p=t.mapping.slice(o),m=p.map(c,1),y=p.map(c+a.nodeSize,1);return t.step(new Wt(m,y,m+1,y-1,new oe(J.from(r.create(d,null,a.marks)),0,0),1,!0)),f===!0&&dN(t,a,c,o),!1}})}function dN(t,e,n,r){e.forEach((s,o)=>{if(s.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(s.text);){let d=t.mapping.slice(r).map(n+1+o+a.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function fN(t,e,n,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+o);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Nq(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function Dq(t,e,n,r,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Wt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new oe(J.from(a),0,0),1,!0))}function Ws(t,e,n=1,r){let s=t.resolve(e),o=s.depth-n,a=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>o;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(y,m.childCount),S=r&&r[p+1];S&&(x=x.replaceChild(0,S.type.create(S.attrs)));let w=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!w.type.validContent(x))return!1}let c=s.indexAfter(o),d=r&&r[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function Rq(t,e,n=1,r){let s=t.doc.resolve(e),o=J.empty,a=J.empty;for(let c=s.depth,d=s.depth-n,f=n-1;c>d;c--,f--){o=J.from(s.node(c).copy(o));let p=r&&r[f];a=J.from(p?p.type.create(p.attrs,a):s.node(c).copy(a))}t.step(new Gt(e,e,new oe(o.append(a),n,n),!0))}function to(t,e){let n=t.resolve(e),r=n.index();return hN(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function jq(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),a=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function hN(t,e){return!!(t&&e&&!t.isLeaf&&jq(t,e))}function Sm(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let o,a,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(s+1),c++,a=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),a=r.node(s+1)),o&&!o.isTextblock&&hN(o,a)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Lq(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),a=o.node().type;if(s&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(s);p&&!m?r=!1:!p&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);fN(t,p.node(),p.before(),c)}a.inlineContent&&Yb(t,e+n-1,a,o.node().contentMatchAt(o.index()),r==null);let d=t.mapping.slice(c),f=d.map(e-n);if(t.step(new Gt(f,d.map(e+n,-1),oe.empty,!0)),r===!0){let p=t.doc.resolve(f);dN(t,p.node(),p.before(),t.steps.length)}return t}function Pq(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function pN(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(c>0?1:0),f=r.node(a),p=!1;if(o==1)p=f.canReplace(d,d,s);else{let m=f.contentMatchAt(d).findWrapping(s.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function wm(t,e,n=e,r=oe.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),o=t.resolve(n);return mN(s,o,r)?new Gt(e,n,r):new zq(s,o,r).fit()}function mN(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class zq{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=J.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=J.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,a=r.depth,c=s.depth;for(;a&&c&&o.childCount==1;)o=o.firstChild.content,a--,c--;let d=new oe(o,a,c);return e>-1?new Wt(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new Gt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=D0(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let a=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],p,m=null;if(n==1&&(a?f.matchType(a.type)||(m=f.fillBefore(J.from(a),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:m};if(n==2&&a&&(p=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=D0(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new oe(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=D0(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new oe(su(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new oe(su(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let w=0;w<o.length;w++)this.openFrontierNode(o[w]);let a=this.unplaced,c=r?r.content:a.content,d=a.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let w=0;w<s.childCount;w++)p.push(s.child(w));m=m.matchFragment(s)}let x=c.size+e-(a.content.size-a.openEnd);for(;f<c.childCount;){let w=c.child(f),C=m.matchType(w.type);if(!C)break;f++,(f>1||d==0||w.content.size)&&(m=C,p.push(gN(w.mark(y.allowedMarks(w.marks)),f==1?d:0,f==c.childCount?x:-1)))}let S=f==c.childCount;S||(x=-1),this.placed=iu(this.placed,n,J.from(p)),this.frontier[n].match=m,S&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,C=c;w<x;w++){let k=C.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),C=k.content}this.unplaced=S?e==0?oe.empty:new oe(su(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new oe(su(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!R0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=R0(e,n,s,r,o);if(a){for(let c=n-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],p=R0(e,c,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=iu(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=iu(this.placed,this.depth,J.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=iu(this.placed,this.frontier.length,n))}}function su(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(su(t.firstChild.content,e-1,n)))}function iu(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(iu(t.lastChild.content,e-1,n)))}function D0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function gN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,gN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(J.empty,!0)))),t.copy(r)}function R0(t,e,n,r,s){let o=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,a);return c&&!Bq(n,o.content,a)?c:null}function Bq(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Iq(t){return t.spec.defining||t.spec.definingForContent}function Vq(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(mN(s,o,r))return t.step(new Gt(e,n,r));let a=vN(s,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let c=-(s.depth+1);a.unshift(c);for(let y=s.depth,x=s.pos-1;y>0;y--,x--){let S=s.node(y).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;a.indexOf(y)>-1?c=y:s.before(y)==x&&a.splice(1,0,-y)}let d=a.indexOf(c),f=[],p=r.openStart;for(let y=r.content,x=0;;x++){let S=y.firstChild;if(f.push(S),x==r.openStart)break;y=S.content}for(let y=p-1;y>=0;y--){let x=f[y],S=Iq(x.type);if(S&&!x.sameMarkup(s.node(Math.abs(c)-1)))p=y;else if(S||!x.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let x=(y+p+1)%(r.openStart+1),S=f[x];if(S)for(let w=0;w<a.length;w++){let C=a[(w+d)%a.length],k=!0;C<0&&(k=!1,C=-C);let _=s.node(C-1),A=s.index(C-1);if(_.canReplaceWith(A,A,S.type,S.marks))return t.replace(s.before(C),k?o.after(C):n,new oe(yN(r.content,0,r.openStart,x),x,r.openEnd))}}let m=t.steps.length;for(let y=a.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let x=a[y];x<0||(e=s.before(x),n=o.after(x))}}function yN(t,e,n,r,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(yN(o.content,e+1,n,r,o)))}if(e>r){let o=s.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(J.empty,!0))}return t}function Uq(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=Pq(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new oe(J.from(r),0,0))}function Hq(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),o=vN(r,s);for(let a=0;a<o.length;a++){let c=o[a],d=a==o.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),s.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return t.delete(r.before(c),s.after(c))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function vN(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class xl extends vn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return jt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return jt.fromReplace(e,this.pos,this.pos+1,new oe(J.from(s),0,n.isLeaf?0:1))}getMap(){return Jn.empty}invert(e){return new xl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new xl(n.pos,n.attr,n.value)}}vn.jsonID("attr",xl);class Uu extends vn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return jt.ok(r)}getMap(){return Jn.empty}invert(e){return new Uu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Uu(n.attr,n.value)}}vn.jsonID("docAttr",Uu);let Tl=class extends Error{};Tl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Tl.prototype=Object.create(Error.prototype);Tl.prototype.constructor=Tl;Tl.prototype.name="TransformError";class bN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Vu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Tl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=oe.empty){let s=wm(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new oe(J.from(r),0,0))}delete(e,n){return this.replace(e,n,oe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Vq(this,e,n,r),this}replaceRangeWith(e,n,r){return Uq(this,e,n,r),this}deleteRange(e,n){return Hq(this,e,n),this}lift(e,n){return _q(this,e,n),this}join(e,n=1){return Lq(this,e,n),this}wrap(e,n){return Oq(this,e,n),this}setBlockType(e,n=e,r,s=null){return Aq(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return Dq(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new xl(e,n,r)),this}setDocAttribute(e,n){return this.step(new Uu(e,n)),this}addNodeMark(e,n){return this.step(new Hi(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof nt)n.isInSet(r.marks)&&this.step(new sa(e,n));else{let s=r.marks,o,a=[];for(;o=n.isInSet(s);)a.push(new sa(e,o)),s=o.removeFromSet(s);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,n=1,r){return Rq(this,e,n,r),this}addMark(e,n,r){return Cq(this,e,n,r),this}removeMark(e,n,r){return kq(this,e,n,r),this}clearIncompatible(e,n,r){return Yb(this,e,n,r),this}}const j0=Object.create(null);class Te{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new $q(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=oe.empty){let r=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:d,$to:f}=a[c],p=e.mapping.slice(o);e.replaceRange(p.map(d.pos),p.map(f.pos),c?oe.empty:n),c==0&&V_(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:a,$to:c}=s[o],d=e.mapping.slice(r),f=d.map(a.pos),p=d.map(c.pos);o?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),V_(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new xe(e):ol(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let a=n<0?ol(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):ol(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new er(e.node(0))}static atStart(e){return ol(e,e,0,0,1)||new er(e)}static atEnd(e){return ol(e,e,e.content.size,e.childCount,-1)||new er(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=j0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in j0)throw new RangeError("Duplicate use of selection JSON ID "+e);return j0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return xe.between(this.$anchor,this.$head).getBookmark()}}Te.prototype.visible=!0;class $q{constructor(e,n){this.$from=e,this.$to=n}}let B_=!1;function I_(t){!B_&&!t.parent.inlineContent&&(B_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class xe extends Te{constructor(e,n=e){I_(e),I_(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Te.near(r);let s=e.resolve(n.map(this.anchor));return new xe(s.parent.inlineContent?s:r,r)}replace(e,n=oe.empty){if(super.replace(e,n),n==oe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof xe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Cm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=Te.findFrom(n,r,!0)||Te.findFrom(n,-r,!0);if(o)n=o.$head;else return Te.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Te.findFrom(e,-r,!0)||Te.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new xe(e,n)}}Te.jsonID("text",xe);class Cm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Cm(e.map(this.anchor),e.map(this.head))}resolve(e){return xe.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Te{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return r?Te.near(o):new pe(o)}content(){return new oe(J.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Wb(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Te.jsonID("node",pe);class Wb{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Cm(r,r):new Wb(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&pe.isSelectable(r)?new pe(n):Te.near(n)}}class er extends Te{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=oe.empty){if(n==oe.empty){e.delete(0,e.doc.content.size);let r=Te.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new er(e)}map(e){return new er(e)}eq(e){return e instanceof er}getBookmark(){return Fq}}Te.jsonID("all",er);const Fq={map(){return this},resolve(t){return new er(t)}};function ol(t,e,n,r,s,o=!1){if(e.inlineContent)return xe.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let c=e.child(a);if(c.isAtom){if(!o&&pe.isSelectable(c))return pe.create(t,n-(s<0?c.nodeSize:0))}else{let d=ol(t,c,n+s,s<0?c.childCount:0,s,o);if(d)return d}n+=c.nodeSize*s}return null}function V_(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Gt||s instanceof Wt))return;let o=t.mapping.maps[r],a;o.forEach((c,d,f,p)=>{a==null&&(a=p)}),t.setSelection(Te.near(t.doc.resolve(a),n))}const U_=1,Jf=2,H_=4;class qq extends bN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|U_)&~Jf,this.storedMarks=null,this}get selectionSet(){return(this.updated&U_)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Jf,this}ensureMarks(e){return nt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Jf)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Jf,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||nt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,o)),this.selection.empty||this.setSelection(Te.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=H_,this}get scrolledIntoView(){return(this.updated&H_)>0}}function $_(t,e){return!e||!t?t:t.bind(e)}class ou{constructor(e,n,r){this.name=e,this.init=$_(n.init,r),this.apply=$_(n.apply,r)}}const Yq=[new ou("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ou("selection",{init(t,e){return t.selection||Te.atStart(e.doc)},apply(t){return t.selection}}),new ou("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ou("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class L0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Yq.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ou(r.key,r.spec.state,r))})}}class dl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let d=s?s[a].n:0,f=s?s[a].state:this,p=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}s&&(s[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new dl(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new qq(this)}static create(e){let n=new L0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new dl(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new L0(this.schema,e.plugins),r=n.fields,s=new dl(n);for(let o=0;o<r.length;o++){let a=r[o].name;s[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new L0(e.schema,e.plugins),o=new dl(s);return s.fields.forEach(a=>{if(a.name=="doc")o.doc=Yi.fromJSON(e.schema,n.doc);else if(a.name=="selection")o.selection=Te.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[a.name]=f.fromJSON.call(d,e,n[c],o);return}}o[a.name]=a.init(e,o)}}),o}}function xN(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=xN(s,e,{})),n[r]=s}return n}class _t{constructor(e){this.spec=e,this.props={},e.props&&xN(e.props,this,this.props),this.key=e.key?e.key.key:SN("plugin")}getState(e){return e[this.key]}}const P0=Object.create(null);function SN(t){return t in P0?t+"$"+ ++P0[t]:(P0[t]=0,t+"$")}class Qt{constructor(e="key"){this.key=SN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Kb=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function wN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const CN=(t,e,n)=>{let r=wN(t,n);if(!r)return!1;let s=Qb(r);if(!s){let a=r.blockRange(),c=a&&ql(a);return c==null?!1:(e&&e(t.tr.lift(a,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(DN(t,s,e,-1))return!0;if(r.parent.content.size==0&&(_l(o,"end")||pe.isSelectable(o)))for(let a=r.depth;;a--){let c=wm(t.doc,r.before(a),r.after(a),oe.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(_l(o,"end")?Te.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):pe.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},Gq=(t,e,n)=>{let r=wN(t,n);if(!r)return!1;let s=Qb(r);return s?kN(t,s,e):!1},Wq=(t,e,n)=>{let r=_N(t,n);if(!r)return!1;let s=Xb(r);return s?kN(t,s,e):!1};function kN(t,e,n){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let a=e.nodeAfter,c=a,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let f=wm(t.doc,o,d,oe.empty);if(!f||f.from!=o||f instanceof Gt&&f.slice.size>=d-o)return!1;if(n){let p=t.tr.step(f);p.setSelection(xe.create(p.doc,o)),n(p.scrollIntoView())}return!0}function _l(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const TN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Qb(r)}let a=o&&o.nodeBefore;return!a||!pe.isSelectable(a)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function Qb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function _N(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const EN=(t,e,n)=>{let r=_N(t,n);if(!r)return!1;let s=Xb(r);if(!s)return!1;let o=s.nodeAfter;if(DN(t,s,e,1))return!0;if(r.parent.content.size==0&&(_l(o,"start")||pe.isSelectable(o))){let a=wm(t.doc,r.before(),r.after(),oe.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(_l(o,"start")?Te.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):pe.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},MN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Xb(r)}let a=o&&o.nodeAfter;return!a||!pe.isSelectable(a)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos)).scrollIntoView()),!0)};function Xb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Kq=(t,e)=>{let n=t.selection,r=n instanceof pe,s;if(r){if(n.node.isTextblock||!to(t.doc,n.from))return!1;s=n.from}else if(s=Sm(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);r&&o.setSelection(pe.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},Qq=(t,e)=>{let n=t.selection,r;if(n instanceof pe){if(n.node.isTextblock||!to(t.doc,n.to))return!1;r=n.to}else if(r=Sm(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Xq=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),o=s&&ql(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},ON=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Jb(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Jq=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),a=Jb(s.contentMatchAt(o));if(!a||!s.canReplaceWith(o,o,a))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,a.createAndFill());d.setSelection(Te.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},AN=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof er||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=Jb(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=t.tr.insert(a,o.createAndFill());c.setSelection(xe.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},NN=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ws(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&ql(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function Zq(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!r.parentOffset||!Ws(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,c,d=!1,f=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){d=r.end(x)==r.pos+(r.depth-x),f=r.start(x)==r.pos-(r.depth-x),c=Jb(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),o.unshift(d&&c?{type:c}:null),a=x;break}else{if(x==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof xe||e.selection instanceof er)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Ws(p.doc,m,o.length,o);if(y||(o[0]=c?{type:c}:null,y=Ws(p.doc,m,o.length,o)),!y)return!1;if(p.split(m,o.length,o),!d&&f&&r.node(a).type!=c){let x=p.mapping.map(r.before(a)),S=p.doc.resolve(x);c&&r.node(a-1).canReplaceWith(S.index(),S.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(a)),c)}return n&&n(p.scrollIntoView()),!0}}const eY=Zq(),tY=(t,e)=>{let{$from:n,to:r}=t.selection,s,o=n.sharedDepth(r);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(pe.create(t.doc,s))),!0)};function nY(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||to(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function DN(t,e,n,r){let s=e.nodeBefore,o=e.nodeAfter,a,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&nY(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(a[0]||o.type).validEnd){if(n){let x=e.pos+o.nodeSize,S=J.empty;for(let k=a.length-1;k>=0;k--)S=J.from(a[k].create(null,S));S=J.from(s.copy(S));let w=t.tr.step(new Wt(e.pos-1,x,e.pos,x,new oe(S,1,0),a.length,!0)),C=w.doc.resolve(x+2*a.length);C.nodeAfter&&C.nodeAfter.type==s.type&&to(w.doc,C.pos)&&w.join(C.pos),n(w.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&d?null:Te.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&ql(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(f&&_l(o,"start",!0)&&_l(s,"end")){let x=s,S=[];for(;S.push(x),!x.isTextblock;)x=x.lastChild;let w=o,C=1;for(;!w.isTextblock;w=w.firstChild)C++;if(x.canReplace(x.childCount,x.childCount,w.content)){if(n){let k=J.empty;for(let A=S.length-1;A>=0;A--)k=J.from(S[A].copy(k));let _=t.tr.step(new Wt(e.pos-S.length,e.pos+o.nodeSize,e.pos+C,e.pos+o.nodeSize-C,new oe(k,S.length,0),0,!0));n(_.scrollIntoView())}return!0}}return!1}function RN(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(xe.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const rY=RN(-1),sY=RN(1);function iY(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o),c=a&&Gb(a,t,e);return c?(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0):!1}}function F_(t,e=null){return function(n,r){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(a,c,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[a];o.setBlockType(c,d,t,e)}r(o.scrollIntoView())}return!0}}function Zb(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}Zb(Kb,CN,TN);Zb(Kb,EN,MN);Zb(ON,AN,NN,eY);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function oY(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o);if(!a)return!1;let c=r?n.tr:null;return aY(c,a,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function aY(t,e,n,r=null){let s=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);o=new sp(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new sp(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Gb(o,n,r,e);return c?(t&&lY(t,e,c,s,n),!0):!1}function lY(t,e,n,r,s){let o=J.empty;for(let p=n.length-1;p>=0;p--)o=J.from(n[p].type.create(n[p].attrs,o));t.step(new Wt(e.start-(r?2:0),e.end,e.start,e.end,new oe(o,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==s&&(a=p+1);let c=n.length-a,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Ws(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=f.child(p).nodeSize;return t}function cY(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?uY(e,n,t,o):dY(e,n,o):!0:!1}}function uY(t,e,n,r){let s=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(s.step(new Wt(o-1,a,o,a,new oe(J.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new sp(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=ql(r);if(c==null)return!1;s.lift(r,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return to(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function dY(t,e,n){let r=t.tr,s=n.parent;for(let x=n.end,S=n.endIndex-1,w=n.startIndex;S>w;S--)x-=s.child(S).nodeSize,r.delete(x-1,x+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==s.childCount,f=o.node(-1),p=o.index(-1);if(!f.canReplace(p+(c?0:1),p+1,a.content.append(d?J.empty:J.from(s))))return!1;let m=o.pos,y=m+a.nodeSize;return r.step(new Wt(m-(c?1:0),y+(d?1:0),m+1,y-1,new oe((c?J.empty:J.from(s.copy(J.empty))).append(d?J.empty:J.from(s.copy(J.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function fY(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let c=o.parent,d=c.child(a-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==c.type,p=J.from(f?t.create():null),m=new oe(J.from(t.create(null,J.from(c.type.create(null,p)))),f?3:1,0),y=o.start,x=o.end;n(e.tr.step(new Wt(y-(f?3:1),x,y,x,m,1,!0)).scrollIntoView())}return!0}}const sn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},El=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let i1=null;const Vs=function(t,e,n){let r=i1||(i1=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},hY=function(){i1=null},ia=function(t,e,n,r){return n&&(q_(t,e,n,r,-1)||q_(t,e,n,r,1))},pY=/^(img|br|input|textarea|hr)$/i;function q_(t,e,n,r,s){for(var o;;){if(t==n&&e==r)return!0;if(e==(s<0?0:wr(t))){let a=t.parentNode;if(!a||a.nodeType!=1||hd(t)||pY.test(t.nodeName)||t.contentEditable=="false")return!1;e=sn(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?wr(t):0}else return!1}}function wr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function mY(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=wr(t)}else if(t.parentNode&&!hd(t))e=sn(t),t=t.parentNode;else return null}}function gY(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!hd(t))e=sn(t)+1,t=t.parentNode;else return null}}function yY(t,e,n){for(let r=e==0,s=e==wr(t);r||s;){if(t==n)return!0;let o=sn(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,s=s&&o==wr(t)}}function hd(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const km=function(t){return t.focusNode&&ia(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Do(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function vY(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function bY(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(wr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(wr(r.startContainer),r.startOffset)}}}const fs=typeof navigator<"u"?navigator:null,Y_=typeof document<"u"?document:null,no=fs&&fs.userAgent||"",o1=/Edge\/(\d+)/.exec(no),jN=/MSIE \d/.exec(no),a1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(no),Vn=!!(jN||a1||o1),Gi=jN?document.documentMode:a1?+a1[1]:o1?+o1[1]:0,Ur=!Vn&&/gecko\/(\d+)/i.test(no);Ur&&+(/Firefox\/(\d+)/.exec(no)||[0,0])[1];const l1=!Vn&&/Chrome\/(\d+)/.exec(no),hn=!!l1,LN=l1?+l1[1]:0,Tn=!Vn&&!!fs&&/Apple Computer/.test(fs.vendor),Ml=Tn&&(/Mobile\/\w+/.test(no)||!!fs&&fs.maxTouchPoints>2),xr=Ml||(fs?/Mac/.test(fs.platform):!1),xY=fs?/Win/.test(fs.platform):!1,$s=/Android \d/.test(no),pd=!!Y_&&"webkitFontSmoothing"in Y_.documentElement.style,SY=pd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function wY(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function js(t,e){return typeof t=="number"?t:t[e]}function CY(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function G_(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=El(a);continue}let c=a,d=c==o.body,f=d?wY(o):CY(c),p=0,m=0;if(e.top<f.top+js(r,"top")?m=-(f.top-e.top+js(s,"top")):e.bottom>f.bottom-js(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+js(s,"top")-f.top:e.bottom-f.bottom+js(s,"bottom")),e.left<f.left+js(r,"left")?p=-(f.left-e.left+js(s,"left")):e.right>f.right-js(r,"right")&&(p=e.right-f.right+js(s,"right")),p||m)if(d)o.defaultView.scrollBy(p,m);else{let x=c.scrollLeft,S=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let w=c.scrollLeft-x,C=c.scrollTop-S;e={left:e.left-w,top:e.top-C,right:e.right-w,bottom:e.bottom-C}}let y=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(y))break;a=y=="absolute"?a.offsetParent:El(a)}}function kY(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=t.root.elementFromPoint(o,a);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){r=c,s=d.top;break}}return{refDOM:r,refTop:s,stack:PN(t.dom)}}function PN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=El(r));return e}function TY({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;zN(n,r==0?0:r-e)}function zN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:o}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Xa=null;function _Y(t){if(t.setActive)return t.setActive();if(Xa)return t.focus(Xa);let e=PN(t);t.focus(Xa==null?{get preventScroll(){return Xa={preventScroll:!0},!0}}:void 0),Xa||(Xa=!1,zN(e,0))}function BN(t,e){let n,r=2e8,s,o=0,a=e.top,c=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Vs(p).getClientRects();else continue;for(let x=0;x<y.length;x++){let S=y[x];if(S.top<=a&&S.bottom>=c){a=Math.max(S.bottom,a),c=Math.min(S.top,c);let w=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(w<r){n=p,r=w,s=w&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,p.nodeType==1&&w&&(o=m+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=p,f={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(o=m+1)}}return!n&&d&&(n=d,s=f,r=0),n&&n.nodeType==3?EY(n,s):!n||r&&n.nodeType==1?{node:t,offset:o}:BN(n,s)}function EY(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=Di(r,1);if(o.top!=o.bottom&&ex(e,o))return{node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function ex(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function MY(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function OY(t,e,n){let{node:r,offset:s}=BN(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,o)}function AY(t,e,n,r){let s=-1;for(let o=e,a=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!a&&d.left>r.left||d.top>r.top?s=c.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(s=c.posAfter),a=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function IN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let a=t.childNodes[o];if(a.nodeType==1){let c=a.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(ex(e,f))return IN(a,e,f)}}if((o=(o+1)%r)==s)break}return t}function NY(t,e){let n=t.dom.ownerDocument,r,s=0,o=bY(n,e.left,e.top);o&&({node:r,offset:s}=o);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!ex(e,f)||(a=IN(t.dom,e,f),!a))return null}if(Tn)for(let f=a;r&&f;f=El(f))f.draggable&&(r=void 0);if(a=MY(a,e),r){if(Ur&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;pd&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=AY(t,r,s,e))}c==null&&(c=OY(t,a,e));let d=t.docView.nearestDesc(a,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function W_(t){return t.top<t.bottom||t.left<t.right}function Di(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(W_(r))return r}return Array.prototype.find.call(n,W_)||t.getBoundingClientRect()}const DY=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function VN(t,e,n){let{node:r,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=pd||Ur;if(r.nodeType==3)if(a&&(DY.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let d=Di(Vs(r,s,s),n);if(Ur&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let f=Di(Vs(r,s-1,s-1),-1);if(f.top==d.top){let p=Di(Vs(r,s,s+1),-1);if(p.top!=d.top)return eu(p,p.left<f.left)}}return d}else{let d=s,f=s,p=n<0?1:-1;return n<0&&!s?(f++,p=-1):n>=0&&s==r.nodeValue.length?(d--,p=1):n<0?d--:f++,eu(Di(Vs(r,d,f),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==wr(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return z0(d.getBoundingClientRect(),!1)}if(o==null&&s<wr(r)){let d=r.childNodes[s];if(d.nodeType==1)return z0(d.getBoundingClientRect(),!0)}return z0(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==wr(r))){let d=r.childNodes[s-1],f=d.nodeType==3?Vs(d,wr(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return eu(Di(f,1),!1)}if(o==null&&s<wr(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?Vs(d,0,a?0:1):d.nodeType==1?d:null:null;if(f)return eu(Di(f,-1),!0)}return eu(Di(r.nodeType==3?Vs(r):r,-n),n>=0)}function eu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function z0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function UN(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function RY(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return UN(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let a=VN(t,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Vs(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const jY=/[\u0590-\u08ac]/;function LY(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,a=s==r.parent.content.size,c=t.domSelection();return c?!jY.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:a:UN(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:S,focusOffset:w}=t.domSelectionRange(),C=S&&!x.contains(S.nodeType==1?S:S.parentNode)||d==S&&f==w;try{c.collapse(p,m),d&&(d!=p||f!=m)&&c.extend&&c.extend(d,f)}catch{}return y!=null&&(c.caretBidiLevel=y),C}):r.pos==r.start()||r.pos==r.end()}let K_=null,Q_=null,X_=!1;function PY(t,e,n){return K_==e&&Q_==n?X_:(K_=e,Q_=n,X_=n=="up"||n=="down"?RY(t,e,n):LY(t,e,n))}const kr=0,J_=1,Po=2,hs=3;class md{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=kr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>sn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let c=s.children[a];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],c=o+a.size;if(c>e||a instanceof $N){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof HN&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?sn(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?sn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let a=r,c=0;;c++){let d=this.children[c],f=a+d.size;if(s==-1&&e<=f){let p=a+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=a;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=sn(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(f>n||c==this.children.length-1)){n=f;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=sn(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let o=Math.min(e,n),a=Math.max(e,n);for(let x=0,S=0;x<this.children.length;x++){let w=this.children[x],C=S+w.size;if(o>S&&a<C)return w.setSelection(e-S-w.border,n-S-w.border,r,s);S=C}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Ur||Tn)&&e==n){let{node:x,offset:S}=c;if(x.nodeType==3){if(m=!!(S&&x.nodeValue[S-1]==`
`),m&&S==x.nodeValue.length)for(let w=x,C;w;w=w.parentNode){if(C=w.nextSibling){C.nodeName=="BR"&&(c=d={node:C.parentNode,offset:sn(C)+1});break}let k=w.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let w=x.childNodes[S-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Ur&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let x=p.focusNode.childNodes[p.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||m&&Tn)&&ia(c.node,c.offset,p.anchorNode,p.anchorOffset)&&ia(d.node,d.offset,p.focusNode,p.focusOffset))return;let y=!1;if((f.extend||e==n)&&!m){f.collapse(c.node,c.offset);try{e!=n&&f.extend(d.node,d.offset),y=!0}catch{}}if(!y){if(e>n){let S=c;c=d,d=S}let x=document.createRange();x.setEnd(d.node,d.offset),x.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],a=r+o.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let c=r+o.border,d=a-o.border;if(e>=c&&n<=d){this.dirty=e==r||n==a?Po:J_,e==c&&n==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=hs:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Po:hs}r=a}this.dirty=Po}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Po:J_;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class HN extends md{constructor(e,n,r,s){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==kr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class zY extends md{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class oa extends md{constructor(e,n,r,s,o){super(e,[],r,s),this.mark=n,this.spec=o}static create(e,n,r,s){let o=s.nodeViews[n.type.name],a=o&&o(n,s,r);return(!a||!a.dom)&&(a=ca.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new oa(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&hs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hs&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=kr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=kr}}slice(e,n,r){let s=oa.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=u1(o,n,a,r)),e>0&&(o=u1(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Wi extends md{constructor(e,n,r,s,o,a,c,d,f){super(e,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,n,r,s,o,a){let c=o.nodeViews[n.type.name],d,f=c&&c(n,o,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=ca.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=YN(p,r,n),f?d=new BY(e,n,r,s,p,m||null,y,f,o,a+1):n.isText?new Tm(e,n,r,s,p,y,o):new Wi(e,n,r,s,p,m||null,y,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>J.empty)}return e}matchesNode(e,n,r){return this.dirty==kr&&e.eq(this.node)&&op(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,a=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new VY(this,a&&a.node,e);$Y(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?nt.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,s)},(f,p,m,y)=>{d.syncToMarks(f.marks,r,e);let x;d.findNodeMatch(f,p,m,y)||c&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(x=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(f,p,m,x,e)||d.updateNextNode(f,p,m,e,y,s)||d.addNode(f,p,m,e,s),s+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Po)&&(a&&this.protectLocalComposition(e,a),FN(this.contentDOM,this.children,e),Ml&&FY(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof xe)||r<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,c=qY(this.node.content,a,r-n,s-n);return c<0?null:{node:o,pos:c,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new zY(this,o,n,s);e.input.compositionNodes.push(a),this.children=u1(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==hs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=kr}updateOuterDeco(e){if(op(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=qN(this.dom,this.nodeDOM,c1(this.outerDeco,this.node,n),c1(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Z_(t,e,n,r,s){YN(r,e,t);let o=new Wi(void 0,t,e,n,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class Tm extends Wi{constructor(e,n,r,s,o,a,c){super(e,n,r,s,o,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==hs||this.dirty!=kr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=kr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=kr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new Tm(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=hs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class $N extends md{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class BY extends Wi{constructor(e,n,r,s,o,a,c,d,f,p){super(e,n,r,s,o,a,c,f,p),this.spec=d}update(e,n,r,s){if(this.dirty==hs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function FN(t,e,n){let r=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let a=e[o],c=a.dom;if(c.parentNode==t){for(;c!=r;)r=eE(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(c,r);if(a instanceof oa){let d=r?r.previousSibling:t.lastChild;FN(a.contentDOM,a.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=eE(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const mu=function(t){t&&(this.nodeName=t)};mu.prototype=Object.create(null);const zo=[new mu];function c1(t,e,n){if(t.length==0)return zo;let r=n?zo[0]:new mu,s=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&s.push(r=new mu(a.nodeName));for(let c in a){let d=a[c];d!=null&&(n&&s.length==1&&s.push(r=new mu(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return s}function qN(t,e,n,r){if(n==zo&&r==zo)return e;let s=e;for(let o=0;o<r.length;o++){let a=r[o],c=n[o];if(o){let d;c&&c.nodeName==a.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=zo[0]),s=d}IY(s,c||zo[0],a)}return s}function IY(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function YN(t,e,n){return qN(t,t,zo,c1(e,n,t.nodeType!=1))}function op(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function eE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class VY{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=UY(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=kr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[o])&&!this.isLocked(f.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=oa.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,s){let o=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))o=this.top.children.indexOf(a,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,s,o){let a=this.top.children[s];return a.dirty==hs&&a.dom==a.contentDOM&&(a.dirty=Po),a.update(e,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,o,a){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Wi){let f=this.preMatch.matched.get(d);if(f!=null&&f!=o)return!1;let p=d.dom,m,y=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=hs&&op(n,d.outerDeco));if(!y&&d.update(e,n,r,s))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(d,e,n,r,s,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Po,m.updateChildren(s,a+1),m.dirty=kr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,o,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!op(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Wi.create(this.top,n,r,s,o,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,r,s,o){let a=Wi.create(this.top,e,n,r,s,o);a.contentDOM&&a.updateChildren(s,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new HN(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof oa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Tm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Tn||hn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new $N(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function UY(t,e){let n=e,r=n.children.length,s=t.childCount,o=new Map,a=[];e:for(;s>0;){let c;for(;;)if(r){let f=n.children[r-1];if(f instanceof oa)n=f,r=f.children.length;else{c=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(s-1))break;--s,o.set(c,s),a.push(c)}}return{index:s,matched:o,matches:a.reverse()}}function HY(t,e){return t.type.side-e.type.side}function $Y(t,e,n,r){let s=e.locals(t),o=0;if(s.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,s,e.forChild(o,p),f),o+=p.nodeSize}return}let a=0,c=[],d=null;for(let f=0;;){let p,m;for(;a<s.length&&s[a].to==o;){let C=s[a++];C.widget&&(p?(m||(m=[p])).push(C):p=C)}if(p)if(m){m.sort(HY);for(let C=0;C<m.length;C++)n(m[C],f,!!d)}else n(p,f,!!d);let y,x;if(d)x=-1,y=d,d=null;else if(f<t.childCount)x=f,y=t.child(f++);else break;for(let C=0;C<c.length;C++)c[C].to<=o&&c.splice(C--,1);for(;a<s.length&&s[a].from<=o&&s[a].to>o;)c.push(s[a++]);let S=o+y.nodeSize;if(y.isText){let C=S;a<s.length&&s[a].from<C&&(C=s[a].from);for(let k=0;k<c.length;k++)c[k].to<C&&(C=c[k].to);C<S&&(d=y.cut(C-o),y=y.cut(0,C-o),S=C,x=-1)}else for(;a<s.length&&s[a].to<S;)a++;let w=y.isInline&&!y.isLeaf?c.filter(C=>!C.inline):c.slice();r(y,w,e.forChild(o,y),x),o=S}}function FY(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function qY(t,e,n,r){for(let s=0,o=0;s<t.childCount&&o<=r;){let a=t.child(s++),c=o;if(o+=a.nodeSize,!a.isText)continue;let d=a.text;for(;s<t.childCount;){let f=t.child(s++);if(o+=f.nodeSize,!f.isText)break;d+=f.text}if(o>=n){if(o>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=n)return c+f;if(n==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function u1(t,e,n,r,s){let o=[];for(let a=0,c=0;a<t.length;a++){let d=t[a],f=c,p=c+=d.size;f>=n||p<=e?o.push(d):(f<e&&o.push(d.slice(0,e-f,r)),s&&(o.push(s),s=void 0),p>n&&o.push(d.slice(n-f,d.size,r)))}return o}function tx(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let c=r.resolve(a),d,f;if(km(n)){for(d=a;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&pe.isSelectable(m)&&s.parent&&!(m.isInline&&yY(n.focusNode,n.focusOffset,s.dom))){let y=s.posBefore;f=new pe(a==y?c:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,y=a;for(let x=0;x<n.rangeCount;x++){let S=n.getRangeAt(x);m=Math.min(m,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(m<0)return null;[d,a]=y==t.state.selection.anchor?[y,m]:[m,y],c=r.resolve(a)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;f=nx(t,p,c,m)}return f}function GN(t){return t.editable?t.hasFocus():KN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ks(t,e=!1){let n=t.state.selection;if(WN(t,n),!!GN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&hn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ia(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)GY(t);else{let{anchor:r,head:s}=n,o,a;tE&&!(n instanceof xe)&&(n.$from.parent.inlineContent||(o=nE(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=nE(t,n.to))),t.docView.setSelection(r,s,t,e),tE&&(o&&rE(o),a&&rE(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&YY(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const tE=Tn||hn&&LN<63;function nE(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Tn&&s&&s.contentEditable=="false")return B0(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return B0(s);if(o)return B0(o)}}function B0(t){return t.contentEditable="true",Tn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function rE(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function YY(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!GN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function GY(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,sn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Vn&&Gi<=11&&(r.disabled=!0,r.disabled=!1)}function WN(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(sE(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else sE(t)}function sE(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function nx(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||xe.between(e,n,r)}function iE(t){return t.editable&&!t.hasFocus()?!1:KN(t)}function KN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function WY(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ia(e.node,e.offset,n.anchorNode,n.anchorOffset)}function d1(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&Te.findFrom(o,e)}function ji(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function oE(t,e,n){let r=t.state.selection;if(r instanceof xe)if(n.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return ji(t,new xe(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=d1(t.state,e);return s&&s instanceof pe?ji(t,s):!1}else if(!(xr&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM?pe.isSelectable(o)?ji(t,new pe(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):pd?ji(t,new xe(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof pe&&r.node.isInline)return ji(t,new xe(e>0?r.$to:r.$from));{let s=d1(t.state,e);return s?ji(t,s):!1}}}function ap(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function gu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ja(t,e){return e<0?KY(t):QY(t)}function KY(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,o,a=!1;for(Ur&&n.nodeType==1&&r<ap(n)&&gu(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(gu(c,-1))s=n,o=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(QN(n))break;{let c=n.previousSibling;for(;c&&gu(c,-1);)s=n.parentNode,o=sn(c),c=c.previousSibling;if(c)n=c,r=ap(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?f1(t,n,r):s&&f1(t,s,o)}function QY(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=ap(n),o,a;for(;;)if(r<s){if(n.nodeType!=1)break;let c=n.childNodes[r];if(gu(c,1))o=n,a=++r;else break}else{if(QN(n))break;{let c=n.nextSibling;for(;c&&gu(c,1);)o=c.parentNode,a=sn(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=ap(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}o&&f1(t,o,a)}function QN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function XY(t,e){for(;t&&e==t.childNodes.length&&!hd(t);)e=sn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function JY(t,e){for(;t&&!e&&!hd(t);)e=sn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function f1(t,e,n){if(e.nodeType!=3){let o,a;(a=XY(e,n))?(e=a,n=0):(o=JY(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(km(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Ks(t)},50)}function aE(t,e){let n=t.state.doc.resolve(e);if(!(hn||xY)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function lE(t,e,n){let r=t.state.selection;if(r instanceof xe&&!r.empty||n.indexOf("s")>-1||xr&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=d1(t.state,e);if(a&&a instanceof pe)return ji(t,a)}if(!s.parent.inlineContent){let a=e<0?s:o,c=r instanceof er?Te.near(a,e):Te.findFrom(a,e);return c?ji(t,c):!1}return!1}function cE(t,e){if(!(t.state.selection instanceof xe))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),t.dispatch(a),!0}return!1}function uE(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ZY(t){if(!Tn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;uE(t,r,"true"),setTimeout(()=>uE(t,r,"false"),20)}return!1}function eG(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function tG(t,e){let n=e.keyCode,r=eG(e);if(n==8||xr&&n==72&&r=="c")return cE(t,-1)||Ja(t,-1);if(n==46&&!e.shiftKey||xr&&n==68&&r=="c")return cE(t,1)||Ja(t,1);if(n==13||n==27)return!0;if(n==37||xr&&n==66&&r=="c"){let s=n==37?aE(t,t.state.selection.from)=="ltr"?-1:1:-1;return oE(t,s,r)||Ja(t,s)}else if(n==39||xr&&n==70&&r=="c"){let s=n==39?aE(t,t.state.selection.from)=="ltr"?1:-1:1;return oE(t,s,r)||Ja(t,s)}else{if(n==38||xr&&n==80&&r=="c")return lE(t,-1,r)||Ja(t,-1);if(n==40||xr&&n==78&&r=="c")return ZY(t)||lE(t,1,r)||Ja(t,1);if(r==(xr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function rx(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=t.someProp("clipboardSerializer")||ca.fromSchema(t.state.schema),c=nD(),d=c.createElement("div");d.appendChild(a.serializeFragment(r,{document:c}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=tD[f.nodeName.toLowerCase()]);){for(let x=p.length-1;x>=0;x--){let S=c.createElement(p[x]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:y,slice:e}}function XN(t,e,n,r,s){let o=s.parent.type.spec.code,a,c;if(!n&&!e)return null;let d=e&&(r||o||!n);if(d){if(t.someProp("transformPastedText",y=>{e=y(e,o||r,t)}),o)return e?new oe(J.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):oe.empty;let m=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(m)c=m;else{let y=s.marks(),{schema:x}=t.state,S=ca.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let C=a.appendChild(document.createElement("p"));w&&C.appendChild(S.serializeNode(x.text(w,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=iG(n),pd&&oG(a);let f=a&&a.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||hu.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!nG.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=aG(dE(c,+p[1],+p[2]),p[4]);else if(c=oe.maxOpen(rG(c.content,s),!0),c.openStart||c.openEnd){let m=0,y=0;for(let x=c.content.firstChild;m<c.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=c.content.lastChild;y<c.openEnd&&!x.type.spec.isolating;y++,x=x.lastChild);c=dE(c,m,y)}return t.someProp("transformPasted",m=>{c=m(c,t)}),c}const nG=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rG(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(t.forEach(c=>{if(!a)return;let d=s.findWrapping(c.type),f;if(!d)return a=null;if(f=a.length&&o.length&&ZN(d,o,c,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=eD(a[a.length-1],o.length));let p=JN(c,d);a.push(p),s=s.matchType(p.type),o=d}}),a)return J.from(a)}return t}function JN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,J.from(t));return t}function ZN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=ZN(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(J.from(JN(n,t,s+1))))}}function eD(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,eD(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(J.empty,!0);return t.copy(n.append(r))}function h1(t,e,n,r,s,o){let a=e<0?t.firstChild:t.lastChild,c=a.content;return t.childCount>1&&(o=0),s<r-1&&(c=h1(c,e,n,r,s+1,o)),s>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(J.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function dE(t,e,n){return e<t.openStart&&(t=new oe(h1(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new oe(h1(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const tD={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let fE=null;function nD(){return fE||(fE=document.implementation.createHTMLDocument("title"))}let I0=null;function sG(t){let e=window.trustedTypes;return e?(I0||(I0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),I0.createHTML(t)):t}function iG(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=nD().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&tD[r[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=sG(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function oG(t){let e=t.querySelectorAll(hn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function aG(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:a}=t;for(let c=r.length-2;c>=0;c-=2){let d=n.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;s=J.from(d.create(r[c+1],s)),o++,a++}return new oe(s,o,a)}const _n={},En={},lG={touchstart:!0,touchmove:!0};class cG{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function uG(t){for(let e in _n){let n=_n[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{fG(t,r)&&!sx(t,r)&&(t.editable||!(r.type in En))&&n(t,r)},lG[e]?{passive:!0}:void 0)}Tn&&t.dom.addEventListener("input",()=>null),p1(t)}function $i(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function dG(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function p1(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>sx(t,r))})}function sx(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function fG(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function hG(t,e){!sx(t,e)&&_n[e.type]&&(t.editable||!(e.type in En))&&_n[e.type](t,e)}En.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!sD(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!($s&&hn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ml&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Do(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||tG(t,n)?n.preventDefault():$i(t,"key")};En.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};En.keypress=(t,e)=>{let n=e;if(sD(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||xr&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof xe)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function _m(t){return{left:t.clientX,top:t.clientY}}function pG(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function ix(t,e,n,r,s){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,c=>a>o.depth?c(t,n,o.nodeAfter,o.before(a),s,!0):c(t,n,o.node(a),o.before(a),s,!1)))return!0;return!1}function Sl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function mG(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&pe.isSelectable(r)?(Sl(t,new pe(n)),!0):!1}function gG(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof pe&&(r=n.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let c=a>o.depth?o.nodeAfter:o.node(a);if(pe.isSelectable(c)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(a);break}}return s!=null?(Sl(t,pe.create(t.state.doc,s)),!0):!1}function yG(t,e,n,r,s){return ix(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(s?gG(t,n):mG(t,n))}function vG(t,e,n,r){return ix(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function bG(t,e,n,r){return ix(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||xG(t,n,r)}function xG(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Sl(t,xe.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(a.inlineContent)Sl(t,xe.create(r,c+1,c+1+a.content.size));else if(pe.isSelectable(a))Sl(t,pe.create(r,c));else continue;return!0}}function ox(t){return lp(t)}const rD=xr?"metaKey":"ctrlKey";_n.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ox(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&pG(n,t.input.lastClick)&&!n[rD]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=t.posAtCoords(_m(n));a&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new SG(t,a,n,!!r)):(o=="doubleClick"?vG:bG)(t,a.pos,a.inside,n)?n.preventDefault():$i(t,"pointer"))};class SG{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[rD],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,a=p.depth?p.before():0}const c=s?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof pe&&f.from<=a&&f.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ur&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),$i(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ks(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_m(e))),this.updateAllowDefault(e),this.allowDefault||!n?$i(this.view,"pointer"):yG(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Tn&&this.mightDrag&&!this.mightDrag.node.isAtom||hn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Sl(this.view,Te.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):$i(this.view,"pointer")}move(e){this.updateAllowDefault(e),$i(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_n.touchstart=t=>{t.input.lastTouch=Date.now(),ox(t),$i(t,"pointer")};_n.touchmove=t=>{t.input.lastTouch=Date.now(),$i(t,"pointer")};_n.contextmenu=t=>ox(t);function sD(t,e){return t.composing?!0:Tn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const wG=$s?5e3:-1;En.compositionstart=En.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof xe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),lp(t,!0),t.markCursor=null;else if(lp(t,!e.selection.empty),Ur&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let a=o<0?s.lastChild:s.childNodes[o-1];if(!a)break;if(a.nodeType==3){let c=t.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else s=a,o=-1}}t.input.composing=!0}iD(t,wG)};En.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,iD(t,20))};function iD(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>lp(t),e))}function oD(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=kG());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function CG(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=mY(e.focusNode,e.focusOffset),r=gY(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function kG(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function lp(t,e=!1){if(!($s&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),oD(t),e||t.docView&&t.docView.dirty){let n=tx(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function TG(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Hu=Vn&&Gi<15||Ml&&SY<604;_n.copy=En.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let o=Hu?null:n.clipboardData,a=r.content(),{dom:c,text:d}=rx(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):TG(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _G(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function EG(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?$u(t,r.value,null,s,e):$u(t,r.textContent,r.innerHTML,s,e)},50)}function $u(t,e,n,r,s){let o=XN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,o||oe.empty)))return!0;if(!o)return!1;let a=_G(o),c=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function aD(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}En.paste=(t,e)=>{let n=e;if(t.composing&&!$s)return;let r=Hu?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&$u(t,aD(r),r.getData("text/html"),s,n)?n.preventDefault():EG(t,n)};class lD{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const MG=xr?"altKey":"ctrlKey";function cD(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[MG]}_n.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(_m(n)),a;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof pe?s.to-1:s.to))){if(r&&r.mightDrag)a=pe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=pe.create(t.state.doc,m.posBefore))}}let c=(a||t.state.selection).content(),{dom:d,text:f,slice:p}=rx(t,c);(!n.dataTransfer.files.length||!hn||LN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Hu?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Hu||n.dataTransfer.setData("text/plain",f),t.dragging=new lD(p,cD(t,n),a)};_n.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};En.dragover=En.dragenter=(t,e)=>e.preventDefault();En.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(_m(n));if(!s)return;let o=t.state.doc.resolve(s.pos),a=r&&r.slice;a?t.someProp("transformPasted",S=>{a=S(a,t)}):a=XN(t,aD(n.dataTransfer),Hu?null:n.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&cD(t,n));if(t.someProp("handleDrop",S=>S(t,n,a||oe.empty,c))){n.preventDefault();return}if(!a)return;n.preventDefault();let d=a?pN(t.state.doc,o.pos,a):o.pos;d==null&&(d=o.pos);let f=t.state.tr;if(c){let{node:S}=r;S?S.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(p,p,a.content.firstChild):f.replaceRange(p,p,a),f.doc.eq(y))return;let x=f.doc.resolve(p);if(m&&pe.isSelectable(a.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new pe(x));else{let S=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((w,C,k,_)=>S=_),f.setSelection(nx(t,x,f.doc.resolve(S)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};_n.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ks(t)},20))};_n.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_n.beforeinput=(t,e)=>{if(hn&&$s&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Do(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in En)_n[t]=En[t];function Fu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class cp{constructor(e,n){this.toDOM=e,this.spec=n||Yo,this.side=this.spec.side||0}map(e,n,r,s){let{pos:o,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new Cn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof cp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Fu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ki{constructor(e,n){this.attrs=e,this.spec=n||Yo}map(e,n,r,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new Cn(o,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ki&&Fu(this.attrs,e.attrs)&&Fu(this.spec,e.spec)}static is(e){return e.type instanceof Ki}destroy(){}}class ax{constructor(e,n){this.attrs=e,this.spec=n||Yo}map(e,n,r,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=o.pos?null:new Cn(o.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(r)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof ax&&Fu(this.attrs,e.attrs)&&Fu(this.spec,e.spec)}destroy(){}}class Cn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Cn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Cn(e,e,new cp(n,r))}static inline(e,n,r,s){return new Cn(e,n,new Ki(r,s))}static node(e,n,r,s){return new Cn(e,n,new ax(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ki}get widget(){return this.type instanceof cp}}const al=[],Yo={};class ht{constructor(e,n){this.local=e.length?e:al,this.children=n.length?n:al}static create(e,n){return n.length?up(n,e,0,Yo):dn}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,o){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,n-c,r,s+c,o)}}map(e,n,r){return this==dn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Yo)}mapInner(e,n,r,s,o){let a;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,s);d&&d.type.valid(n,d)?(a||(a=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?OG(this.children,a||[],e,n,r,s,o):a?new ht(a.sort(Go),al):dn}add(e,n){return n.length?this==dn?ht.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,o=0;e.forEach((c,d)=>{let f=d+r,p;if(p=dD(n,c,f)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,p,f+1):s.splice(o,0,d,d+c.nodeSize,up(p,c,f+1,Yo)),o+=3}});let a=uD(o?fD(n):n,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new ht(a.length?this.local.concat(a).sort(Go):this.local,s||this.children)}remove(e){return e.length==0||this==dn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let a,c=r[o]+n,d=r[o+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<d&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(a,c+1);f!=dn?r[o+2]=f:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let c=0;c<s.length;c++)s[c].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ht(s,r):dn}forChild(e,n){if(this==dn)return this;if(n.isLeaf)return ht.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,a=o+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<a&&d.to>o&&d.type instanceof Ki){let f=Math.max(o,d.from)-o,p=Math.min(a,d.to)-o;f<p&&(s||(s=[])).push(d.copy(f,p))}}if(s){let c=new ht(s.sort(Go),al);return r?new zi([c,r]):c}return r||dn}eq(e){if(this==e)return!0;if(!(e instanceof ht)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return lx(this.localsInner(e))}localsInner(e){if(this==dn)return al;if(e.inlineContent||!this.local.some(Ki.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ki||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ht.empty=new ht([],[]);ht.removeOverlap=lx;const dn=ht.empty;class zi{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Yo));return zi.from(r)}forChild(e,n){if(n.isLeaf)return ht.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=dn&&(o instanceof zi?r=r.concat(o.members):r.push(o))}return zi.from(r)}eq(e){if(!(e instanceof zi)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?lx(r?n:n.sort(Go)):al}static from(e){switch(e.length){case 0:return dn;case 1:return e[0];default:return new zi(e.every(n=>n instanceof ht)?e:e.reduce((n,r)=>n.concat(r instanceof ht?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function OG(t,e,n,r,s,o,a){let c=t.slice();for(let f=0,p=o;f<n.maps.length;f++){let m=0;n.maps[f].forEach((y,x,S,w)=>{let C=w-S-(x-y);for(let k=0;k<c.length;k+=3){let _=c[k+1];if(_<0||y>_+p-m)continue;let A=c[k]+p-m;x>=A?c[k+1]=y<=A?-2:-1:y>=p&&C&&(c[k]+=C,c[k+1]+=C)}m+=C}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let p=n.map(t[f]+o),m=p-s;if(m<0||m>=r.content.size){d=!0;continue}let y=n.map(t[f+1]+o,-1),x=y-s,{index:S,offset:w}=r.content.findIndex(m),C=r.maybeChild(S);if(C&&w==m&&w+C.nodeSize==x){let k=c[f+2].mapInner(n,C,p+1,t[f]+o+1,a);k!=dn?(c[f]=m,c[f+1]=x,c[f+2]=k):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=AG(c,t,e,n,s,o,a),p=up(f,r,0,a);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let x=p.children[m];for(;y<c.length&&c[y]<x;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new ht(e.sort(Go),c)}function uD(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Cn(s.from+e,s.to+e,s.type))}return n}function AG(t,e,n,r,s,o,a){function c(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,s,f);m?n.push(m):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+o+1);return n}function dD(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[o]=null);return s}function fD(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function up(t,e,n,r){let s=[],o=!1;e.forEach((c,d)=>{let f=dD(t,c,d+n);if(f){o=!0;let p=up(f,c,n+d+1,r);p!=dn&&s.push(d,d+c.nodeSize,p)}});let a=uD(o?fD(t):t,-n).sort(Go);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||s.length?new ht(a,s):dn}function Go(t,e){return t.from-e.from||t.to-e.to}function lx(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,r.to),hE(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),hE(e,s,r.copy(o.from,r.to)));break}}}return e}function hE(t,e,n){for(;e<t.length&&Go(n,t[e])>0;)e++;t.splice(e,0,n)}function V0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=dn&&e.push(r)}),t.cursorWrapper&&e.push(ht.create(t.state.doc,[t.cursorWrapper.deco])),zi.from(e)}const NG={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},DG=Vn&&Gi<=11;class RG{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class jG{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new RG,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Vn&&Gi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),DG&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,NG)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(iE(this.view)){if(this.suppressingSelectionUpdates)return Ks(this.view);if(Vn&&Gi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ia(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=El(o))n.add(o);for(let o=e.anchorNode;o;o=El(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&iE(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,c=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(o=o<0?m.from:Math.min(m.from,o),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(c=!0))}if(Ur&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let x=y.parentNode;x&&x.nodeName=="LI"&&(!m||zG(e,m)!=x)&&y.remove()}}}let f=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&km(r)&&(f=tx(e))&&f.eq(Te.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ks(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,a),LG(e)),this.handleDOMChange(o,a,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ks(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Vn&&Gi<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let a=s&&s.parentNode==e.target?sn(s)+1:0,c=r.localPosFromDOM(e.target,a,-1),d=o&&o.parentNode==e.target?sn(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let pE=new WeakMap,mE=!1;function LG(t){if(!pE.has(t)&&(pE.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ur,mE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),mE=!0}}function gE(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return ia(a.node,a.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}function PG(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return gE(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?gE(t,n):null}function zG(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function BG(t,e,n){let{node:r,fromOffset:s,toOffset:o,from:a,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],km(d)||f.push({node:d.focusNode,offset:d.focusOffset})),hn&&t.input.lastKeyCode===8)for(let C=o;C>s;C--){let k=r.childNodes[C-1],_=k.pmViewDesc;if(k.nodeName=="BR"&&!_){o=C;break}if(!_||_.size)break}let m=t.state.doc,y=t.someProp("domParser")||hu.fromSchema(t.state.schema),x=m.resolve(a),S=null,w=y.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:o,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:IG,context:x});if(f&&f[0].pos!=null){let C=f[0].pos,k=f[1]&&f[1].pos;k==null&&(k=C),S={anchor:C+a,head:k+a}}return{doc:w,sel:S,from:a,to:c}}function IG(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Tn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Tn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const VG=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function UG(t,e,n,r,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,H=tx(t,D);if(H&&!t.state.selection.eq(H)){if(hn&&$s&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Z=>Z(t,Do(13,"Enter"))))return;let X=t.state.tr.setSelection(H);D=="pointer"?X.setMeta("pointer",!0):D=="key"&&X.scrollIntoView(),o&&X.setMeta("composition",o),t.dispatch(X)}return}let a=t.state.doc.resolve(e),c=a.sharedDepth(n);e=a.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,f=BG(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),y,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,x="end"):(y=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let S=FG(m.content,f.doc.content,f.from,y,x);if(S&&t.input.domChangeCount++,(Ml&&t.input.lastIOSEnter>Date.now()-225||$s)&&s.some(D=>D.nodeType==1&&!VG.test(D.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",D=>D(t,Do(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof xe&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let D=yE(t,t.state.doc,f.sel);if(D&&!D.eq(t.state.selection)){let H=t.state.tr.setSelection(D);o&&H.setMeta("composition",o),t.dispatch(H)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof xe&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),Vn&&Gi<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>f.from&&f.doc.textBetween(S.start-f.from-1,S.start-f.from+1)==" "&&(S.start--,S.endA--,S.endB--);let w=f.doc.resolveNoCache(S.start-f.from),C=f.doc.resolveNoCache(S.endB-f.from),k=p.resolve(S.start),_=w.sameParent(C)&&w.parent.inlineContent&&k.end()>=S.endA,A;if((Ml&&t.input.lastIOSEnter>Date.now()-225&&(!_||s.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!_&&w.pos<f.doc.content.size&&(!w.sameParent(C)||!w.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(w.pos,C.pos,"",""))&&(A=Te.findFrom(f.doc.resolve(w.pos+1),1,!0))&&A.head>w.pos)&&t.someProp("handleKeyDown",D=>D(t,Do(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&$G(p,S.start,S.endA,w,C)&&t.someProp("handleKeyDown",D=>D(t,Do(8,"Backspace")))){$s&&hn&&t.domObserver.suppressSelectionUpdates();return}hn&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),$s&&!_&&w.start()!=C.start()&&C.parentOffset==0&&w.depth==C.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==S.endA&&(S.endB-=2,C=f.doc.resolveNoCache(S.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,Do(13,"Enter"))})},20));let N=S.start,O=S.endA,j=D=>{let H=D||t.state.tr.replace(N,O,f.doc.slice(S.start-f.from,S.endB-f.from));if(f.sel){let X=yE(t,H.doc,f.sel);X&&!(hn&&t.composing&&X.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(X.head==N||X.head==H.mapping.map(O)-1)||Vn&&X.empty&&X.head==N)&&H.setSelection(X)}return o&&H.setMeta("composition",o),H.scrollIntoView()},P;if(_){if(w.pos==C.pos){Vn&&Gi<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ks(t),20));let D=j(t.state.tr.delete(N,O)),H=p.resolve(S.start).marksAcross(p.resolve(S.endA));H&&D.ensureMarks(H),t.dispatch(D)}else if(S.endA==S.endB&&(P=HG(w.parent.content.cut(w.parentOffset,C.parentOffset),k.parent.content.cut(k.parentOffset,S.endA-k.start())))){let D=j(t.state.tr);P.type=="add"?D.addMark(N,O,P.mark):D.removeMark(N,O,P.mark),t.dispatch(D)}else if(w.parent.child(w.index()).isText&&w.index()==C.index()-(C.textOffset?0:1)){let D=w.parent.textBetween(w.parentOffset,C.parentOffset),H=()=>j(t.state.tr.insertText(D,N,O));t.someProp("handleTextInput",X=>X(t,N,O,D,H))||t.dispatch(H())}}else t.dispatch(j())}function yE(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:nx(t,e.resolve(n.anchor),e.resolve(n.head))}function HG(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,a,c,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],a="add",d=p=>p.mark(c.addToSet(p.marks));else if(s.length==0&&o.length==1)c=o[0],a="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(J.from(f).eq(t))return{mark:c,type:a}}function $G(t,e,n,r,s){if(n-e<=s.pos-r.pos||U0(r,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(U0(o,!0,!0));return!a.parent.isTextblock||a.pos>n||U0(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function U0(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function FG(t,e,n,r,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(a,c));r-=a+d-o}if(a<o&&t.size<e.size){let d=r<=o&&r>=a?o-r:0;o-=d,o&&o<e.size&&vE(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-a),a=o}else if(c<o){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<t.size&&vE(t.textBetween(o-1,o+1))&&(o+=d?1:-1),a=o+(a-c),c=o}return{start:o,endA:a,endB:c}}function vE(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class hD{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new cG,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(CE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=SE(this),xE(this),this.nodeViews=wE(this),this.docView=Z_(this.state.doc,bE(this),V0(this),this.dom,this),this.domObserver=new jG(this,(r,s,o,a)=>UG(this,r,s,o,a)),this.domObserver.start(),uG(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&p1(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(CE),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(oD(this),a=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=wE(this);YG(x,this.nodeViews)&&(this.nodeViews=x,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&p1(this),this.editable=SE(this),xE(this);let d=V0(this),f=bE(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(s.selection))&&(a=!0);let y=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&kY(this);if(a){this.domObserver.stop();let x=m&&(Vn||hn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&qG(s.selection,e.selection);if(m){let S=hn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=CG(this)),(o||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Z_(e.doc,f,d,this.dom,this)),S&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&WY(this))?Ks(this,x):(WN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&TY(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&G_(this,n.getBoundingClientRect(),e)}else G_(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new lD(e.slice,e.move,s<0?void 0:pe.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(s=n?n(c):c))return s}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let c=o[a].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(Vn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_Y(this.dom),Ks(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return NY(this,e)}coordsAtPos(e,n=1){return VN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return PY(this,n||this.state,e)}pasteHTML(e,n){return $u(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return $u(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return rx(this,e)}destroy(){this.docView&&(dG(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],V0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,hY())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return hG(this,e)}domSelectionRange(){let e=this.domSelection();return e?Tn&&this.root.nodeType===11&&vY(this.dom.ownerDocument)==this.dom&&PG(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}hD.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function bE(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Cn.node(0,t.state.doc.content.size,e)]}function xE(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Cn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function SE(t){return!t.someProp("editable",e=>e(t.state)===!1)}function qG(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function wE(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function YG(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function CE(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Xi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GG=typeof navigator<"u"&&/Mac/.test(navigator.platform),WG=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var on=0;on<10;on++)Xi[48+on]=Xi[96+on]=String(on);for(var on=1;on<=24;on++)Xi[on+111]="F"+on;for(var on=65;on<=90;on++)Xi[on]=String.fromCharCode(on+32),dp[on]=String.fromCharCode(on);for(var H0 in Xi)dp.hasOwnProperty(H0)||(dp[H0]=Xi[H0]);function KG(t){var e=GG&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||WG&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?dp:Xi)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const QG=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),XG=typeof navigator<"u"&&/Win/.test(navigator.platform);function JG(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))QG?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function ZG(t){let e=Object.create(null);for(let n in t)e[JG(n)]=t[n];return e}function $0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function eW(t){return new _t({props:{handleKeyDown:pD(t)}})}function pD(t){let e=ZG(t);return function(n,r){let s=KG(r),o,a=e[$0(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[$0(s,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(XG&&r.ctrlKey&&r.altKey)&&(o=Xi[r.keyCode])&&o!=s){let c=e[$0(o,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var tW=Object.defineProperty,cx=(t,e)=>{for(var n in e)tW(t,n,{get:e[n],enumerable:!0})};function Em(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,o=n.storedMarks,n}}}var Mm=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...f)=>{const p=c(...f)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a=[],c=!!t,d=t||s.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),a.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,y])=>[m,(...S)=>{const w=this.buildProps(d,e),C=y(...S)(w);return a.push(C),p}])),run:f};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a={tr:t,editor:r,view:o,state:Em({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...f)=>d(...f)(a)]))}};return a}},mD={};cx(mD,{blur:()=>nW,clearContent:()=>rW,clearNodes:()=>sW,command:()=>iW,createParagraphNear:()=>oW,cut:()=>aW,deleteCurrentNode:()=>lW,deleteNode:()=>cW,deleteRange:()=>uW,deleteSelection:()=>dW,enter:()=>fW,exitCode:()=>hW,extendMarkRange:()=>pW,first:()=>mW,focus:()=>yW,forEach:()=>vW,insertContent:()=>bW,insertContentAt:()=>wW,joinBackward:()=>TW,joinDown:()=>kW,joinForward:()=>_W,joinItemBackward:()=>EW,joinItemForward:()=>MW,joinTextblockBackward:()=>OW,joinTextblockForward:()=>AW,joinUp:()=>CW,keyboardShortcut:()=>DW,lift:()=>RW,liftEmptyBlock:()=>jW,liftListItem:()=>LW,newlineInCode:()=>PW,resetAttributes:()=>zW,scrollIntoView:()=>BW,selectAll:()=>IW,selectNodeBackward:()=>VW,selectNodeForward:()=>UW,selectParentNode:()=>HW,selectTextblockEnd:()=>$W,selectTextblockStart:()=>FW,setContent:()=>qW,setMark:()=>cK,setMeta:()=>uK,setNode:()=>dK,setNodeSelection:()=>fK,setTextSelection:()=>hK,sinkListItem:()=>pK,splitBlock:()=>mK,splitListItem:()=>gK,toggleList:()=>yK,toggleMark:()=>vK,toggleNode:()=>bK,toggleWrap:()=>xK,undoInputRule:()=>SK,unsetAllMarks:()=>wK,unsetMark:()=>CK,updateAttributes:()=>kK,wrapIn:()=>TK,wrapInList:()=>_K});var nW=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),rW=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),sW=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:o,$to:a})=>{t.doc.nodesBetween(o.pos,a.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),y=f.resolve(p.map(d+c.nodeSize)),x=m.blockRange(y);if(!x)return;const S=ql(x);if(c.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(x.start,w)}(S||S===0)&&e.lift(x,S)})}),!0},iW=t=>e=>t(e),oW=()=>({state:t,dispatch:e})=>AN(t,e),aW=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new xe(r.doc.resolve(Math.max(a-1,0)))),!0},lW=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),d=s.after(o);t.delete(c,d).scrollIntoView()}return!0}return!1};function Lt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var cW=t=>({tr:e,state:n,dispatch:r})=>{const s=Lt(t,n.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===s){if(r){const d=o.before(a),f=o.after(a);e.delete(d,f).scrollIntoView()}return!0}return!1},uW=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},dW=()=>({state:t,dispatch:e})=>Kb(t,e),fW=()=>({commands:t})=>t.keyboardShortcut("Enter"),hW=()=>({state:t,dispatch:e})=>Jq(t,e);function ux(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function fp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:ux(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function gD(t,e,n={}){return t.find(r=>r.type===e&&fp(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function kE(t,e,n={}){return!!gD(t,e,n)}function dx(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!gD([...s.node.marks],e,n)))return;let a=s.index,c=t.start()+s.offset,d=a+1,f=c+s.node.nodeSize;for(;a>0&&kE([...t.parent.child(a-1).marks],e,n);)a-=1,c-=t.parent.child(a).nodeSize;for(;d<t.parent.childCount&&kE([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function ri(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var pW=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const o=ri(t,r.schema),{doc:a,selection:c}=n,{$from:d,from:f,to:p}=c;if(s){const m=dx(d,o,e);if(m&&m.from<=f&&m.to>=p){const y=xe.create(a,m.from,m.to);n.setSelection(y)}}return!0},mW=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function yD(t){return t instanceof xe}function Bo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function vD(t,e=null){if(!e)return null;const n=Te.atStart(t),r=Te.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,o=r.to;return e==="all"?xe.create(t,Bo(0,s,o),Bo(t.content.size,s,o)):xe.create(t,Bo(e,s,o),Bo(e,s,o))}function gW(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function fx(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var yW=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(fx()||gW())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!yD(n.state.selection))return a(),!0;const c=vD(s.doc,t)||n.state.selection,d=n.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},vW=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),bW=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),bD=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&bD(r)}return t};function Zf(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return bD(n)}function qu(t,e,n){if(t instanceof Yi||t instanceof J)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return J.fromArray(t.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),qu("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,c="";const d=new rN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?hu.fromSchema(d).parseSlice(Zf(t),n.parseOptions):hu.fromSchema(d).parse(Zf(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=hu.fromSchema(e);return n.slice?o.parseSlice(Zf(t),n.parseOptions).content:o.parse(Zf(t),n.parseOptions)}return qu("",e,n)}function xW(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Gt||s instanceof Wt))return;const o=t.mapping.maps[r];let a=0;o.forEach((c,d,f,p)=>{a===0&&(a=p)}),t.setSelection(Te.near(t.doc.resolve(a),n))}var SW=t=>!("type"in t),wW=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{var a;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const d=C=>{o.emit("contentError",{editor:o,error:C,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{qu(e,o.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(C){d(C)}try{c=qu(e,o.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(C){return d(C),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,x=!0;if((SW(c)?c:[c]).forEach(C=>{C.check(),y=y?C.isText&&C.marks.length===0:!1,x=x?C.isBlock:!1}),p===m&&x){const{parent:C}=r.doc.resolve(p);C.isTextblock&&!C.type.spec.code&&!C.childCount&&(p-=1,m+=1)}let w;if(y){if(Array.isArray(e))w=e.map(C=>C.text||"").join("");else if(e instanceof J){let C="";e.forEach(k=>{k.text&&(C+=k.text)}),w=C}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,p,m)}else{w=c;const C=r.doc.resolve(p),k=C.node(),_=C.parentOffset===0,A=k.isText||k.isTextblock,N=k.content.size>0;_&&A&&N&&(p=Math.max(0,p-1)),r.replaceWith(p,m,w)}n.updateSelection&&xW(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:w}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:w})}return!0},CW=()=>({state:t,dispatch:e})=>Kq(t,e),kW=()=>({state:t,dispatch:e})=>Qq(t,e),TW=()=>({state:t,dispatch:e})=>CN(t,e),_W=()=>({state:t,dispatch:e})=>EN(t,e),EW=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Sm(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},MW=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Sm(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},OW=()=>({state:t,dispatch:e})=>Gq(t,e),AW=()=>({state:t,dispatch:e})=>Wq(t,e);function xD(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function NW(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))fx()||xD()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var DW=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const o=NW(t).split(/-(?!$)/),a=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,c))});return d?.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function Ji(t,e,n={}){const{from:r,to:s,empty:o}=t.selection,a=e?Lt(e,t.schema):null,c=[];t.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const x=Math.max(r,y),S=Math.min(s,y+m.nodeSize);c.push({node:m,from:x,to:S})});const d=s-r,f=c.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>fp(m.node.attrs,n,{strict:!1}));return o?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=d}var RW=(t,e={})=>({state:n,dispatch:r})=>{const s=Lt(t,n.schema);return Ji(n,s,e)?Xq(n,r):!1},jW=()=>({state:t,dispatch:e})=>NN(t,e),LW=t=>({state:e,dispatch:n})=>{const r=Lt(t,e.schema);return cY(r)(e,n)},PW=()=>({state:t,dispatch:e})=>ON(t,e);function Om(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function TE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var zW=(t,e)=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=Om(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Lt(t,r.schema)),c==="mark"&&(a=ri(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{o&&o===f.type&&n.setNodeMarkup(p,void 0,TE(f.attrs,e)),a&&f.marks.length&&f.marks.forEach(m=>{a===m.type&&n.addMark(p,p+f.nodeSize,a.create(TE(m.attrs,e)))})})}),!0):!1},BW=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),IW=()=>({tr:t,dispatch:e})=>{if(e){const n=new er(t.doc);t.setSelection(n)}return!0},VW=()=>({state:t,dispatch:e})=>TN(t,e),UW=()=>({state:t,dispatch:e})=>MN(t,e),HW=()=>({state:t,dispatch:e})=>tY(t,e),$W=()=>({state:t,dispatch:e})=>sY(t,e),FW=()=>({state:t,dispatch:e})=>rY(t,e);function m1(t,e,n={},r={}){return qu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var qW=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:a,commands:c})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const f=m1(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&o.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function SD(t,e){const n=ri(e,t.schema),{from:r,to:s,empty:o}=t.selection,a=[];o?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,d=>{a.push(...d.marks)});const c=a.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function wD(t,e){const n=new bN(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function YW(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function GW(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&r.push({node:s,pos:o})}),r}function WW(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Am(t){return e=>WW(e.$from,t)}function fe(t,e,n){return t.config[e]===void 0&&t.parent?fe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?fe(t.parent,e,n):null}):t.config[e]}function hx(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=fe(e,"addExtensions",n);return r?[e,...hx(r())]:e}).flat(10)}function px(t,e){const n=ca.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function CD(t){return typeof t=="function"}function We(t,e=void 0,...n){return CD(t)?e?t.bind(e)(...n):t(...n):t}function KW(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Yu(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function kD(t){const e=[],{nodeExtensions:n,markExtensions:r}=Yu(t),s=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:s},d=fe(a,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,x])=>{e.push({type:m,name:y,attribute:{...o,...x}})})})})}),s.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},d=fe(a,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const y={...o,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function Pt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=r[s]?r[s].split(" "):[],f=c.filter(p=>!d.includes(p));r[s]=[...d,...f].join(" ")}else if(s==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,y]=p.split(":").map(x=>x.trim());f.set(m,y)}),c.forEach(p=>{const[m,y]=p.split(":").map(x=>x.trim());f.set(m,y)}),r[s]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[s]=o}),r},{})}function hp(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Pt(n,r),{})}function QW(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function _E(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((o,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(n):QW(n.getAttribute(a.name));return c==null?o:{...o,[a.name]:c}},{});return{...r,...s}}}}function EE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&KW(n)?!1:n!=null))}function XW(t,e){var n;const r=kD(t),{nodeExtensions:s,markExtensions:o}=Yu(t),a=(n=s.find(f=>fe(f,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(f=>{const p=r.filter(k=>k.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((k,_)=>{const A=fe(_,"extendNodeSchema",m);return{...k,...A?A(f):{}}},{}),x=EE({...y,content:We(fe(f,"content",m)),marks:We(fe(f,"marks",m)),group:We(fe(f,"group",m)),inline:We(fe(f,"inline",m)),atom:We(fe(f,"atom",m)),selectable:We(fe(f,"selectable",m)),draggable:We(fe(f,"draggable",m)),code:We(fe(f,"code",m)),whitespace:We(fe(f,"whitespace",m)),linebreakReplacement:We(fe(f,"linebreakReplacement",m)),defining:We(fe(f,"defining",m)),isolating:We(fe(f,"isolating",m)),attrs:Object.fromEntries(p.map(k=>{var _,A;return[k.name,{default:(_=k?.attribute)==null?void 0:_.default,validate:(A=k?.attribute)==null?void 0:A.validate}]}))}),S=We(fe(f,"parseHTML",m));S&&(x.parseDOM=S.map(k=>_E(k,p)));const w=fe(f,"renderHTML",m);w&&(x.toDOM=k=>w({node:k,HTMLAttributes:hp(k,p)}));const C=fe(f,"renderText",m);return C&&(x.toText=C),[f.name,x]})),d=Object.fromEntries(o.map(f=>{const p=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((C,k)=>{const _=fe(k,"extendMarkSchema",m);return{...C,..._?_(f):{}}},{}),x=EE({...y,inclusive:We(fe(f,"inclusive",m)),excludes:We(fe(f,"excludes",m)),group:We(fe(f,"group",m)),spanning:We(fe(f,"spanning",m)),code:We(fe(f,"code",m)),attrs:Object.fromEntries(p.map(C=>{var k,_;return[C.name,{default:(k=C?.attribute)==null?void 0:k.default,validate:(_=C?.attribute)==null?void 0:_.validate}]}))}),S=We(fe(f,"parseHTML",m));S&&(x.parseDOM=S.map(C=>_E(C,p)));const w=fe(f,"renderHTML",m);return w&&(x.toDOM=C=>w({mark:C,HTMLAttributes:hp(C,p)})),[f.name,x]}));return new rN({topNode:a,nodes:c,marks:d})}function JW(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function mx(t){return t.sort((n,r)=>{const s=fe(n,"priority")||100,o=fe(r,"priority")||100;return s>o?-1:s<o?1:0})}function TD(t){const e=mx(hx(t)),n=JW(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function _D(t,e,n){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let c="";return t.nodesBetween(r,s,(d,f,p,m)=>{var y;d.isBlock&&f>r&&(c+=o);const x=a?.[d.type.name];if(x)return p&&(c+=x({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(c+=(y=d?.text)==null?void 0:y.slice(Math.max(r,f)-f,s-f))}),c}function ZW(t,e){const n={from:0,to:t.content.size};return _D(t,n,e)}function ED(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function eK(t,e){const n=Lt(e,t.schema),{from:r,to:s}=t.selection,o=[];t.doc.nodesBetween(r,s,c=>{o.push(c)});const a=o.reverse().find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function MD(t,e){const n=Om(typeof e=="string"?e:e.name,t.schema);return n==="node"?eK(t,e):n==="mark"?SD(t,e):{}}function tK(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function nK(t){const e=tK(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function OD(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,o)=>{const a=[];if(s.ranges.length)s.forEach((c,d)=>{a.push({from:c,to:d})});else{const{from:c,to:d}=n[o];if(c===void 0||d===void 0)return;a.push({from:c,to:d})}a.forEach(({from:c,to:d})=>{const f=e.slice(o).map(c,-1),p=e.slice(o).map(d),m=e.invert().map(f,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:p}})})}),nK(r)}function gx(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),a=dx(o,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:o,to:o+s.nodeSize,mark:a})))}),r}var rK=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let o=r,a=null;for(;o>0&&a===null;){const c=s.node(o);c?.type.name===e?a=c:o-=1}return[a,o]};function F0(t,e){return e.nodes[t]||e.marks[t]||null}function Oh(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var sK=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,o,a,c)=>{var d,f;const p=((f=(d=s.type.spec).toText)==null?void 0:f.call(d,{node:s,pos:o,parent:a,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-o))}),n};function g1(t,e,n={}){const{empty:r,ranges:s}=t.selection,o=e?ri(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>fp(m.attrs,n,{strict:!1}));let a=0;const c=[];if(s.forEach(({$from:m,$to:y})=>{const x=m.pos,S=y.pos;t.doc.nodesBetween(x,S,(w,C)=>{if(!w.isText&&!w.marks.length)return;const k=Math.max(x,C),_=Math.min(S,C+w.nodeSize),A=_-k;a+=A,c.push(...w.marks.map(N=>({mark:N,from:k,to:_})))})}),a===0)return!1;const d=c.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>fp(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=c.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,y)=>m+y.to-y.from,0);return(d>0?d+f:d)>=a}function iK(t,e,n={}){if(!e)return Ji(t,null,n)||g1(t,null,n);const r=Om(e,t.schema);return r==="node"?Ji(t,e,n):r==="mark"?g1(t,e,n):!1}var oK=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const o=Am(c=>c.type.name===e)(t.selection);if(!o)return!1;const a=t.doc.resolve(o.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},aK=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function ME(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function OE(t,e){const{nodeExtensions:n}=Yu(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=We(fe(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Nm(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(Nm(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function AD(t){return t instanceof pe}function lK(t,e,n){var r;const{selection:s}=e;let o=null;if(yD(s)&&(o=s.$cursor),o){const c=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(f=>f.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:c,$to:d})=>{let f=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const x=!y||y.type.allowsMarkType(n),S=!!n.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(n));f=x&&S}return!f}),f})}var cK=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=n,{empty:a,ranges:c}=o,d=ri(t,r.schema);if(s)if(a){const f=SD(r,d);n.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(y,x)=>{const S=Math.max(x,p),w=Math.min(x+y.nodeSize,m);y.marks.find(k=>k.type===d)?y.marks.forEach(k=>{d===k.type&&n.addMark(S,w,d.create({...k.attrs,...e}))}):n.addMark(S,w,d.create(e))})});return lK(r,n,d)},uK=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),dK=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const o=Lt(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>F_(o,{...a,...e})(n)?!0:c.clearNodes()).command(({state:c})=>F_(o,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},fK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Bo(t,0,r.content.size),o=pe.create(r,s);e.setSelection(o)}return!0},hK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,a=xe.atStart(r).from,c=xe.atEnd(r).to,d=Bo(s,a,c),f=Bo(o,a,c),p=xe.create(r,d,f);e.setSelection(p)}return!0},pK=t=>({state:e,dispatch:n})=>{const r=Lt(t,e.schema);return fY(r)(e,n)};function AE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var mK=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:o,doc:a}=e,{$from:c,$to:d}=o,f=s.extensionManager.attributes,p=Oh(f,c.node().type.name,c.node().attrs);if(o instanceof pe&&o.node.isBlock)return!c.parentOffset||!Ws(a,c.pos)?!1:(r&&(t&&AE(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,y=c.depth===0?void 0:YW(c.node(-1).contentMatchAt(c.indexAfter(-1)));let x=m&&y?[{type:y,attrs:p}]:void 0,S=Ws(e.doc,e.mapping.map(c.pos),1,x);if(!x&&!S&&Ws(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(S=!0,x=y?[{type:y,attrs:p}]:void 0),r){if(S&&(o instanceof xe&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,x),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const w=e.mapping.map(c.before()),C=e.doc.resolve(w);c.node(-1).canReplaceWith(C.index(),C.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}t&&AE(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},gK=(t,e={})=>({tr:n,state:r,dispatch:s,editor:o})=>{var a;const c=Lt(t,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==c)return!1;const y=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let k=J.empty;const _=d.index(-1)?1:d.index(-2)?2:3;for(let D=d.depth-_;D>=d.depth-3;D-=1)k=J.from(d.node(D).copy(k));const A=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,N={...Oh(y,d.node().type.name,d.node().attrs),...e},O=((a=c.contentMatch.defaultType)==null?void 0:a.createAndFill(N))||void 0;k=k.append(J.from(c.createAndFill(null,O)||void 0));const j=d.before(d.depth-(_-1));n.replace(j,d.after(-A),new oe(k,4-_,0));let P=-1;n.doc.nodesBetween(j,n.doc.content.size,(D,H)=>{if(P>-1)return!1;D.isTextblock&&D.content.size===0&&(P=H+1)}),P>-1&&n.setSelection(xe.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const x=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,S={...Oh(y,m.type.name,m.attrs),...e},w={...Oh(y,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const C=x?[{type:c,attrs:S},{type:x,attrs:w}]:[{type:c,attrs:S}];if(!Ws(n.doc,d.pos,2))return!1;if(s){const{selection:k,storedMarks:_}=r,{splittableMarks:A}=o.extensionManager,N=_||k.$to.parentOffset&&k.$from.marks();if(n.split(d.pos,2,C).scrollIntoView(),!N||!s)return!0;const O=N.filter(j=>A.includes(j.type.name));n.ensureMarks(O)}return!0},q0=(t,e)=>{const n=Am(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&to(t.doc,n.pos)&&t.join(n.pos),!0},Y0=(t,e)=>{const n=Am(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&to(t.doc,r)&&t.join(r),!0},yK=(t,e,n,r={})=>({editor:s,tr:o,state:a,dispatch:c,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,x=Lt(t,a.schema),S=Lt(e,a.schema),{selection:w,storedMarks:C}=a,{$from:k,$to:_}=w,A=k.blockRange(_),N=C||w.$to.parentOffset&&w.$from.marks();if(!A)return!1;const O=Am(j=>OE(j.type.name,m))(w);if(A.depth>=1&&O&&A.depth-O.depth<=1){if(O.node.type===x)return f.liftListItem(S);if(OE(O.node.type.name,m)&&x.validContent(O.node.content)&&c)return d().command(()=>(o.setNodeMarkup(O.pos,x),!0)).command(()=>q0(o,x)).command(()=>Y0(o,x)).run()}return!n||!N||!c?d().command(()=>p().wrapInList(x,r)?!0:f.clearNodes()).wrapInList(x,r).command(()=>q0(o,x)).command(()=>Y0(o,x)).run():d().command(()=>{const j=p().wrapInList(x,r),P=N.filter(D=>y.includes(D.type.name));return o.ensureMarks(P),j?!0:f.clearNodes()}).wrapInList(x,r).command(()=>q0(o,x)).command(()=>Y0(o,x)).run()},vK=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,a=ri(t,r.schema);return g1(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:o}):s.setMark(a,e)},bK=(t,e,n={})=>({state:r,commands:s})=>{const o=Lt(t,r.schema),a=Lt(e,r.schema),c=Ji(r,o,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?s.setNode(a,d):s.setNode(o,{...d,...n})},xK=(t,e={})=>({state:n,commands:r})=>{const s=Lt(t,n.schema);return Ji(n,s,e)?r.lift(s):r.wrapIn(s,e)},SK=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const a=t.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)a.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,d))}else a.delete(o.from,o.to)}return!0}}return!1},wK=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},CK=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=n,d=ri(t,r.schema),{$from:f,empty:p,ranges:m}=c;if(!s)return!0;if(p&&a){let{from:y,to:x}=c;const S=(o=f.marks().find(C=>C.type===d))==null?void 0:o.attrs,w=dx(f,d,S);w&&(y=w.from,x=w.to),n.removeMark(y,x,d)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,d)});return n.removeStoredMark(d),!0},kK=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=Om(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Lt(t,r.schema)),c==="mark"&&(a=ri(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;let m,y,x,S;n.selection.empty?r.doc.nodesBetween(f,p,(w,C)=>{o&&o===w.type&&(x=Math.max(C,f),S=Math.min(C+w.nodeSize,p),m=C,y=w)}):r.doc.nodesBetween(f,p,(w,C)=>{C<f&&o&&o===w.type&&(x=Math.max(C,f),S=Math.min(C+w.nodeSize,p),m=C,y=w),C>=f&&C<=p&&(o&&o===w.type&&n.setNodeMarkup(C,void 0,{...w.attrs,...e}),a&&w.marks.length&&w.marks.forEach(k=>{if(a===k.type){const _=Math.max(C,f),A=Math.min(C+w.nodeSize,p);n.addMark(_,A,a.create({...k.attrs,...e}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(w=>{a===w.type&&n.addMark(x,S,a.create({...w.attrs,...e}))}))}),!0):!1},TK=(t,e={})=>({state:n,dispatch:r})=>{const s=Lt(t,n.schema);return iY(s,e)(n,r)},_K=(t,e={})=>({state:n,dispatch:r})=>{const s=Lt(t,n.schema);return oY(s,e)(n,r)},EK=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Dm=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},MK=(t,e)=>{if(ux(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function eh(t){var e;const{editor:n,from:r,to:s,text:o,rules:a,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=sK(f)+o;return a.forEach(y=>{if(p)return;const x=MK(m,y.find);if(!x)return;const S=d.state.tr,w=Em({state:d.state,transaction:S}),C={from:r-(x[0].length-o.length),to:s},{commands:k,chain:_,can:A}=new Mm({editor:n,state:w});y.handler({state:w,range:C,match:x,commands:k,chain:_,can:A})===null||!S.steps.length||(y.undoable&&S.setMeta(c,{transform:S,from:r,to:s,text:o}),d.dispatch(S),p=!0)}),p}function OK(t){const{editor:e,rules:n}=t,r=new _t({state:{init(){return null},apply(s,o,a){const c=s.getMeta(r);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=px(J.from(p),a.schema);const{from:m}=d,y=m+p.length;eh({editor:e,from:m,to:y,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,a,c){return eh({editor:e,from:o,to:a,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&eh({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?eh({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function AK(t){return Object.prototype.toString.call(t).slice(8,-1)}function th(t){return AK(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function ND(t,e){const n={...t};return th(t)&&th(e)&&Object.keys(e).forEach(r=>{th(e[r])&&th(t[r])?n[r]=ND(t[r],e[r]):n[r]=e[r]}),n}var yx=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...We(fe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...We(fe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>ND(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ua=class DD extends yx{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new DD(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(f=>f?.type.name===n.name))return!1;const d=a.find(f=>f?.type.name===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function NK(t){return typeof t=="number"}var DK=class{constructor(t){this.find=t.find,this.handler=t.handler}},RK=(t,e,n)=>{if(ux(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function jK(t){const{editor:e,state:n,from:r,to:s,rule:o,pasteEvent:a,dropEvent:c}=t,{commands:d,chain:f,can:p}=new Mm({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(x,S)=>{var w,C,k,_,A;if((C=(w=x.type)==null?void 0:w.spec)!=null&&C.code||!(x.isText||x.isTextblock||x.isInline))return;const N=(A=(_=(k=x.content)==null?void 0:k.size)!=null?_:x.nodeSize)!=null?A:0,O=Math.max(r,S),j=Math.min(s,S+N);if(O>=j)return;const P=x.isText?x.text||"":x.textBetween(O-S,j-S,void 0,"");RK(P,o.find,a).forEach(H=>{if(H.index===void 0)return;const X=O+H.index+1,Z=X+H[0].length,ce={from:n.tr.mapping.map(X),to:n.tr.mapping.map(Z)},Ie=o.handler({state:n,range:ce,match:H,commands:d,chain:f,can:p,pasteEvent:a,dropEvent:c});m.push(Ie)})}),m.every(x=>x!==null)}var nh=null,LK=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function PK(t){const{editor:e,rules:n}=t;let r=null,s=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:m,to:y,rule:x,pasteEvt:S})=>{const w=p.tr,C=Em({state:p,transaction:w});if(!(!jK({editor:e,state:C,from:Math.max(m-1,0),to:y.b-1,rule:x,pasteEvent:S,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(p=>new _t({view(m){const y=S=>{var w;r=(w=m.dom.parentElement)!=null&&w.contains(S.target)?m.dom.parentElement:null,r&&(nh=e)},x=()=>{nh&&(nh=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(o=r===m.dom.parentElement,c=y,!o){const x=nh;x?.isEditable&&setTimeout(()=>{const S=x.state.selection;S&&x.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(m,y)=>{var x;const S=(x=y.clipboardData)==null?void 0:x.getData("text/html");return a=y,s=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,x)=>{const S=m[0],w=S.getMeta("uiEvent")==="paste"&&!s,C=S.getMeta("uiEvent")==="drop"&&!o,k=S.getMeta("applyPasteRules"),_=!!k;if(!w&&!C&&!_)return;if(_){let{text:O}=k;typeof O=="string"?O=O:O=px(J.from(O),x.schema);const{from:j}=k,P=j+O.length,D=LK(O);return d({rule:p,state:x,from:j,to:{b:P},pasteEvt:D})}const A=y.doc.content.findDiffStart(x.doc.content),N=y.doc.content.findDiffEnd(x.doc.content);if(!(!NK(A)||!N||A===N.b))return d({rule:p,state:x,from:A,to:N,pasteEvt:a})}}))}var Rm=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=TD(t),this.schema=XW(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:F0(e.name,this.schema)},r=fe(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return mx([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:F0(r.name,this.schema)},o=[],a=fe(r,"addKeyboardShortcuts",s);let c={};if(r.type==="mark"&&fe(r,"exitable",s)&&(c.ArrowRight=()=>ua.handleExit({editor:t,mark:r})),a){const y=Object.fromEntries(Object.entries(a()).map(([x,S])=>[x,()=>S({editor:t})]));c={...c,...y}}const d=eW(c);o.push(d);const f=fe(r,"addInputRules",s);if(ME(r,t.options.enableInputRules)&&f){const y=f();if(y&&y.length){const x=OK({editor:t,rules:y}),S=Array.isArray(x)?x:[x];o.push(...S)}}const p=fe(r,"addPasteRules",s);if(ME(r,t.options.enablePasteRules)&&p){const y=p();if(y&&y.length){const x=PK({editor:t,rules:y});o.push(...x)}}const m=fe(r,"addProseMirrorPlugins",s);if(m){const y=m();o.push(...y)}return o})}get attributes(){return kD(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Yu(this.extensions);return Object.fromEntries(e.filter(n=>!!fe(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Lt(n.name,this.schema)},o=fe(n,"addNodeView",s);if(!o)return[];const a=(c,d,f,p,m)=>{const y=hp(c,r);return o()({node:c,view:d,getPos:f,decorations:p,innerDecorations:m,editor:t,extension:n,HTMLAttributes:y})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=Yu(this.extensions);return Object.fromEntries(e.filter(n=>!!fe(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ri(n.name,this.schema)},o=fe(n,"addMarkView",s);if(!o)return[];const a=(c,d,f)=>{const p=hp(c,r);return o()({mark:c,view:d,inline:f,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{XK(c,t,m)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:F0(e.name,this.schema)};e.type==="mark"&&((n=We(fe(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=fe(e,"onBeforeCreate",r),o=fe(e,"onCreate",r),a=fe(e,"onUpdate",r),c=fe(e,"onSelectionUpdate",r),d=fe(e,"onTransaction",r),f=fe(e,"onFocus",r),p=fe(e,"onBlur",r),m=fe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Rm.resolve=TD;Rm.sort=mx;Rm.flatten=hx;var zK={};cx(zK,{ClipboardTextSerializer:()=>jD,Commands:()=>LD,Delete:()=>PD,Drop:()=>zD,Editable:()=>BD,FocusEvents:()=>VD,Keymap:()=>UD,Paste:()=>HD,Tabindex:()=>$D,focusEventsPluginKey:()=>ID});var zt=class RD extends yx{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new RD(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},jD=zt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _t({key:new Qt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:o}=s,a=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),d=ED(n);return _D(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),LD=zt.create({name:"commands",addCommands(){return{...mD}}}),PD=zt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const o=()=>{var a,c,d,f;if((f=(d=(c=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?f:t.getMeta("y-sync$"))return;const p=wD(t.before,[t,...e]);OD(p).forEach(x=>{p.mapping.mapResult(x.oldRange.from).deletedAfter&&p.mapping.mapResult(x.oldRange.to).deletedBefore&&p.before.nodesBetween(x.oldRange.from,x.oldRange.to,(S,w)=>{const C=w+S.nodeSize-2,k=x.oldRange.from<=w&&C<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:w,to:C,newFrom:p.mapping.map(w),newTo:p.mapping.map(C),deletedRange:x.oldRange,newRange:x.newRange,partial:!k,editor:this.editor,transaction:t,combinedTransform:p})})});const y=p.mapping;p.steps.forEach((x,S)=>{var w,C;if(x instanceof zr){const k=y.slice(S).map(x.from,-1),_=y.slice(S).map(x.to),A=y.invert().map(k,-1),N=y.invert().map(_),O=(w=p.doc.nodeAt(k-1))==null?void 0:w.marks.some(P=>P.eq(x.mark)),j=(C=p.doc.nodeAt(_))==null?void 0:C.marks.some(P=>P.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:A,to:N},newRange:{from:k,to:_},partial:!!(j||O),editor:this.editor,transaction:t,combinedTransform:p})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),zD=zt.create({name:"drop",addProseMirrorPlugins(){return[new _t({key:new Qt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),BD=zt.create({name:"editable",addProseMirrorPlugins(){return[new _t({key:new Qt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ID=new Qt("focusEvents"),VD=zt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new _t({key:ID,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),UD=zt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:p,$anchor:m}=d,{pos:y,parent:x}=m,S=m.parent.isTextblock&&y>0?c.doc.resolve(y-1):m,w=S.parent.type.spec.isolating,C=m.pos-m.parentOffset,k=w&&S.parent.childCount===1?C===m.pos:Te.atStart(f).from===y;return!p||!x.type.isTextblock||x.textContent.length||!k||k&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return fx()||xD()?o:s},addProseMirrorPlugins(){return[new _t({key:new Qt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),s=t.some(w=>w.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:a,to:c}=e.selection,d=Te.atStart(e.doc).from,f=Te.atEnd(e.doc).to;if(o||!(a===d&&c===f)||!Nm(n.doc))return;const y=n.tr,x=Em({state:n,transaction:y}),{commands:S}=new Mm({editor:this.editor,state:x});if(S.clearNodes(),!!y.steps.length)return y}})]}}),HD=zt.create({name:"paste",addProseMirrorPlugins(){return[new _t({key:new Qt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),$D=zt.create({name:"tabindex",addProseMirrorPlugins(){return[new _t({key:new Qt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),BK=class ll{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ll(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ll(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ll(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(a);if(!s&&c.depth<=this.depth)return;const d=new ll(c,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),e.push(new ll(c,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,a=Object.keys(n);for(let c=0;c<a.length;c+=1){const d=a[c];if(o[d]!==n[d])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&o.every(d=>n[d]===a.node.attrs[d])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},IK=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function VK(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var FD=class extends EK{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=vD(e,this.options.autofocus);this.editorState=dl.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=VK(IK,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=CD(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[BD,jD.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),LD,VD,UD,$D,zD,HD,PD].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Rm(r,this)}createCommandManager(){this.commandManager=new Mm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=m1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=m1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new hD(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),c=a?.getMeta("focus"),d=a?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:a}),d&&this.emit("blur",{editor:this,event:d.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return MD(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return iK(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return px(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return ZW(this.state.doc,{blockSeparator:e,textSerializers:{...ED(this.schema),...n}})}get isEmpty(){return Nm(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new BK(e,this)}get $doc(){return this.$pos(0)}};function Ol(t){return new Dm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=We(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];if(a){const d=c.search(/\S/),f=n.from+c.indexOf(a),p=f+a.length;if(gx(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(w=>w===t.type&&w!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&o.delete(p,n.to),f>n.from&&o.delete(n.from+d,f);const y=n.from+d+a.length;o.addMark(n.from+d,y,t.type.create(s||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function UK(t){return new Dm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=We(t.getAttributes,void 0,r)||{},{tr:o}=e,a=n.from;let c=n.to;const d=t.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=a+f;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,a+r[0].length-1),o.replaceWith(p,c,d)}else if(r[0]){const f=t.type.isInline?a:a-1;o.insert(f,t.type.create(s)).delete(o.mapping.map(a),o.mapping.map(c))}o.scrollIntoView()},undoable:t.undoable})}function y1(t){return new Dm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),o=We(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function Al(t){return new Dm({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const o=We(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),d=a.doc.resolve(n.from).blockRange(),f=d&&Gb(d,t.type,o);if(!f)return null;if(a.wrap(d,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:x}=t.editor.extensionManager,S=y||m.$to.parentOffset&&m.$from.marks();if(S){const w=S.filter(C=>x.includes(C.type.name));a.ensureMarks(w)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,o).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&to(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)},undoable:t.undoable})}function HK(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof pe){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var $K={};cx($K,{createAtomBlockMarkdownSpec:()=>FK,createBlockMarkdownSpec:()=>qK,createInlineMarkdownSpec:()=>WK,parseAttributes:()=>vx,parseIndentedBlocks:()=>KK,renderNestedMarkdownContent:()=>QK,serializeAttributes:()=>bx});function vx(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const f=s.map(p=>p.trim().slice(1));e.class=f.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,f,p])=>{var m;const y=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),x=n[y];x&&(e[f]=x.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function bx(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function FK(t){const{nodeName:e,name:n,parseAttributes:r=vx,serializeAttributes:s=bx,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:c}=t,d=n||e,f=p=>{if(!c)return p;const m={};return c.forEach(y=>{y in p&&(m[y]=p[y])}),m};return{parseMarkdown:(p,m)=>{const y={...o,...p.attributes};return m.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const y=new RegExp(`^:::${d}(?:\\s|$)`,"m"),x=(m=p.match(y))==null?void 0:m.index;return x!==void 0?x:-1},tokenize(p,m,y){const x=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=p.match(x);if(!S)return;const w=S[1]||"",C=r(w);if(!a.find(_=>!(_ in C)))return{type:e,raw:S[0],attributes:C}}},renderMarkdown:p=>{const m=f(p.attrs||{}),y=s(m),x=y?` {${y}}`:"";return`:::${d}${x} :::`}}}function qK(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=vx,serializeAttributes:o=bx,defaultAttributes:a={},content:c="block",allowedAttributes:d}=t,f=n||e,p=m=>{if(!d)return m;const y={};return d.forEach(x=>{x in m&&(y[x]=m[x])}),y};return{parseMarkdown:(m,y)=>{let x;if(r){const w=r(m);x=typeof w=="string"?[{type:"text",text:w}]:w}else c==="block"?x=y.parseChildren(m.tokens||[]):x=y.parseInline(m.tokens||[]);const S={...a,...m.attributes};return y.createNode(e,S,x)},markdownTokenizer:{name:e,level:"block",start(m){var y;const x=new RegExp(`^:::${f}`,"m"),S=(y=m.match(x))==null?void 0:y.index;return S!==void 0?S:-1},tokenize(m,y,x){var S;const w=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),C=m.match(w);if(!C)return;const[k,_=""]=C,A=s(_);let N=1;const O=k.length;let j="";const P=/^:::([\w-]*)(\s.*)?/gm,D=m.slice(O);for(P.lastIndex=0;;){const H=P.exec(D);if(H===null)break;const X=H.index,Z=H[1];if(!((S=H[2])!=null&&S.endsWith(":::"))){if(Z)N+=1;else if(N-=1,N===0){const ce=D.slice(0,X);j=ce.trim();const Ie=m.slice(0,O+X+H[0].length);let Ae=[];if(j)if(c==="block")for(Ae=x.blockTokens(ce),Ae.forEach(Ee=>{Ee.text&&(!Ee.tokens||Ee.tokens.length===0)&&(Ee.tokens=x.inlineTokens(Ee.text))});Ae.length>0;){const Ee=Ae[Ae.length-1];if(Ee.type==="paragraph"&&(!Ee.text||Ee.text.trim()===""))Ae.pop();else break}else Ae=x.inlineTokens(j);return{type:e,raw:Ie,attributes:A,content:j,tokens:Ae}}}}}},renderMarkdown:(m,y)=>{const x=p(m.attrs||{}),S=o(x),w=S?` {${S}}`:"",C=y.renderChildren(m.content||[],`

`);return`:::${f}${w}

${C}

:::`}}}function YK(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,o,a]=r;e[s]=o||a,r=n.exec(t)}return e}function GK(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function WK(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=YK,serializeAttributes:o=GK,defaultAttributes:a={},selfClosing:c=!1,allowedAttributes:d}=t,f=n||e,p=y=>{if(!d)return y;const x={};return d.forEach(S=>{S in y&&(x[S]=y[S])}),x},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,x)=>{const S={...a,...y.attributes};if(c)return x.createNode(e,S);const w=r?r(y):y.content||"";return w?x.createNode(e,S,[x.createTextNode(w)]):x.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(y){const x=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),S=y.match(x),w=S?.index;return w!==void 0?w:-1},tokenize(y,x,S){const w=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),C=y.match(w);if(!C)return;let k="",_="";if(c){const[,N]=C;_=N}else{const[,N,O]=C;_=N,k=O||""}const A=s(_.trim());return{type:e,raw:C[0],content:k.trim(),attributes:A}}},renderMarkdown:y=>{let x="";r?x=r(y):y.content&&y.content.length>0&&(x=y.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const S=p(y.attrs||{}),w=o(S),C=w?` ${w}`:"";return c?`[${f}${C}]`:`[${f}${C}]${x}[/${f}]`}}}function KK(t,e,n){var r,s,o,a;const c=t.split(`
`),d=[];let f="",p=0;const m=e.baseIndentSize||2;for(;p<c.length;){const y=c[p],x=y.match(e.itemPattern);if(!x){if(d.length>0)break;if(y.trim()===""){p+=1;continue}else return}const S=e.extractItemData(x),{indentLevel:w,mainContent:C}=S;f=`${f}${y}
`;const k=[C];for(p+=1;p<c.length;){const O=c[p];if(O.trim()===""){const P=c.slice(p+1).findIndex(X=>X.trim()!=="");if(P===-1)break;if((((s=(r=c[p+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>w){k.push(O),f=`${f}${O}
`,p+=1;continue}else break}if((((a=(o=O.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>w)k.push(O),f=`${f}${O}
`,p+=1;else break}let _;const A=k.slice(1);if(A.length>0){const O=A.map(j=>j.slice(w+m)).join(`
`);O.trim()&&(e.customNestedParser?_=e.customNestedParser(O):_=n.blockTokens(O))}const N=e.createToken(S,_);d.push(N)}if(d.length!==0)return{items:d,raw:f.trim()}}function QK(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[o,...a]=t.content,c=e.renderChildren([o]),d=[`${s}${c}`];return a&&a.length>0&&a.forEach(f=>{const p=e.renderChildren([f]);if(p){const m=p.split(`
`).map(y=>y?e.indent(y):"").join(`
`);d.push(m)}}),d.join(`
`)}function XK(t,e,n={}){const{state:r}=e,{doc:s,tr:o}=r,a=t;s.descendants((c,d)=>{const f=o.mapping.map(d),p=o.mapping.map(d)+c.nodeSize;let m=null;if(c.marks.forEach(x=>{if(x!==a)return!1;m=x}),!m)return;let y=!1;if(Object.keys(n).forEach(x=>{n[x]!==m.attrs[x]&&(y=!0)}),y){const x=t.type.create({...t.attrs,...n});o.removeMark(f,p,t.type),o.addMark(f,p,x)}}),o.docChanged&&e.view.dispatch(o)}var sr=class qD extends yx{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new qD(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function aa(t){return new DK({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const o=We(t.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:a}=e,c=r[r.length-1],d=r[0];let f=n.to;if(c){const p=d.search(/\S/),m=n.from+d.indexOf(c),y=m+c.length;if(gx(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(C=>C===t.type&&C!==S.mark.type)).filter(S=>S.to>m).length)return null;y<n.to&&a.delete(y,n.to),m>n.from&&a.delete(n.from+p,m),f=n.from+p+c.length,a.addMark(n.from+p,f,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}var G0,NE;function JK(){return NE||(NE=1,G0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),G0}var ZK=JK();const eQ=Wp(ZK);var W0={exports:{}},K0={};var DE;function tQ(){if(DE)return K0;DE=1;var t=Rl(),e=VA();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,c=t.useMemo,d=t.useDebugValue;return K0.useSyncExternalStoreWithSelector=function(f,p,m,y,x){var S=o(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=c(function(){function k(j){if(!_){if(_=!0,A=j,j=y(j),x!==void 0&&w.hasValue){var P=w.value;if(x(P,j))return N=P}return N=j}if(P=N,r(A,j))return P;var D=y(j);return x!==void 0&&x(P,D)?(A=j,P):(A=j,N=D)}var _=!1,A,N,O=m===void 0?null:m;return[function(){return k(p())},O===null?void 0:function(){return k(O())}]},[p,m,y,x]);var C=s(f,S[0],S[1]);return a(function(){w.hasValue=!0,w.value=C},[C]),d(C),C},K0}var RE;function nQ(){return RE||(RE=1,W0.exports=tQ()),W0.exports}var rQ=nQ(),sQ=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},iQ=({contentComponent:t})=>{const e=UA.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return v.jsx(v.Fragment,{children:Object.values(e)})};function oQ(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:q6.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var aQ=class extends zn.Component{constructor(t){var e;super(t),this.editorContentRef=zn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=oQ(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:sQ(e,this.editorContentRef),...n}),t?.contentComponent&&v.jsx(iQ,{contentComponent:t.contentComponent})]})}},lQ=M.forwardRef((t,e)=>{const n=zn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return zn.createElement(aQ,{key:n,innerRef:e,...t})}),cQ=zn.memo(lQ),uQ=typeof window<"u"?M.useLayoutEffect:M.useEffect,dQ=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function fQ(t){var e;const[n]=M.useState(()=>new dQ(t.editor)),r=rQ.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:eQ);return uQ(()=>n.watch(t.editor),[t.editor,n]),M.useDebugValue(r),r}var hQ=!1,v1=typeof window>"u",pQ=v1||!!(typeof window<"u"&&window.next),mQ=class YD{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?v1||pQ?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new FD(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var a;return s===((a=n.extensions)==null?void 0:a[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?YD.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function gQ(t={},e=[]){const n=M.useRef(t);n.current=t;const[r]=M.useState(()=>new mQ(n)),s=UA.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return M.useDebugValue(s),M.useEffect(r.onRender(e)),fQ({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var yQ=M.createContext({editor:null});yQ.Consumer;var vQ=M.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),bQ=()=>M.useContext(vQ);zn.forwardRef((t,e)=>{const{onDragStart:n}=bQ(),r=t.as||"div";return v.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});zn.createContext({markViewContentRef:()=>{}});var pp=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},xQ=/^\s*>\s$/,SQ=sr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return pp("blockquote",{...Pt(this.options.HTMLAttributes,t),children:pp("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Al({find:xQ,type:this.type})]}}),wQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,CQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,kQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,TQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,_Q=ua.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return pp("strong",{...Pt(this.options.HTMLAttributes,t),children:pp("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ol({find:wQ,type:this.type}),Ol({find:kQ,type:this.type})]},addPasteRules(){return[aa({find:CQ,type:this.type}),aa({find:TQ,type:this.type})]}}),EQ=/(^|[^`])`([^`]+)`(?!`)$/,MQ=/(^|[^`])`([^`]+)`(?!`)/g,OQ=ua.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ol({find:EQ,type:this.type})]},addPasteRules(){return[aa({find:MQ,type:this.type})]}}),AQ=/^```([a-z]+)?[\s\n]$/,NQ=/^~~~([a-z]+)?[\s\n]$/,DQ=sr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Pt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(r.parent.type!==this.type)return!1;const o=" ".repeat(this.options.tabSize);return s?t.commands.insertContent(o):t.commands.command(({tr:a})=>{const{from:c,to:d}=n,m=e.doc.textBetween(c,d,`
`,`
`).split(`
`).map(y=>o+y).join(`
`);return a.replaceWith(c,d,e.schema.text(m)),!0})},"Shift-Tab":({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;return r.parent.type!==this.type?!1:s?t.commands.command(({tr:o})=>{var a;const{pos:c}=r,d=r.start(),f=r.end(),m=e.doc.textBetween(d,f,`
`,`
`).split(`
`);let y=0,x=0;const S=c-d;for(let N=0;N<m.length;N+=1){if(x+m[N].length>=S){y=N;break}x+=m[N].length+1}const C=((a=m[y].match(/^ */))==null?void 0:a[0])||"",k=Math.min(C.length,this.options.tabSize);if(k===0)return!0;let _=d;for(let N=0;N<y;N+=1)_+=m[N].length+1;return o.delete(_,_+k),c-_<=k&&o.setSelection(xe.create(o.doc,_)),!0}):t.commands.command(({tr:o})=>{const{from:a,to:c}=n,p=e.doc.textBetween(a,c,`
`,`
`).split(`
`).map(m=>{var y;const x=((y=m.match(/^ */))==null?void 0:y[0])||"",S=Math.min(x.length,this.options.tabSize);return m.slice(S)}).join(`
`);return o.replaceWith(a,c,e.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:f})=>(f.setSelection(Te.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[y1({find:AQ,type:this.type,getAttributes:t=>({language:t[1]})}),y1({find:NQ,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new _t({key:new Qt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!n||!o)return!1;const{tr:a,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(xe.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),RQ=sr.create({name:"doc",topNode:!0,content:"block+"}),jQ=sr.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Pt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&a){const m=d.filter(y=>c.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),LQ=sr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>y1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),PQ=sr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Pt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!HK(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return AD(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var c;if(a){const{$to:d}=o.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(xe.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(pe.create(o.doc,d.pos)):o.setSelection(xe.create(o.doc,d.pos));else{const p=(c=d.parent.type.contentMatch.defaultType)==null?void 0:c.create();p&&(o.insert(f,p),o.setSelection(xe.create(o.doc,f+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[UK({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),zQ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,BQ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,IQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,VQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,UQ=ua.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ol({find:zQ,type:this.type}),Ol({find:IQ,type:this.type})]},addPasteRules(){return[aa({find:BQ,type:this.type}),aa({find:VQ,type:this.type})]}});const HQ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",$Q="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",b1="numeric",x1="ascii",S1="alpha",yu="asciinumeric",au="alphanumeric",w1="domain",GD="emoji",FQ="scheme",qQ="slashscheme",Q0="whitespace";function YQ(t,e){return t in e||(e[t]=[]),e[t]}function Io(t,e,n){e[b1]&&(e[yu]=!0,e[au]=!0),e[x1]&&(e[yu]=!0,e[S1]=!0),e[yu]&&(e[au]=!0),e[S1]&&(e[au]=!0),e[au]&&(e[w1]=!0),e[GD]&&(e[w1]=!0);for(const r in e){const s=YQ(r,n);s.indexOf(t)<0&&s.push(t)}}function GQ(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ln(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Ln.groups={};Ln.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Ln.groups;let s;return e&&e.j?s=e:(s=new Ln(e),n&&r&&Io(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const o=t.length;if(!o)return s;for(let a=0;a<o-1;a++)s=s.tt(t[a]);return s.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Ln.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let a,c=s.go(t);if(c?(a=new Ln,Object.assign(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Ln,o){if(r)if(a.t&&typeof a.t=="string"){const d=Object.assign(GQ(a.t,r),n);Io(o,d,r)}else n&&Io(o,n,r);a.t=o}return s.j[t]=a,a}};const _e=(t,e,n,r,s)=>t.ta(e,n,r,s),vt=(t,e,n,r,s)=>t.tr(e,n,r,s),jE=(t,e,n,r,s)=>t.ts(e,n,r,s),ee=(t,e,n,r,s)=>t.tt(e,n,r,s),Bs="WORD",C1="UWORD",WD="ASCIINUMERICAL",KD="ALPHANUMERICAL",Gu="LOCALHOST",k1="TLD",T1="UTLD",Ah="SCHEME",cl="SLASH_SCHEME",xx="NUM",_1="WS",Sx="NL",vu="OPENBRACE",bu="CLOSEBRACE",mp="OPENBRACKET",gp="CLOSEBRACKET",yp="OPENPAREN",vp="CLOSEPAREN",bp="OPENANGLEBRACKET",xp="CLOSEANGLEBRACKET",Sp="FULLWIDTHLEFTPAREN",wp="FULLWIDTHRIGHTPAREN",Cp="LEFTCORNERBRACKET",kp="RIGHTCORNERBRACKET",Tp="LEFTWHITECORNERBRACKET",_p="RIGHTWHITECORNERBRACKET",Ep="FULLWIDTHLESSTHAN",Mp="FULLWIDTHGREATERTHAN",Op="AMPERSAND",Ap="APOSTROPHE",Np="ASTERISK",Li="AT",Dp="BACKSLASH",Rp="BACKTICK",jp="CARET",Bi="COLON",wx="COMMA",Lp="DOLLAR",ss="DOT",Pp="EQUALS",Cx="EXCLAMATION",yr="HYPHEN",xu="PERCENT",zp="PIPE",Bp="PLUS",Ip="POUND",Su="QUERY",kx="QUOTE",QD="FULLWIDTHMIDDLEDOT",Tx="SEMI",is="SLASH",wu="TILDE",Vp="UNDERSCORE",XD="EMOJI",Up="SYM";var JD=Object.freeze({__proto__:null,ALPHANUMERICAL:KD,AMPERSAND:Op,APOSTROPHE:Ap,ASCIINUMERICAL:WD,ASTERISK:Np,AT:Li,BACKSLASH:Dp,BACKTICK:Rp,CARET:jp,CLOSEANGLEBRACKET:xp,CLOSEBRACE:bu,CLOSEBRACKET:gp,CLOSEPAREN:vp,COLON:Bi,COMMA:wx,DOLLAR:Lp,DOT:ss,EMOJI:XD,EQUALS:Pp,EXCLAMATION:Cx,FULLWIDTHGREATERTHAN:Mp,FULLWIDTHLEFTPAREN:Sp,FULLWIDTHLESSTHAN:Ep,FULLWIDTHMIDDLEDOT:QD,FULLWIDTHRIGHTPAREN:wp,HYPHEN:yr,LEFTCORNERBRACKET:Cp,LEFTWHITECORNERBRACKET:Tp,LOCALHOST:Gu,NL:Sx,NUM:xx,OPENANGLEBRACKET:bp,OPENBRACE:vu,OPENBRACKET:mp,OPENPAREN:yp,PERCENT:xu,PIPE:zp,PLUS:Bp,POUND:Ip,QUERY:Su,QUOTE:kx,RIGHTCORNERBRACKET:kp,RIGHTWHITECORNERBRACKET:_p,SCHEME:Ah,SEMI:Tx,SLASH:is,SLASH_SCHEME:cl,SYM:Up,TILDE:wu,TLD:k1,UNDERSCORE:Vp,UTLD:T1,UWORD:C1,WORD:Bs,WS:_1});const Ls=/[a-z]/,tu=new RegExp("\\p{L}","u"),X0=new RegExp("\\p{Emoji}","u"),Ps=/\d/,J0=/\s/,LE="\r",Z0=`
`,WQ="",KQ="",ev="";let rh=null,sh=null;function QQ(t=[]){const e={};Ln.groups=e;const n=new Ln;rh==null&&(rh=PE(HQ)),sh==null&&(sh=PE($Q)),ee(n,"'",Ap),ee(n,"{",vu),ee(n,"}",bu),ee(n,"[",mp),ee(n,"]",gp),ee(n,"(",yp),ee(n,")",vp),ee(n,"<",bp),ee(n,">",xp),ee(n,"",Sp),ee(n,"",wp),ee(n,"",Cp),ee(n,"",kp),ee(n,"",Tp),ee(n,"",_p),ee(n,"",Ep),ee(n,"",Mp),ee(n,"&",Op),ee(n,"*",Np),ee(n,"@",Li),ee(n,"`",Rp),ee(n,"^",jp),ee(n,":",Bi),ee(n,",",wx),ee(n,"$",Lp),ee(n,".",ss),ee(n,"=",Pp),ee(n,"!",Cx),ee(n,"-",yr),ee(n,"%",xu),ee(n,"|",zp),ee(n,"+",Bp),ee(n,"#",Ip),ee(n,"?",Su),ee(n,'"',kx),ee(n,"/",is),ee(n,";",Tx),ee(n,"~",wu),ee(n,"_",Vp),ee(n,"\\",Dp),ee(n,"",QD);const r=vt(n,Ps,xx,{[b1]:!0});vt(r,Ps,r);const s=vt(r,Ls,WD,{[yu]:!0}),o=vt(r,tu,KD,{[au]:!0}),a=vt(n,Ls,Bs,{[x1]:!0});vt(a,Ps,s),vt(a,Ls,a),vt(s,Ps,s),vt(s,Ls,s);const c=vt(n,tu,C1,{[S1]:!0});vt(c,Ls),vt(c,Ps,o),vt(c,tu,c),vt(o,Ps,o),vt(o,Ls),vt(o,tu,o);const d=ee(n,Z0,Sx,{[Q0]:!0}),f=ee(n,LE,_1,{[Q0]:!0}),p=vt(n,J0,_1,{[Q0]:!0});ee(n,ev,p),ee(f,Z0,d),ee(f,ev,p),vt(f,J0,p),ee(p,LE),ee(p,Z0),vt(p,J0,p),ee(p,ev,p);const m=vt(n,X0,XD,{[GD]:!0});ee(m,"#"),vt(m,X0,m),ee(m,WQ,m);const y=ee(m,KQ);ee(y,"#"),vt(y,X0,m);const x=[[Ls,a],[Ps,s]],S=[[Ls,null],[tu,c],[Ps,o]];for(let w=0;w<rh.length;w++)Ai(n,rh[w],k1,Bs,x);for(let w=0;w<sh.length;w++)Ai(n,sh[w],T1,C1,S);Io(k1,{tld:!0,ascii:!0},e),Io(T1,{utld:!0,alpha:!0},e),Ai(n,"file",Ah,Bs,x),Ai(n,"mailto",Ah,Bs,x),Ai(n,"http",cl,Bs,x),Ai(n,"https",cl,Bs,x),Ai(n,"ftp",cl,Bs,x),Ai(n,"ftps",cl,Bs,x),Io(Ah,{scheme:!0,ascii:!0},e),Io(cl,{slashscheme:!0,ascii:!0},e),t=t.sort((w,C)=>w[0]>C[0]?1:-1);for(let w=0;w<t.length;w++){const C=t[w][0],_=t[w][1]?{[FQ]:!0}:{[qQ]:!0};C.indexOf("-")>=0?_[w1]=!0:Ls.test(C)?Ps.test(C)?_[yu]=!0:_[x1]=!0:_[b1]=!0,jE(n,C,C,_)}return jE(n,"localhost",Gu,{ascii:!0}),n.jd=new Ln(Up),{start:n,tokens:Object.assign({groups:e},JD)}}function ZD(t,e){const n=XQ(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,s=[];let o=0,a=0;for(;a<r;){let c=t,d=null,f=0,p=null,m=-1,y=-1;for(;a<r&&(d=c.go(n[a]));)c=d,c.accepts()?(m=0,y=0,p=c):m>=0&&(m+=n[a].length,y++),f+=n[a].length,o+=n[a].length,a++;o-=m,a-=y,f-=m,s.push({t:p.t,v:e.slice(o-f,o),s:o-f,e:o})}return s}function XQ(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),o,a=s<55296||s>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Ai(t,e,n,r,s){let o;const a=e.length;for(let c=0;c<a-1;c++){const d=e[c];t.j[d]?o=t.j[d]:(o=new Ln(r),o.jr=s.slice(),t.j[d]=o),t=o}return o=new Ln(n),o.jr=s.slice(),t.j[e[a-1]]=o,o}function PE(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let o=0;for(;s.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Wu={defaultProtocol:"http",events:null,format:zE,formatHref:zE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function _x(t,e=null){let n=Object.assign({},Wu);t&&(n=Object.assign(n,t instanceof _x?t.o:t));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}_x.prototype={o:Wu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Wu[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function zE(t){return t}function eR(t,e){this.t="token",this.v=t,this.tk=e}eR.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Wu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),a={},c=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,c&&(a.class=c),d&&(a.target=d),f&&(a.rel=f),p&&Object.assign(a,p),{tagName:s,attributes:a,content:o,eventListeners:m}}};function jm(t,e){class n extends eR{constructor(s,o){super(s,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const BE=jm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),IE=jm("text"),JQ=jm("nl"),ih=jm("url",{isLink:!0,toHref(t=Wu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Gu&&t[1].t===Bi}}),mr=t=>new Ln(t);function ZQ({groups:t}){const e=t.domain.concat([Op,Np,Li,Dp,Rp,jp,Lp,Pp,yr,xx,xu,zp,Bp,Ip,is,Up,wu,Vp]),n=[Ap,Bi,wx,ss,Cx,xu,Su,kx,Tx,bp,xp,vu,bu,gp,mp,yp,vp,Sp,wp,Cp,kp,Tp,_p,Ep,Mp],r=[Op,Ap,Np,Dp,Rp,jp,Lp,Pp,yr,vu,bu,xu,zp,Bp,Ip,Su,is,Up,wu,Vp],s=mr(),o=ee(s,wu);_e(o,r,o),_e(o,t.domain,o);const a=mr(),c=mr(),d=mr();_e(s,t.domain,a),_e(s,t.scheme,c),_e(s,t.slashscheme,d),_e(a,r,o),_e(a,t.domain,a);const f=ee(a,Li);ee(o,Li,f),ee(c,Li,f),ee(d,Li,f);const p=ee(o,ss);_e(p,r,o),_e(p,t.domain,o);const m=mr();_e(f,t.domain,m),_e(m,t.domain,m);const y=ee(m,ss);_e(y,t.domain,m);const x=mr(BE);_e(y,t.tld,x),_e(y,t.utld,x),ee(f,Gu,x);const S=ee(m,yr);ee(S,yr,S),_e(S,t.domain,m),_e(x,t.domain,m),ee(x,ss,y),ee(x,yr,S);const w=ee(x,Bi);_e(w,t.numeric,BE);const C=ee(a,yr),k=ee(a,ss);ee(C,yr,C),_e(C,t.domain,a),_e(k,r,o),_e(k,t.domain,a);const _=mr(ih);_e(k,t.tld,_),_e(k,t.utld,_),_e(_,t.domain,a),_e(_,r,o),ee(_,ss,k),ee(_,yr,C),ee(_,Li,f);const A=ee(_,Bi),N=mr(ih);_e(A,t.numeric,N);const O=mr(ih),j=mr();_e(O,e,O),_e(O,n,j),_e(j,e,O),_e(j,n,j),ee(_,is,O),ee(N,is,O);const P=ee(c,Bi),D=ee(d,Bi),H=ee(D,is),X=ee(H,is);_e(c,t.domain,a),ee(c,ss,k),ee(c,yr,C),_e(d,t.domain,a),ee(d,ss,k),ee(d,yr,C),_e(P,t.domain,O),ee(P,is,O),ee(P,Su,O),_e(X,t.domain,O),_e(X,e,O),ee(X,is,O);const Z=[[vu,bu],[mp,gp],[yp,vp],[bp,xp],[Sp,wp],[Cp,kp],[Tp,_p],[Ep,Mp]];for(let ce=0;ce<Z.length;ce++){const[Ie,Ae]=Z[ce],Ee=ee(O,Ie);ee(j,Ie,Ee),ee(Ee,Ae,O);const q=mr(ih);_e(Ee,e,q);const Y=mr();_e(Ee,n),_e(q,e,q),_e(q,n,Y),_e(Y,e,q),_e(Y,n,Y),ee(q,Ae,O),ee(Y,Ae,O)}return ee(s,Gu,_),ee(s,Sx,JQ),{start:s,tokens:JD}}function eX(t,e,n){let r=n.length,s=0,o=[],a=[];for(;s<r;){let c=t,d=null,f=null,p=0,m=null,y=-1;for(;s<r&&!(d=c.go(n[s].t));)a.push(n[s++]);for(;s<r&&(f=d||c.go(n[s].t));)d=null,c=f,c.accepts()?(y=0,m=c):y>=0&&y++,s++,p++;if(y<0)s-=p,s<r&&(a.push(n[s]),s++);else{a.length>0&&(o.push(tv(IE,e,a)),a=[]),s-=y,p-=y;const x=m.t,S=n.slice(s-p,s);o.push(tv(x,e,S))}}return a.length>0&&o.push(tv(IE,e,a)),o}function tv(t,e,n){const r=n[0].s,s=n[n.length-1].e,o=e.slice(r,s);return new t(o,n)}const tX=typeof console<"u"&&console&&console.warn||(()=>{}),nX="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",st={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rX(){return Ln.groups={},st.scanner=null,st.parser=null,st.tokenQueue=[],st.pluginQueue=[],st.customSchemes=[],st.initialized=!1,st}function VE(t,e=!1){if(st.initialized&&tX(`linkifyjs: already initialized - will not register custom scheme "${t}" ${nX}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);st.customSchemes.push([t,e])}function sX(){st.scanner=QQ(st.customSchemes);for(let t=0;t<st.tokenQueue.length;t++)st.tokenQueue[t][1]({scanner:st.scanner});st.parser=ZQ(st.scanner.tokens);for(let t=0;t<st.pluginQueue.length;t++)st.pluginQueue[t][1]({scanner:st.scanner,parser:st.parser});return st.initialized=!0,st}function Ex(t){return st.initialized||sX(),eX(st.parser.start,t,ZD(st.scanner.start,t))}Ex.scan=ZD;function tR(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new _x(n),s=Ex(t),o=[];for(let a=0;a<s.length;a++){const c=s[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var Mx="[\0- -\u2029]",iX=new RegExp(Mx),oX=new RegExp(`${Mx}$`),aX=new RegExp(Mx,"g");function lX(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function cX(t){return new _t({key:new Qt("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!s||o)return;const{tr:a}=r,c=wD(n.doc,[...e]);if(OD(c).forEach(({newRange:f})=>{const p=GW(r.doc,f,x=>x.isTextblock);let m,y;if(p.length>1)m=p[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const x=r.doc.textBetween(f.from,f.to," "," ");if(!oX.test(x))return;m=p[0],y=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&y){const x=y.split(iX).filter(Boolean);if(x.length<=0)return!1;const S=x[x.length-1],w=m.pos+y.lastIndexOf(S);if(!S)return!1;const C=Ex(S).map(k=>k.toObject(t.defaultProtocol));if(!lX(C))return!1;C.filter(k=>k.isLink).map(k=>({...k,from:w+k.start+1,to:w+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>t.validate(k.value)).filter(k=>t.shouldAutoLink(k.value)).forEach(k=>{gx(k.from,k.to,r.doc).some(_=>_.mark.type===t.type)||a.addMark(k.from,k.to,t.type.create({href:k.href}))})}}),!!a.steps.length)return a}})}function uX(t){return new _t({key:new Qt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;a=m.find(y=>y.nodeName==="A")}if(!a)return!1;const c=MD(e.state,t.type.name),d=(s=a?.href)!=null?s:c.href,f=(o=a?.target)!=null?o:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&d?(window.open(d,f),!0):!1}}})}function dX(t){return new _t({key:new Qt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let c="";r.content.forEach(f=>{c+=f.textContent});const d=tR(c,{defaultProtocol:t.defaultProtocol}).find(f=>f.isLink&&f.value===c);return!c||!d?!1:t.editor.commands.setMark(t.type,{href:d.href})}}})}function _o(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(aX,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var fX=ua.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){VE(t);return}VE(t.scheme,t.optionalSlashes)})},onDestroy(){rX()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!_o(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!_o(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!_o(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Pt(this.options.HTMLAttributes,t),0]:["a",Pt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!_o(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!_o(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[aa({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=tR(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!_o(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(cX({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!_o(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(uX({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(dX({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),hX=Object.defineProperty,pX=(t,e)=>{for(var n in e)hX(t,n,{get:e[n],enumerable:!0})},mX="listItem",UE="textStyle",HE=/^\s*([-+*])\s$/,nR=sr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mX,this.editor.getAttributes(UE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Al({find:HE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Al({find:HE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(UE),editor:this.editor})),[t]}}),rR=sr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Pt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),gX={};pX(gX,{findListItemPos:()=>gd,getNextListDepth:()=>Ox,handleBackspace:()=>E1,handleDelete:()=>M1,hasListBefore:()=>sR,hasListItemAfter:()=>yX,hasListItemBefore:()=>iR,listItemHasSubList:()=>oR,nextListIsDeeper:()=>aR,nextListIsHigher:()=>lR});var gd=(t,e)=>{const{$from:n}=e.selection,r=Lt(t,e.schema);let s=null,o=n.depth,a=n.pos,c=null;for(;o>0&&c===null;)s=n.node(o),s.type===r?c=o:(o-=1,a-=1);return c===null?null:{$pos:e.doc.resolve(a),depth:c}},Ox=(t,e)=>{const n=gd(t,e);if(!n)return!1;const[,r]=rK(e,t,n.$pos.pos+4);return r},sR=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},iR=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},oR=(t,e,n)=>{if(!n)return!1;const r=Lt(t,e.schema);let s=!1;return n.descendants(o=>{o.type===r&&(s=!0)}),s},E1=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Ji(t.state,e)&&sR(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),f=[];d.node().descendants((y,x)=>{y.type.name===e&&f.push({node:y,pos:x})});const p=f.at(-1);if(!p)return!1;const m=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!Ji(t.state,e)||!aK(t.state))return!1;const r=gd(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=oR(e,t.state,o);return iR(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},aR=(t,e)=>{const n=Ox(t,e),r=gd(t,e);return!r||!n?!1:n>r.depth},lR=(t,e)=>{const n=Ox(t,e),r=gd(t,e);return!r||!n?!1:n<r.depth},M1=(t,e)=>{if(!Ji(t.state,e)||!oK(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:aR(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():lR(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},yX=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},cR=zt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&M1(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&M1(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&E1(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&E1(t,n,r)&&(e=!0)}),e}}}}),vX="listItem",$E="textStyle",FE=/^(\d+)\.\s$/,uR=sr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Pt(this.options.HTMLAttributes,n),0]:["ol",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(vX,this.editor.getAttributes($E)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Al({find:FE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Al({find:FE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes($E)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),bX=/^\s*(\[([( |x])?\])\s$/,xX=sr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Pt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=p=>{var m,y;c.ariaLabel=((y=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:y.call(m,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return f(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const x=n();if(typeof x!="number")return!1;const S=y.doc.nodeAt(x);return y.setNodeMarkup(x,void 0,{...S?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{s.setAttribute(p,m)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,a),s.append(o,d),Object.entries(e).forEach(([p,m])=>{s.setAttribute(p,m)}),{dom:s,contentDOM:d,update:p=>p.type!==this.type?!1:(s.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,f(p),!0)}}},addInputRules(){return[Al({find:bX,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),SX=sr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});zt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(nR.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(rR.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(cR.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(uR.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(xX.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(SX.configure(this.options.taskList)),t}});var wX=sr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),CX=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,kX=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,TX=ua.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ol({find:CX,type:this.type})]},addPasteRules(){return[aa({find:kX,type:this.type})]}}),_X=sr.create({name:"text",group:"inline"}),dR=ua.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),EX=dR;function MX(t={}){return new _t({view(e){return new OX(e,t)}})}class OX{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=a=>{this[s](a)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),a=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let S=x.getBoundingClientRect(),w=m?S.bottom:S.top;m&&y&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let C=this.width/2*c;r={left:S.left,right:S.right,top:w-C,bottom:w+C}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*a;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),y=m.width/d.offsetWidth,x=m.height/d.offsetHeight;f=m.left-d.scrollLeft*y,p=m.top-d.scrollTop*x}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=pN(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class kt extends Te{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return kt.valid(r)?new kt(r):Te.near(r)}content(){return oe.empty}eq(e){return e instanceof kt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new kt(e.resolve(n.pos))}getBookmark(){return new Ax(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!AX(e)||!NX(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&kt.valid(e))return e;let s=e.pos,o=null;for(let a=e.depth;;a--){let c=e.node(a);if(n>0?e.indexAfter(a)<c.childCount:e.index(a)>0){o=c.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let d=e.doc.resolve(s);if(kt.valid(d))return d}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!pe.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=a,s+=n;let c=e.doc.resolve(s);if(kt.valid(c))return c}return null}}}kt.prototype.visible=!1;kt.findFrom=kt.findGapCursorFrom;Te.jsonID("gapcursor",kt);class Ax{constructor(e){this.pos=e}map(e){return new Ax(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return kt.valid(n)?new kt(n):Te.near(n)}}function AX(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function NX(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function DX(){return new _t({props:{decorations:PX,createSelectionBetween(t,e,n){return e.pos==n.pos&&kt.valid(n)?new kt(n):null},handleClick:jX,handleKeyDown:RX,handleDOMEvents:{beforeinput:LX}}})}const RX=pD({ArrowLeft:oh("horiz",-1),ArrowRight:oh("horiz",1),ArrowUp:oh("vert",-1),ArrowDown:oh("vert",1)});function oh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let a=r.selection,c=e>0?a.$to:a.$from,d=a.empty;if(a instanceof xe){if(!o.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=kt.findGapCursorFrom(c,e,d);return f?(s&&s(r.tr.setSelection(new kt(f))),!0):!1}}function jX(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!kt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new kt(r))),!0)}function LX(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof kt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=J.empty;for(let a=r.length-1;a>=0;a--)s=J.from(r[a].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new oe(s,0,0));return o.setSelection(xe.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function PX(t){if(!(t.selection instanceof kt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ht.create(t.doc,[Cn.widget(t.selection.head,e,{key:"gapcursor"})])}var Hp=200,Kt=function(){};Kt.prototype.append=function(e){return e.length?(e=Kt.from(e),!this.length&&e||e.length<Hp&&this.leafAppend(e)||this.length<Hp&&e.leafPrepend(this)||this.appendInner(e)):this};Kt.prototype.prepend=function(e){return e.length?Kt.from(e).append(this):this};Kt.prototype.appendInner=function(e){return new zX(this,e)};Kt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Kt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Kt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Kt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Kt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,a){return s.push(e(o,a))},n,r),s};Kt.from=function(e){return e instanceof Kt?e:e&&e.length?new fR(e):Kt.empty};var fR=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,a,c){for(var d=o;d<a;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,a,c){for(var d=o-1;d>=a;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Hp)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Hp)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Kt);Kt.empty=new fR([]);var zX=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),a)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,a+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Kt);const BX=500;class Lr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let a=e.tr,c,d,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),o=s.maps.length),o--,p.push(m);return}if(s){p.push(new as(m.map));let x=m.step.map(s.slice(o)),S;x&&a.maybeStep(x).doc&&(S=a.mapping.maps[a.mapping.maps.length-1],f.push(new as(S,void 0,void 0,f.length+p.length))),o--,S&&s.appendMap(S,o)}else a.maybeStep(m.step);if(m.selection)return c=s?m.selection.map(s.slice(o)):m.selection,d=new Lr(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:c}}addTransform(e,n,r,s){let o=[],a=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new as(e.mapping.maps[p],m,n),x;(x=d&&d.merge(y))&&(y=x,p?o.pop():c=c.slice(0,c.length-1)),o.push(y),n&&(a++,n=void 0),s||(d=y)}let f=a-r.depth;return f>VX&&(c=IX(c,f),a-=f),new Lr(c.append(o),a)}remapping(e,n){let r=new Vu;return this.items.forEach((s,o)=>{let a=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Lr(this.items.append(e.map(n=>new as(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},s);let d=n;this.items.forEach(y=>{let x=o.getMirror(--d);if(x==null)return;a=Math.min(a,x);let S=o.maps[x];if(y.step){let w=e.steps[x].invert(e.docs[x]),C=y.selection&&y.selection.map(o.slice(d+1,x));C&&c++,r.push(new as(S,w,C))}else r.push(new as(S))},s);let f=[];for(let y=n;y<a;y++)f.push(new as(o.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new Lr(p,c);return m.emptyItemCount()>BX&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],o=0;return this.items.forEach((a,c)=>{if(c>=e)s.push(a),a.selection&&o++;else if(a.step){let d=a.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=a.selection&&a.selection.map(n.slice(r));p&&o++;let m=new as(f.invert(),d,p),y,x=s.length-1;(y=s.length&&s[x].merge(m))?s[x]=y:s.push(m)}}else a.map&&r--},this.items.length,0),new Lr(Kt.from(s.reverse()),o)}}Lr.empty=new Lr(Kt.empty,0);function IX(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class as{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new as(n.getMap().invert(),n,this.selection)}}}class Pi{constructor(e,n,r,s,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const VX=20;function UX(t,e,n,r){let s=n.getMeta(Wo),o;if(s)return s.historyState;n.getMeta(FX)&&(t=new Pi(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Wo))return a.getMeta(Wo).redo?new Pi(t.done.addTransform(n,void 0,r,Nh(e)),t.undone,qE(n.mapping.maps),t.prevTime,t.prevComposition):new Pi(t.done,t.undone.addTransform(n,void 0,r,Nh(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!a&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!HX(n,t.prevRanges)),f=a?nv(t.prevRanges,n.mapping):qE(n.mapping.maps);return new Pi(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Nh(e)),Lr.empty,f,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Pi(t.done.rebased(n,o),t.undone.rebased(n,o),nv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Pi(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),nv(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function HX(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function qE(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,o,a)=>e.push(o,a));return e}function nv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}function $X(t,e,n){let r=Nh(e),s=Wo.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),d=new Pi(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(a).setMeta(Wo,{redo:n,historyState:d})}let rv=!1,YE=null;function Nh(t){let e=t.plugins;if(YE!=e){rv=!1,YE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){rv=!0;break}}return rv}const Wo=new Qt("history"),FX=new Qt("closeHistory");function qX(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new _t({key:Wo,state:{init(){return new Pi(Lr.empty,Lr.empty,null,0,-1)},apply(e,n,r){return UX(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?pR:r=="historyRedo"?mR:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function hR(t,e){return(n,r)=>{let s=Wo.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let o=$X(s,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const pR=hR(!1,!0),mR=hR(!0,!0);zt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new _t({key:new Qt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const a=o-s,c=0,d=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=o-r,f=c-d,p=c;return e.deleteRange(f,p),!(this.storage.characters({node:e.doc})>r)}})]}});var YX=zt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[MX(this.options)]}});zt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new _t({key:new Qt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!n||!r)return ht.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((d,f)=>{if(d.isText)return;if(!(s>=f&&s<=f+d.nodeSize-1))return!1;a+=1});let c=0;return t.descendants((d,f)=>{if(d.isText||!(s>=f&&s<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&a-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(Cn.node(f,f+d.nodeSize,{class:this.options.className}))}),ht.create(t,o)}}})]}});var gR=zt.create({name:"gapCursor",addProseMirrorPlugins(){return[DX()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=We(fe(t,"allowGapCursor",n)))!=null?e:null}}}),GX=zt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new _t({key:new Qt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((a,c)=>{const d=r>=c&&r<=c+a.nodeSize,f=!a.isLeaf&&Nm(a);if((d||!this.options.showOnlyCurrent)&&f){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=Cn.node(c,c+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:d}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),ht.create(t,s)}}})]}});zt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new _t({key:new Qt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||AD(n.selection)||t.view.dragging?null:ht.create(n.doc,[Cn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function GE({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var WX=zt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Qt(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new _t({key:e,appendTransaction:(s,o,a)=>{const{doc:c,tr:d,schema:f}=a,p=e.getState(a),m=c.content.size,y=f.nodes[n];if(p)return d.insert(m,y.create())},state:{init:(s,o)=>{const a=o.tr.doc.lastChild;return!GE({node:a,types:r})},apply:(s,o)=>{if(!s.docChanged)return o;const a=s.doc.lastChild;return!GE({node:a,types:r})}}})]}}),KX=zt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>pR(t,e),redo:()=>({state:t,dispatch:e})=>mR(t,e)}},addProseMirrorPlugins(){return[qX(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),QX=zt.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(_Q.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(SQ.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(nR.configure(this.options.bulletList)),this.options.code!==!1&&s.push(OQ.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(DQ.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(RQ.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(YX.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(gR.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(jQ.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(LQ.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(KX.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(PQ.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(UQ.configure(this.options.italic)),this.options.listItem!==!1&&s.push(rR.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(cR.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(fX.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(uR.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(wX.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(TX.configure(this.options.strike)),this.options.text!==!1&&s.push(_X.configure(this.options.text)),this.options.underline!==!1&&s.push(dR.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(WX.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),yR=QX,XX=gR,JX=GX;const ZX="_textareaContainer_nop6e_1",eJ="_textarea_nop6e_1",tJ="_editorWrapper_nop6e_113",sv={textareaContainer:ZX,textarea:eJ,editorWrapper:tJ},nJ="_toolbarContainer_1jhs2_1",rJ="_iconButton_1jhs2_33",sJ="_selected_1jhs2_83",iv={toolbarContainer:nJ,iconButton:rJ,selected:sJ};function vR({editor:t}){const[e,n]=M.useState(!1),[r,s]=M.useState(!1),[o,a]=M.useState(!1);M.useEffect(()=>{if(!t)return;const f=()=>{n(t.isActive("bold")),s(t.isActive("italic")),a(t.isActive("underline"))};return t.on("selectionUpdate",f),t.on("transaction",f),()=>{t.off("selectionUpdate",f),t.off("transaction",f)}},[t]);const c=f=>{if(t)switch(f){case"bold":t.chain().focus().toggleBold().run(),n(!e);break;case"italic":t.chain().focus().toggleItalic().run(),s(!r);break;case"underline":t.chain().focus().toggleUnderline().run(),a(!o);break}},d=({onClick:f,children:p,selected:m=!1})=>v.jsx("button",{className:`${iv.iconButton} ${m?iv.selected:""}`,onClick:f,children:p});return v.jsxs("div",{className:iv.toolbarContainer,children:[v.jsx(d,{onClick:()=>c("bold"),selected:e,children:v.jsx(lI,{size:16})}),v.jsx(d,{onClick:()=>c("italic"),selected:r,children:v.jsx(UI,{size:16})}),v.jsx(d,{onClick:()=>c("underline"),selected:o,children:v.jsx(_V,{size:16})}),v.jsx(d,{onClick:()=>t?.chain().focus().toggleBulletList().run(),selected:t?.isActive("bulletList"),children:v.jsx(OO,{size:16})}),v.jsx(d,{onClick:()=>t?.chain().focus().toggleOrderedList().run(),selected:t?.isActive("orderedList"),children:v.jsx(QI,{size:16})}),v.jsx(d,{onClick:()=>t?.chain().focus().toggleHeading({level:2}).run(),selected:t?.isActive("heading",{level:2}),children:"Header"})]})}function bR({content:t="",onChange:e}){const n=M.useRef(""),r=M.useRef(!1),s=gQ({extensions:[yR.configure({heading:{levels:[1,2,3]}}),EX,XX,JX.configure({placeholder:"Brja skriv ny anteckning",showOnlyWhenEditable:!0,includeChildren:!0,emptyNodeClass:"placeholder"})],content:t,editorProps:{attributes:{class:`ProseMirror ${sv.textarea}`,style:"outline: none; box-shadow: none;"}},autofocus:"start",onUpdate:({editor:o})=>{if(r.current){r.current=!1;return}const a=o.getHTML();a!==n.current&&(n.current=a,e?.(a))}});return v.jsxs("div",{className:sv.editorWrapper,children:[v.jsx(vR,{editor:s}),v.jsx("div",{className:sv.textareaContainer,children:v.jsx(cQ,{editor:s})})]})}const iJ="_toolbarContainer_1hmza_1",oJ="_iconButton_1hmza_37",WE={toolbarContainer:iJ,iconButton:oJ};function xR({onClose:t}){const e=({icon:n,onClick:r,disabled:s})=>v.jsx("button",{className:WE.iconButton,onClick:r,disabled:s,children:n});return v.jsx("div",{className:WE.toolbarContainer,children:v.jsx(e,{icon:v.jsx(Il,{size:20,color:"#fa0c0cff"}),onClick:t})})}const aJ="_wrapper_7p88f_1",lJ="_button_7p88f_15",cJ="_text_7p88f_53",uJ="_pending_7p88f_77",dJ="_success_7p88f_79",fJ="_fail_7p88f_81",Za={wrapper:aJ,button:lJ,text:cJ,pending:uJ,success:dJ,fail:fJ};function Wr({onSave:t}){const[e,n]=M.useState("idle"),r=async()=>{try{n("pending");const s=await t();n(s?"success":"fail")}catch{n("fail")}setTimeout(()=>n("idle"),2e3)};return v.jsx("div",{className:Za.wrapper,children:v.jsx("button",{className:`${Za.button} ${e==="pending"?Za.pending:e==="success"?Za.success:e==="fail"?Za.fail:""}`,onClick:r,disabled:e!=="idle",children:v.jsx("span",{className:Za.text,children:"Spara"})})})}const hJ="_outerContainer_vlup6_1",pJ="_innerContainer_vlup6_21",mJ="_shrunk_vlup6_51",gJ="_subjectSelection_vlup6_61",yJ="_subjectListWrapper_vlup6_75",vJ="_collapseBtn_vlup6_91",bJ="_changeSubjectBtn_vlup6_131",xJ="_horizontalDivider_vlup6_169",SJ="_expanded_vlup6_191",wJ="_collapsed_vlup6_199",CJ="_saveButtonWrapper_vlup6_219",rn={outerContainer:hJ,innerContainer:pJ,shrunk:mJ,subjectSelection:gJ,subjectListWrapper:yJ,collapseBtn:vJ,changeSubjectBtn:bJ,horizontalDivider:xJ,expanded:SJ,collapsed:wJ,saveButtonWrapper:CJ};function kJ({onSave:t,onClose:e,subject:n,setSubject:r,noteContent:s,setNoteContent:o}){const c=mt(x=>x.preferences).subjects||[],d=Array.isArray(c)?c.map(x=>typeof x=="string"?x:x.courseName):[],[f,p]=M.useState(!n);M.useEffect(()=>{p(!n)},[n]);const m=()=>{r(""),o(""),p(!0),e?.()},y=async()=>{const x=await t(n,s);return x&&m(),x};return v.jsx("div",{className:rn.outerContainer,children:v.jsxs("div",{className:rn.innerContainer,children:[v.jsx(xR,{subject:n,note:s,onSave:t,onClose:m}),v.jsx("div",{className:rn.subjectSelection,children:f?v.jsx("div",{className:rn.subjectListWrapper,children:v.jsx(zu,{title:"",options:d,selected:n,onSelect:x=>{r(x),p(!1)},collapsed:!1})}):v.jsxs(v.Fragment,{children:[v.jsx(zu,{title:"",options:[],selected:n,onSelect:r,collapsed:!0}),v.jsx("button",{className:rn.changeSubjectBtn,onClick:()=>p(!0),children:"ndra mne"}),v.jsx("div",{className:rn.saveButtonWrapper,children:v.jsx(Wr,{onSave:y})})]})}),v.jsx("div",{className:`${rn.horizontalDivider} ${f?rn.expanded:rn.collapsed}`}),v.jsx(bR,{content:s,onChange:o})]})})}function SR(){const t=Mn(),e=M.useRef(null),n=Mr({mutationFn:({noteId:s,data:o})=>k7(o,s),onSuccess:s=>{t.setQueryData(["note",s.id],s),t.invalidateQueries({queryKey:["notes"]})}});return{editNote:(s,o,a=1500)=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{n.mutate({noteId:s,data:o})},a)},status:n.status,isLoading:n.status==="pending",isError:n.status==="error",error:n.error??null}}function TJ({noteId:t,initialSubject:e,initialNote:n,onClose:r}){const o=mt(A=>A.preferences).subjects||[],a=Array.isArray(o)?o.map(A=>typeof A=="string"?A:A.courseName):[],[c,d]=M.useState(e),[f,p]=M.useState(n),[m,y]=M.useState(!!e),{editNote:x,isLoading:S,status:w,isError:C,error:k}=SR();M.useEffect(()=>{x(t,{subject:c,note:f})},[c,f,t]),M.useEffect(()=>{y(!!c)},[c]);const _=()=>{x(t,{subject:c,note:f})};return v.jsxs("div",{className:rn.outerContainer,children:[v.jsx("div",{className:`${rn.headerBox} ${m?"":rn.open}`,children:!m&&v.jsx(zu,{title:"Vlj mne",options:a,selected:c,onSelect:d})}),v.jsx("div",{className:rn.collapseWrapper,children:v.jsx("button",{className:rn.collapseBtn,onClick:()=>y(!m),children:m?"Vlj mne":v.jsx(Il,{size:20})})}),v.jsxs("div",{className:`${rn.innerContainer} ${m?"":rn.shrunk}`,children:[v.jsx(xR,{subject:c,note:f,onSave:_,onClose:r||(()=>p(""))}),v.jsx(zu,{title:"",options:m?null:a,selected:c,onSelect:d,collapsed:!0}),v.jsx("div",{className:rn.horizontalDivider}),v.jsx(bR,{content:f,onChange:p}),v.jsxs("p",{style:{fontSize:"0.8rem",color:"#aaa",marginTop:"0.5rem"},children:[S&&"Sparar...",w==="success"&&"Sparad",C&&k?.message&&`Fel vid sparning: ${k.message}`]})]})]})}const Nx=M.createContext({});function Dx(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rx=typeof window<"u",wR=Rx?M.useLayoutEffect:M.useEffect,Lm=M.createContext(null);function jx(t,e){t.indexOf(e)===-1&&t.push(e)}function Lx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Zs=(t,e,n)=>n>e?e:n<t?t:n;let Px=()=>{};const ei={},CR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kR(t){return typeof t=="object"&&t!==null}const TR=t=>/^0[^.\s]+$/u.test(t);function zx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Tr=t=>t,_J=(t,e)=>n=>e(t(n)),yd=(...t)=>t.reduce(_J),Ku=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Bx{constructor(){this.subscriptions=[]}add(e){return jx(this.subscriptions,e),()=>Lx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cs=t=>t*1e3,Cr=t=>t/1e3;function _R(t,e){return e?t*(1e3/e):0}const ER=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,EJ=1e-7,MJ=12;function OJ(t,e,n,r,s){let o,a,c=0;do a=e+(n-e)/2,o=ER(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>EJ&&++c<MJ);return a}function vd(t,e,n,r){if(t===e&&n===r)return Tr;const s=o=>OJ(o,0,1,t,n);return o=>o===0||o===1?o:ER(s(o),e,r)}const MR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OR=t=>e=>1-t(1-e),AR=vd(.33,1.53,.69,.99),Ix=OR(AR),NR=MR(Ix),DR=t=>(t*=2)<1?.5*Ix(t):.5*(2-Math.pow(2,-10*(t-1))),Vx=t=>1-Math.sin(Math.acos(t)),RR=OR(Vx),jR=MR(Vx),AJ=vd(.42,0,1,1),NJ=vd(0,0,.58,1),LR=vd(.42,0,.58,1),DJ=t=>Array.isArray(t)&&typeof t[0]!="number",PR=t=>Array.isArray(t)&&typeof t[0]=="number",RJ={linear:Tr,easeIn:AJ,easeInOut:LR,easeOut:NJ,circIn:Vx,circInOut:jR,circOut:RR,backIn:Ix,backInOut:NR,backOut:AR,anticipate:DR},jJ=t=>typeof t=="string",KE=t=>{if(PR(t)){Px(t.length===4);const[e,n,r,s]=t;return vd(e,n,r,s)}else if(jJ(t))return RJ[t];return t},ah=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function LJ(t,e){let n=new Set,r=new Set,s=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,m=!1,y=!1)=>{const S=y&&s?n:r;return m&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(c=p,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,f.process(p))}};return f}const PJ=40;function zR(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=ah.reduce((A,N)=>(A[N]=LJ(o),A),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:y,render:x,postRender:S}=a,w=()=>{const A=ei.useManualTiming?s.timestamp:performance.now();n=!1,ei.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,PJ),1)),s.timestamp=A,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),p.process(s),m.process(s),y.process(s),x.process(s),S.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(w))},C=()=>{n=!0,r=!0,s.isProcessing||t(w)};return{schedule:ah.reduce((A,N)=>{const O=a[N];return A[N]=(j,P=!1,D=!1)=>(n||C(),O.schedule(j,P,D)),A},{}),cancel:A=>{for(let N=0;N<ah.length;N++)a[ah[N]].cancel(A)},state:s,steps:a}}const{schedule:ut,cancel:Zi,state:nn,steps:ov}=zR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0);let Dh;function zJ(){Dh=void 0}const Pn={now:()=>(Dh===void 0&&Pn.set(nn.isProcessing||ei.useManualTiming?nn.timestamp:performance.now()),Dh),set:t=>{Dh=t,queueMicrotask(zJ)}},BR=t=>e=>typeof e=="string"&&e.startsWith(t),Ux=BR("--"),BJ=BR("var(--"),Hx=t=>BJ(t)?IJ.test(t.split("/*")[0].trim()):!1,IJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qu={...Yl,transform:t=>Zs(0,1,t)},lh={...Yl,default:1},Cu=t=>Math.round(t*1e5)/1e5,$x=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VJ(t){return t==null}const UJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fx=(t,e)=>n=>!!(typeof n=="string"&&UJ.test(n)&&n.startsWith(t)||e&&!VJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),IR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,a,c]=r.match($x);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},HJ=t=>Zs(0,255,t),av={...Yl,transform:t=>Math.round(HJ(t))},Vo={test:Fx("rgb","red"),parse:IR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+av.transform(t)+", "+av.transform(e)+", "+av.transform(n)+", "+Cu(Qu.transform(r))+")"};function $J(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const O1={test:Fx("#"),parse:$J,transform:Vo.transform},bd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ri=bd("deg"),us=bd("%"),be=bd("px"),FJ=bd("vh"),qJ=bd("vw"),QE={...us,parse:t=>us.parse(t)/100,transform:t=>us.transform(t*100)},fl={test:Fx("hsl","hue"),parse:IR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+us.transform(Cu(e))+", "+us.transform(Cu(n))+", "+Cu(Qu.transform(r))+")"},Rt={test:t=>Vo.test(t)||O1.test(t)||fl.test(t),parse:t=>Vo.test(t)?Vo.parse(t):fl.test(t)?fl.parse(t):O1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vo.transform(t):fl.transform(t),getAnimatableNone:t=>{const e=Rt.parse(t);return e.alpha=0,Rt.transform(e)}},YJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GJ(t){return isNaN(t)&&typeof t=="string"&&(t.match($x)?.length||0)+(t.match(YJ)?.length||0)>0}const VR="number",UR="color",WJ="var",KJ="var(",XE="${}",QJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(QJ,d=>(Rt.test(d)?(r.color.push(o),s.push(UR),n.push(Rt.parse(d))):d.startsWith(KJ)?(r.var.push(o),s.push(WJ),n.push(d)):(r.number.push(o),s.push(VR),n.push(parseFloat(d))),++o,XE)).split(XE);return{values:n,split:c,indexes:r,types:s}}function HR(t){return Xu(t).values}function $R(t){const{split:e,types:n}=Xu(t),r=e.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],s[a]!==void 0){const c=n[a];c===VR?o+=Cu(s[a]):c===UR?o+=Rt.transform(s[a]):o+=s[a]}return o}}const XJ=t=>typeof t=="number"?0:Rt.test(t)?Rt.getAnimatableNone(t):t;function JJ(t){const e=HR(t);return $R(t)(e.map(XJ))}const eo={test:GJ,parse:HR,createTransformer:$R,getAnimatableNone:JJ};function lv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ZJ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=lv(d,c,t+1/3),o=lv(d,c,t),a=lv(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function $p(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,cv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},eZ=[O1,Vo,fl],tZ=t=>eZ.find(e=>e.test(t));function JE(t){const e=tZ(t);if(!e)return!1;let n=e.parse(t);return e===fl&&(n=ZJ(n)),n}const ZE=(t,e)=>{const n=JE(t),r=JE(e);if(!n||!r)return $p(t,e);const s={...n};return o=>(s.red=cv(n.red,r.red,o),s.green=cv(n.green,r.green,o),s.blue=cv(n.blue,r.blue,o),s.alpha=pt(n.alpha,r.alpha,o),Vo.transform(s))},A1=new Set(["none","hidden"]);function nZ(t,e){return A1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rZ(t,e){return n=>pt(t,e,n)}function qx(t){return typeof t=="number"?rZ:typeof t=="string"?Hx(t)?$p:Rt.test(t)?ZE:oZ:Array.isArray(t)?FR:typeof t=="object"?Rt.test(t)?ZE:sZ:$p}function FR(t,e){const n=[...t],r=n.length,s=t.map((o,a)=>qx(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function sZ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=qx(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function iZ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],c=t.values[a]??0;n[s]=c,r[o]++}return n}const oZ=(t,e)=>{const n=eo.createTransformer(e),r=Xu(t),s=Xu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?A1.has(t)&&!s.values.length||A1.has(e)&&!r.values.length?nZ(t,e):yd(FR(iZ(r,s),s.values),n):$p(t,e)};function qR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):qx(t)(t,e)}const aZ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ut.update(e,n),stop:()=>Zi(e),now:()=>nn.isProcessing?nn.timestamp:Pn.now()}},YR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Fp=2e4;function Yx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fp;)e+=n,r=t.next(e);return e>=Fp?1/0:e}function lZ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Yx(r),Fp);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:Cr(s)}}const cZ=5;function GR(t,e,n){const r=Math.max(e-cZ,0);return _R(n-t(r),e-r)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uv=.001;function uZ({duration:t=Ct.duration,bounce:e=Ct.bounce,velocity:n=Ct.velocity,mass:r=Ct.mass}){let s,o,a=1-e;a=Zs(Ct.minDamping,Ct.maxDamping,a),t=Zs(Ct.minDuration,Ct.maxDuration,Cr(t)),a<1?(s=f=>{const p=f*a,m=p*t,y=p-n,x=N1(f,a),S=Math.exp(-m);return uv-y/x*S},o=f=>{const m=f*a*t,y=m*n+n,x=Math.pow(a,2)*Math.pow(f,2)*t,S=Math.exp(-m),w=N1(Math.pow(f,2),a);return(-s(f)+uv>0?-1:1)*((y-x)*S)/w}):(s=f=>{const p=Math.exp(-f*t),m=(f-n)*t+1;return-uv+p*m},o=f=>{const p=Math.exp(-f*t),m=(n-f)*(t*t);return p*m});const c=5/t,d=fZ(s,o,c);if(t=cs(t),isNaN(d))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const dZ=12;function fZ(t,e,n){let r=n;for(let s=1;s<dZ;s++)r=r-t(r)/e(r);return r}function N1(t,e){return t*Math.sqrt(1-e*e)}const hZ=["duration","bounce"],pZ=["stiffness","damping","mass"];function eM(t,e){return e.some(n=>t[n]!==void 0)}function mZ(t){let e={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...t};if(!eM(t,pZ)&&eM(t,hZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Zs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ct.mass,stiffness:s,damping:o}}else{const n=uZ(t);e={...e,...n,mass:Ct.mass},e.isResolvedFromDuration=!0}return e}function qp(t=Ct.visualDuration,e=Ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:m,velocity:y,isResolvedFromDuration:x}=mZ({...n,velocity:-Cr(n.velocity||0)}),S=y||0,w=f/(2*Math.sqrt(d*p)),C=a-o,k=Cr(Math.sqrt(d/p)),_=Math.abs(C)<5;r||(r=_?Ct.restSpeed.granular:Ct.restSpeed.default),s||(s=_?Ct.restDelta.granular:Ct.restDelta.default);let A;if(w<1){const O=N1(k,w);A=j=>{const P=Math.exp(-w*k*j);return a-P*((S+w*k*C)/O*Math.sin(O*j)+C*Math.cos(O*j))}}else if(w===1)A=O=>a-Math.exp(-k*O)*(C+(S+k*C)*O);else{const O=k*Math.sqrt(w*w-1);A=j=>{const P=Math.exp(-w*k*j),D=Math.min(O*j,300);return a-P*((S+w*k*C)*Math.sinh(D)+O*C*Math.cosh(D))/O}}const N={calculatedDuration:x&&m||null,next:O=>{const j=A(O);if(x)c.done=O>=m;else{let P=O===0?S:0;w<1&&(P=O===0?cs(S):GR(A,O,j));const D=Math.abs(P)<=r,H=Math.abs(a-j)<=s;c.done=D&&H}return c.value=c.done?a:j,c},toString:()=>{const O=Math.min(Yx(N),Fp),j=YR(P=>N.next(O*P).value,O,30);return O+"ms "+j},toTransition:()=>{}};return N}qp.applyToOptions=t=>{const e=lZ(t,100,qp);return t.ease=e.ease,t.duration=cs(e.duration),t.type="keyframes",t};function D1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:d,restDelta:f=.5,restSpeed:p}){const m=t[0],y={done:!1,value:m},x=D=>c!==void 0&&D<c||d!==void 0&&D>d,S=D=>c===void 0?d:d===void 0||Math.abs(c-D)<Math.abs(d-D)?c:d;let w=n*e;const C=m+w,k=a===void 0?C:a(C);k!==C&&(w=k-m);const _=D=>-w*Math.exp(-D/r),A=D=>k+_(D),N=D=>{const H=_(D),X=A(D);y.done=Math.abs(H)<=f,y.value=y.done?k:X};let O,j;const P=D=>{x(y.value)&&(O=D,j=qp({keyframes:[y.value,S(y.value)],velocity:GR(A,D,y.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return P(0),{calculatedDuration:null,next:D=>{let H=!1;return!j&&O===void 0&&(H=!0,N(D),P(D)),O!==void 0&&D>=O?j.next(D-O):(!H&&N(D),y)}}}function gZ(t,e,n){const r=[],s=n||ei.mix||qR,o=t.length-1;for(let a=0;a<o;a++){let c=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||Tr:e;c=yd(d,c)}r.push(c)}return r}function yZ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Px(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=gZ(e,r,s),d=c.length,f=p=>{if(a&&p<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=Ku(t[m],t[m+1],p);return c[m](y)};return n?p=>f(Zs(t[0],t[o-1],p)):f}function vZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ku(0,e,r);t.push(pt(n,1,s))}}function bZ(t){const e=[0];return vZ(e,t.length-1),e}function xZ(t,e){return t.map(n=>n*e)}function SZ(t,e){return t.map(()=>e||LR).splice(0,t.length-1)}function ku({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=DJ(r)?r.map(KE):KE(r),o={done:!1,value:e[0]},a=xZ(n&&n.length===e.length?n:bZ(e),t),c=yZ(a,e,{ease:Array.isArray(s)?s:SZ(e,s)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const wZ=t=>t!==null;function Gx(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(wZ),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const CZ={decay:D1,inertia:D1,tween:ku,keyframes:ku,spring:qp};function WR(t){typeof t.type=="string"&&(t.type=CZ[t.type])}class Wx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const kZ=t=>t/100;class Kx extends Wx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WR(e);const{type:n=ku,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const d=n||ku;d!==ku&&typeof c[0]!="number"&&(this.mixKeyframes=yd(kZ,qR(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=Yx(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:x,type:S,onUpdate:w,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,N=r;if(m){const D=Math.min(this.currentTime,s)/c;let H=Math.floor(D),X=D%1;!X&&D>=1&&(X=1),X===1&&H--,H=Math.min(H,m+1),!!(H%2)&&(y==="reverse"?(X=1-X,x&&(X-=x/c)):y==="mirror"&&(N=a)),A=Zs(0,1,X)*c}const O=_?{done:!1,value:p[0]}:N.next(A);o&&(O.value=o(O.value));let{done:j}=O;!_&&d!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return P&&S!==D1&&(O.value=Gx(p,this.options,C,this.speed)),w&&w(O.value),P&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return Cr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(this.currentTime)}set time(e){e=cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=aZ,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function TZ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Uo=t=>t*180/Math.PI,R1=t=>{const e=Uo(Math.atan2(t[1],t[0]));return j1(e)},_Z={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:R1,rotateZ:R1,skewX:t=>Uo(Math.atan(t[1])),skewY:t=>Uo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},j1=t=>(t=t%360,t<0&&(t+=360),t),tM=R1,nM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),EZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nM,scaleY:rM,scale:t=>(nM(t)+rM(t))/2,rotateX:t=>j1(Uo(Math.atan2(t[6],t[5]))),rotateY:t=>j1(Uo(Math.atan2(-t[2],t[0]))),rotateZ:tM,rotate:tM,skewX:t=>Uo(Math.atan(t[4])),skewY:t=>Uo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function L1(t){return t.includes("scale")?1:0}function P1(t,e){if(!t||t==="none")return L1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=EZ,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_Z,s=c}if(!s)return L1(e);const o=r[e],a=s[1].split(",").map(OZ);return typeof o=="function"?o(a):a[o]}const MZ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return P1(n,e)};function OZ(t){return parseFloat(t.trim())}const Gl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wl=new Set(Gl),sM=t=>t===Yl||t===be,AZ=new Set(["x","y","z"]),NZ=Gl.filter(t=>!AZ.has(t));function DZ(t){const e=[];return NZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ko={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>P1(e,"x"),y:(t,{transform:e})=>P1(e,"y")};Ko.translateX=Ko.x;Ko.translateY=Ko.y;const Qo=new Set;let z1=!1,B1=!1,I1=!1;function KR(){if(B1){const t=Array.from(Qo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=DZ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{r.getValue(o)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}B1=!1,z1=!1,Qo.forEach(t=>t.complete(I1)),Qo.clear()}function QR(){Qo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B1=!0)})}function RZ(){I1=!0,QR(),KR(),I1=!1}class Qx{constructor(e,n,r,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Qo.add(this),z1||(z1=!0,ut.read(QR),ut.resolveKeyframes(KR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}TZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qo.delete(this)}cancel(){this.state==="scheduled"&&(Qo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jZ=t=>t.startsWith("--");function LZ(t,e,n){jZ(e)?t.style.setProperty(e,n):t.style[e]=n}const PZ=zx(()=>window.ScrollTimeline!==void 0),zZ={};function BZ(t,e){const n=zx(t);return()=>zZ[e]??n()}const XR=BZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,iM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lu([0,.65,.55,1]),circOut:lu([.55,0,1,.45]),backIn:lu([.31,.01,.66,-.59]),backOut:lu([.33,1.53,.69,.99])};function JR(t,e){if(t)return typeof t=="function"?XR()?YR(t,e):"ease-out":PR(t)?lu(t):Array.isArray(t)?t.map(n=>JR(n,e)||iM.easeOut):iM[t]}function IZ(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const m=JR(c,s);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),t.animate(p,y)}function ZR(t){return typeof t=="function"&&"applyToOptions"in t}function VZ({type:t,...e}){return ZR(t)&&XR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UZ extends Wx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Px(typeof e.type!="string");const f=VZ(e);this.animation=IZ(n,r,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Gx(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):LZ(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Cr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&PZ()?(this.animation.timeline=e,Tr):n(this)}}const ej={anticipate:DR,backInOut:NR,circInOut:jR};function HZ(t){return t in ej}function $Z(t){typeof t.ease=="string"&&HZ(t.ease)&&(t.ease=ej[t.ease])}const oM=10;class FZ extends UZ{constructor(e){$Z(e),WR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Kx({...a,autoplay:!1}),d=cs(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-oM).value,c.sample(d).value,oM),c.stop()}}const aM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(eo.test(t)||t==="0")&&!t.startsWith("url("));function qZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function YZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=aM(s,e),c=aM(o,e);return!a||!c?!1:qZ(t)||(n==="spring"||ZR(n))&&r}function V1(t){t.duration=0,t.type="keyframes"}const GZ=new Set(["opacity","clipPath","filter","transform"]),WZ=zx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KZ(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return WZ()&&n&&GZ.has(n)&&(n!=="transform"||!f)&&!d&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}const QZ=40;class XZ extends Wx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:d,motionValue:f,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const y={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,name:d,motionValue:f,element:p,...m},x=p?.KeyframeResolver||Qx;this.keyframeResolver=new x(c,(S,w,C)=>this.onKeyframesResolved(S,w,y,!C),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Pn.now(),YZ(e,o,a,c)||((ei.instantAnimations||!d)&&p?.(Gx(e,r,n)),e[0]=e[e.length-1],V1(r),r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>QZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!f&&KZ(y)?new FZ({...y,element:y.motionValue.owner.current}):new Kx(y);x.finished.then(()=>this.notifyFinished()).catch(Tr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),RZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const JZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZZ(t){const e=JZ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function tj(t,e,n=1){const[r,s]=ZZ(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return CR(a)?parseFloat(a):a}return Hx(s)?tj(s,e,n+1):s}function Xx(t,e){return t?.[e]??t?.default??t}const nj=new Set(["width","height","top","left","right","bottom",...Gl]),eee={test:t=>t==="auto",parse:t=>t},rj=t=>e=>e.test(t),sj=[Yl,be,us,Ri,qJ,FJ,eee],lM=t=>sj.find(rj(t));function tee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TR(t):!0}const nee=new Set(["brightness","contrast","saturate","opacity"]);function ree(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($x)||[];if(!r)return t;const s=n.replace(r,"");let o=nee.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const see=/\b([a-z-]*)\(.*?\)/gu,U1={...eo,getAnimatableNone:t=>{const e=t.match(see);return e?e.map(ree).join(" "):t}},cM={...Yl,transform:Math.round},iee={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:Ri,skewX:Ri,skewY:Ri,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Qu,originX:QE,originY:QE,originZ:be},Jx={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...iee,zIndex:cM,fillOpacity:Qu,strokeOpacity:Qu,numOctaves:cM},oee={...Jx,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:U1,WebkitFilter:U1},ij=t=>oee[t];function oj(t,e){let n=ij(t);return n!==U1&&(n=eo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aee=new Set(["auto","none","0"]);function lee(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!aee.has(o)&&Xu(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=oj(n,s)}class cee extends Qx{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),Hx(f))){const p=tj(f,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!nj.has(r)||e.length!==2)return;const[s,o]=e,a=lM(s),c=lM(o);if(a!==c)if(sM(a)&&sM(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else Ko[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||tee(e[s]))&&r.push(s);r.length&&lee(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ko[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Ko[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function uee(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const aj=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function lj(t){return kR(t)&&"offsetHeight"in t}const uM=30,dee=t=>!isNaN(parseFloat(t));class fee{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Pn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dee(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Bx);const r=this.events[e].add(n);return e==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,uM);return _R(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nl(t,e){return new fee(t,e)}const{schedule:Zx}=zR(queueMicrotask,!1),Rr={x:!1,y:!1};function cj(){return Rr.x||Rr.y}function hee(t){return t==="x"||t==="y"?Rr[t]?null:(Rr[t]=!0,()=>{Rr[t]=!1}):Rr.x||Rr.y?null:(Rr.x=Rr.y=!0,()=>{Rr.x=Rr.y=!1})}function uj(t,e){const n=uee(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function dM(t){return!(t.pointerType==="touch"||cj())}function pee(t,e,n={}){const[r,s,o]=uj(t,n),a=c=>{if(!dM(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const p=m=>{dM(m)&&(f(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),o}const dj=(t,e)=>e?t===e?!0:dj(t,e.parentElement):!1,eS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gee(t){return mee.has(t.tagName)||t.tabIndex!==-1}const Rh=new WeakSet;function fM(t){return e=>{e.key==="Enter"&&t(e)}}function dv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yee=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=fM(()=>{if(Rh.has(n))return;dv(n,"down");const s=fM(()=>{dv(n,"up")}),o=()=>dv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hM(t){return eS(t)&&!cj()}function vee(t,e,n={}){const[r,s,o]=uj(t,n),a=c=>{const d=c.currentTarget;if(!hM(c))return;Rh.add(d);const f=e(d,c),p=(x,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Rh.has(d)&&Rh.delete(d),hM(x)&&typeof f=="function"&&f(x,{success:S})},m=x=>{p(x,d===window||d===document||n.useGlobalTarget||dj(d,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),lj(c)&&(c.addEventListener("focus",f=>yee(f,s)),!gee(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function fj(t){return kR(t)&&"ownerSVGElement"in t}function bee(t){return fj(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),xee=[...sj,Rt,eo],See=t=>xee.find(rj(t)),tS=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function pM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wee(...t){return e=>{let n=!1;const r=t.map(s=>{const o=pM(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():pM(t[s],null)}}}}function Cee(...t){return M.useCallback(wee(...t),t)}class kee extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=lj(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Tee({children:t,isPresent:e,anchorX:n,root:r}){const s=M.useId(),o=M.useRef(null),a=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=M.useContext(tS),d=Cee(o,t?.ref);return M.useInsertionEffect(()=>{const{width:f,height:p,top:m,left:y,right:x}=a.current;if(e||!o.current||!f||!p)return;const S=n==="left"?`left: ${y}`:`right: ${x}`;o.current.dataset.motionPopId=s;const w=document.createElement("style");c&&(w.nonce=c);const C=r??document.head;return C.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${m}px !important;
          }
        `),()=>{C.contains(w)&&C.removeChild(w)}},[e]),v.jsx(kee,{isPresent:e,childRef:o,sizeRef:a,children:M.cloneElement(t,{ref:d})})}const _ee=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a,anchorX:c,root:d})=>{const f=Dx(Eee),p=M.useId();let m=!0,y=M.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:s,onExitComplete:x=>{f.set(x,!0);for(const S of f.values())if(!S)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return o&&m&&(y={...y}),M.useMemo(()=>{f.forEach((x,S)=>f.set(S,!1))},[n]),M.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=v.jsx(Tee,{isPresent:n,anchorX:c,root:d,children:t})),v.jsx(Lm.Provider,{value:y,children:t})};function Eee(){return new Map}function hj(t=!0){const e=M.useContext(Lm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=M.useId();M.useEffect(()=>{if(t)return s(o)},[t]);const a=M.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const ch=t=>t.key||"";function mM(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const Mee=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:c="left",root:d})=>{const[f,p]=hj(a),m=M.useMemo(()=>mM(t),[t]),y=a&&!f?[]:m.map(ch),x=M.useRef(!0),S=M.useRef(m),w=Dx(()=>new Map),[C,k]=M.useState(m),[_,A]=M.useState(m);wR(()=>{x.current=!1,S.current=m;for(let j=0;j<_.length;j++){const P=ch(_[j]);y.includes(P)?w.delete(P):w.get(P)!==!0&&w.set(P,!1)}},[_,y.length,y.join("-")]);const N=[];if(m!==C){let j=[...m];for(let P=0;P<_.length;P++){const D=_[P],H=ch(D);y.includes(H)||(j.splice(P,0,D),N.push(D))}return o==="wait"&&N.length&&(j=N),A(mM(j)),k(m),null}const{forceRender:O}=M.useContext(Nx);return v.jsx(v.Fragment,{children:_.map(j=>{const P=ch(j),D=a&&!f?!1:m===_||y.includes(P),H=()=>{if(w.has(P))w.set(P,!0);else return;let X=!0;w.forEach(Z=>{Z||(X=!1)}),X&&(O?.(),A(S.current),a&&p?.(),r&&r())};return v.jsx(_ee,{isPresent:D,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:D?void 0:H,anchorX:c,children:j},P)})})},pj=M.createContext({strict:!1}),gM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dl={};for(const t in gM)Dl[t]={isEnabled:e=>gM[t].some(n=>!!e[n])};function Oee(t){for(const e in t)Dl[e]={...Dl[e],...t[e]}}const Aee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Aee.has(t)}let mj=t=>!Yp(t);function Nee(t){typeof t=="function"&&(mj=e=>e.startsWith("on")?!Yp(e):t(e))}try{Nee(require("@emotion/is-prop-valid").default)}catch{}function Dee(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(mj(s)||n===!0&&Yp(s)||!e&&!Yp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Pm=M.createContext({});function zm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ju(t){return typeof t=="string"||Array.isArray(t)}const nS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rS=["initial",...nS];function Bm(t){return zm(t.animate)||rS.some(e=>Ju(t[e]))}function gj(t){return!!(Bm(t)||t.variants)}function Ree(t,e){if(Bm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ju(n)?n:void 0,animate:Ju(r)?r:void 0}}return t.inherit!==!1?e:{}}function jee(t){const{initial:e,animate:n}=Ree(t,M.useContext(Pm));return M.useMemo(()=>({initial:e,animate:n}),[yM(e),yM(n)])}function yM(t){return Array.isArray(t)?t.join(" "):t}const Zu={};function Lee(t){for(const e in t)Zu[e]=t[e],Ux(e)&&(Zu[e].isCSSVariable=!0)}function yj(t,{layout:e,layoutId:n}){return Wl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Zu[t]||t==="opacity")}const Pee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zee=Gl.length;function Bee(t,e,n){let r="",s=!0;for(let o=0;o<zee;o++){const a=Gl[o],c=t[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=aj(c,Jx[a]);if(!d){s=!1;const p=Pee[a]||a;r+=`${p}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function sS(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let a=!1,c=!1;for(const d in e){const f=e[d];if(Wl.has(d)){a=!0;continue}else if(Ux(d)){s[d]=f;continue}else{const p=aj(f,Jx[d]);d.startsWith("origin")?(c=!0,o[d]=p):r[d]=p}}if(e.transform||(a||n?r.transform=Bee(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${f} ${p}`}}const iS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vj(t,e,n){for(const r in e)!pn(e[r])&&!yj(r,n)&&(t[r]=e[r])}function Iee({transformTemplate:t},e){return M.useMemo(()=>{const n=iS();return sS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Vee(t,e){const n=t.style||{},r={};return vj(r,n,t),Object.assign(r,Iee(t,e)),r}function Uee(t,e){const n={},r=Vee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Hee={offset:"stroke-dashoffset",array:"stroke-dasharray"},$ee={offset:"strokeDashoffset",array:"strokeDasharray"};function Fee(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?Hee:$ee;t[o.offset]=be.transform(-r);const a=be.transform(e),c=be.transform(n);t[o.array]=`${a} ${c}`}function bj(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...c},d,f,p){if(sS(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Fee(m,s,o,a,!1)}const xj=()=>({...iS(),attrs:{}}),Sj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qee(t,e,n,r){const s=M.useMemo(()=>{const o=xj();return bj(o,e,Sj(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};vj(o,t.style,t),s.style={...o,...s.style}}return s}const Yee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oS(t){return typeof t!="string"||t.includes("-")?!1:!!(Yee.indexOf(t)>-1||/[A-Z]/u.test(t))}function Gee(t,e,n,{latestValues:r},s,o=!1){const c=(oS(t)?qee:Uee)(e,r,s,t),d=Dee(e,typeof t=="string",o),f=t!==M.Fragment?{...d,...c,ref:n}:{},{children:p}=e,m=M.useMemo(()=>pn(p)?p.get():p,[p]);return M.createElement(t,{...f,children:m})}function vM(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function aS(t,e,n,r){if(typeof e=="function"){const[s,o]=vM(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=vM(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function jh(t){return pn(t)?t.get():t}function Wee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Kee(n,r,s,t),renderState:e()}}function Kee(t,e,n,r){const s={},o=r(t,{});for(const y in o)s[y]=jh(o[y]);let{initial:a,animate:c}=t;const d=Bm(t),f=gj(t);e&&f&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?c:a;if(m&&typeof m!="boolean"&&!zm(m)){const y=Array.isArray(m)?m:[m];for(let x=0;x<y.length;x++){const S=aS(t,y[x]);if(S){const{transitionEnd:w,transition:C,...k}=S;for(const _ in k){let A=k[_];if(Array.isArray(A)){const N=p?A.length-1:0;A=A[N]}A!==null&&(s[_]=A)}for(const _ in w)s[_]=w[_]}}}return s}const wj=t=>(e,n)=>{const r=M.useContext(Pm),s=M.useContext(Lm),o=()=>Wee(t,e,r,s);return n?o():Dx(o)};function lS(t,e,n){const{style:r}=t,s={};for(const o in r)(pn(r[o])||e.style&&pn(e.style[o])||yj(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const Qee=wj({scrapeMotionValuesFromProps:lS,createRenderState:iS});function Cj(t,e,n){const r=lS(t,e,n);for(const s in t)if(pn(t[s])||pn(e[s])){const o=Gl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const Xee=wj({scrapeMotionValuesFromProps:Cj,createRenderState:xj}),Jee=Symbol.for("motionComponentSymbol");function hl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Zee(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hl(n)&&(n.current=r))},[e])}const cS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ete="framerAppearId",kj="data-"+cS(ete),Tj=M.createContext({});function tte(t,e,n,r,s){const{visualElement:o}=M.useContext(Pm),a=M.useContext(pj),c=M.useContext(Lm),d=M.useContext(tS).reducedMotion,f=M.useRef(null);r=r||a.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=M.useContext(Tj);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&nte(f.current,n,s,m);const y=M.useRef(!1);M.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const x=n[kj],S=M.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return wR(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),S.current=!1),p.enteringChildren=void 0)}),p}function nte(t,e,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_j(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||c&&hl(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function _j(t){if(t)return t.options.allowProjection!==!1?t.projection:_j(t.parent)}function fv(t,{forwardMotionProps:e=!1}={},n,r){n&&Oee(n);const s=oS(t)?Xee:Qee;function o(c,d){let f;const p={...M.useContext(tS),...c,layoutId:rte(c)},{isStatic:m}=p,y=jee(c),x=s(c,m);if(!m&&Rx){ste();const S=ite(p);f=S.MeasureLayout,y.visualElement=tte(t,x,p,r,S.ProjectionNode)}return v.jsxs(Pm.Provider,{value:y,children:[f&&y.visualElement?v.jsx(f,{visualElement:y.visualElement,...p}):null,Gee(t,c,Zee(x,y.visualElement,d),x,m,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=M.forwardRef(o);return a[Jee]=t,a}function rte({layoutId:t}){const e=M.useContext(Nx).id;return e&&t!==void 0?e+"-"+t:t}function ste(t,e){M.useContext(pj).strict}function ite(t){const{drag:e,layout:n}=Dl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ote(t,e){if(typeof Proxy>"u")return fv;const n=new Map,r=(o,a)=>fv(o,a,t,e),s=(o,a)=>r(o,a);return new Proxy(s,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,fv(a,void 0,t,e)),n.get(a))})}function Ej({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ate({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lte(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function hv(t){return t===void 0||t===1}function H1({scale:t,scaleX:e,scaleY:n}){return!hv(t)||!hv(e)||!hv(n)}function No(t){return H1(t)||Mj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Mj(t){return bM(t.x)||bM(t.y)}function bM(t){return t&&t!=="0%"}function Gp(t,e,n){const r=t-n,s=e*r;return n+s}function xM(t,e,n,r,s){return s!==void 0&&(t=Gp(t,s,r)),Gp(t,n,r)+e}function $1(t,e=0,n=1,r,s){t.min=xM(t.min,e,n,r,s),t.max=xM(t.max,e,n,r,s)}function Oj(t,{x:e,y:n}){$1(t.x,e.translate,e.scale,e.originPoint),$1(t.y,n.translate,n.scale,n.originPoint)}const SM=.999999999999,wM=1.0000000000001;function cte(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let c=0;c<s;c++){o=n[c],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ml(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Oj(t,a)),r&&No(o.latestValues)&&ml(t,o.latestValues))}e.x<wM&&e.x>SM&&(e.x=1),e.y<wM&&e.y>SM&&(e.y=1)}function pl(t,e){t.min=t.min+e,t.max=t.max+e}function CM(t,e,n,r,s=.5){const o=pt(t.min,t.max,s);$1(t,e,n,o,r)}function ml(t,e){CM(t.x,e.x,e.scaleX,e.scale,e.originX),CM(t.y,e.y,e.scaleY,e.scale,e.originY)}function Aj(t,e){return Ej(lte(t.getBoundingClientRect(),e))}function ute(t,e,n){const r=Aj(t,n),{scroll:s}=e;return s&&(pl(r.x,s.offset.x),pl(r.y,s.offset.y)),r}const kM=()=>({translate:0,scale:1,origin:0,originPoint:0}),gl=()=>({x:kM(),y:kM()}),TM=()=>({min:0,max:0}),Ot=()=>({x:TM(),y:TM()}),F1={current:null},Nj={current:!1};function dte(){if(Nj.current=!0,!!Rx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>F1.current=t.matches;t.addEventListener("change",e),e()}else F1.current=!1}const fte=new WeakMap;function hte(t,e,n){for(const r in e){const s=e[r],o=n[r];if(pn(s))t.addValue(r,s);else if(pn(o))t.addValue(r,Nl(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Nl(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const _M=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Pn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ut.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Bm(n),this.isVariantNode=gj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const x=m[y];d[y]!==void 0&&pn(x)&&x.set(d[y])}}mount(e){this.current=e,fte.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Nj.current||dte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:F1.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dl){const n=Dl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_M.length;r++){const s=_M[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=e[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=hte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Nl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(CR(r)||TR(r))?r=parseFloat(r):!See(r)&&eo.test(n)&&(r=oj(e,n)),this.setBaseTarget(e,pn(r)?r.get():r)),pn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=aS(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!pn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Bx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Zx.render(this.render)}}class Dj extends pte{constructor(){super(...arguments),this.KeyframeResolver=cee}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Rj(t,{style:e,vars:n},r,s){const o=t.style;let a;for(a in e)o[a]=e[a];s?.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function mte(t){return window.getComputedStyle(t)}class gte extends Dj{constructor(){super(...arguments),this.type="html",this.renderInstance=Rj}readValueFromInstance(e,n){if(Wl.has(n))return this.projection?.isProjecting?L1(n):MZ(e,n);{const r=mte(e),s=(Ux(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Aj(e,n)}build(e,n,r){sS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return lS(e,n,r)}}const jj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yte(t,e,n,r){Rj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(jj.has(s)?s:cS(s),e.attrs[s])}class vte extends Dj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wl.has(n)){const r=ij(n);return r&&r.default||0}return n=jj.has(n)?n:cS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Cj(e,n,r)}build(e,n,r){bj(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){yte(e,n,r,s)}mount(e){this.isSVGTag=Sj(e.tagName),super.mount(e)}}const bte=(t,e)=>oS(t)?new vte(e):new gte(e,{allowProjection:t!==M.Fragment});function wl(t,e,n){const r=t.getProps();return aS(r,e,n!==void 0?n:r.custom,t)}const q1=t=>Array.isArray(t);function xte(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nl(n))}function Ste(t){return q1(t)?t[t.length-1]||0:t}function wte(t,e){const n=wl(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const c=Ste(o[a]);xte(t,a,c)}}function Cte(t){return!!(pn(t)&&t.add)}function Y1(t,e){const n=t.getValue("willChange");if(Cte(n))return n.add(e);if(!n&&ei.WillChange){const r=new ei.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Lj(t){return t.props[kj]}const kte=t=>t!==null;function Tte(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(kte),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const _te={type:"spring",stiffness:500,damping:25,restSpeed:10},Ete=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mte={type:"keyframes",duration:.8},Ote={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ate=(t,{keyframes:e})=>e.length>2?Mte:Wl.has(t)?t.startsWith("scale")?Ete(e[1]):_te:Ote;function Nte({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const uS=(t,e,n,r={},s,o)=>a=>{const c=Xx(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-cs(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};Nte(c)||Object.assign(p,Ate(t,p)),p.duration&&(p.duration=cs(p.duration)),p.repeatDelay&&(p.repeatDelay=cs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(V1(p),p.delay===0&&(m=!0)),(ei.instantAnimations||ei.skipAnimations)&&(m=!0,V1(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!o&&e.get()!==void 0){const y=Tte(p.keyframes,c);if(y!==void 0){ut.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new Kx(p):new XZ(p)};function Dte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Pj(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||f&&Dte(f,p))continue;const x={delay:n,...Xx(o||{},p)},S=m.get();if(S!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===S&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const k=Lj(t);if(k){const _=window.MotionHandoffAnimation(k,p,ut);_!==null&&(x.startTime=_,w=!0)}}Y1(t,p),m.start(uS(p,m,y,t.shouldReduceMotion&&nj.has(p)?{type:!1}:x,t,w));const C=m.animation;C&&d.push(C)}return a&&Promise.all(d).then(()=>{ut.update(()=>{a&&wte(t,a)})}),d}function zj(t,e,n,r=0,s=1){const o=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(o,a):s===1?o*r:c-o*r}function G1(t,e,n={}){const r=wl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Pj(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=s;return Rte(t,e,d,f,p,m,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,f]=c==="beforeChildren"?[o,a]:[a,o];return d().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function Rte(t,e,n=0,r=0,s=0,o=1,a){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(G1(d,e,{...a,delay:n+(typeof r=="function"?0:r)+zj(t.variantChildren,d,r,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function jte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>G1(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=G1(t,e,n);else{const s=typeof e=="function"?wl(t,e,n.custom):e;r=Promise.all(Pj(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Bj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Lte=rS.length;function Ij(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ij(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Lte;n++){const r=rS[n],s=t.props[r];(Ju(s)||s===!1)&&(e[r]=s)}return e}const Pte=[...nS].reverse(),zte=nS.length;function Bte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>jte(t,n,r)))}function Ite(t){let e=Bte(t),n=EM(),r=!0;const s=d=>(f,p)=>{const m=wl(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:x,...S}=m;f={...f,...S,...x}}return f};function o(d){e=d(t)}function a(d){const{props:f}=t,p=Ij(t.parent)||{},m=[],y=new Set;let x={},S=1/0;for(let C=0;C<zte;C++){const k=Pte[C],_=n[k],A=f[k]!==void 0?f[k]:p[k],N=Ju(A),O=k===d?_.isActive:null;O===!1&&(S=C);let j=A===p[k]&&A!==f[k]&&N;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),_.protectedKeys={...x},!_.isActive&&O===null||!A&&!_.prevProp||zm(A)||typeof A=="boolean")continue;const P=Vte(_.prevProp,A);let D=P||k===d&&_.isActive&&!j&&N||C>S&&N,H=!1;const X=Array.isArray(A)?A:[A];let Z=X.reduce(s(k),{});O===!1&&(Z={});const{prevResolvedValues:ce={}}=_,Ie={...ce,...Z},Ae=Y=>{D=!0,y.has(Y)&&(H=!0,y.delete(Y)),_.needsAnimating[Y]=!0;const se=t.getValue(Y);se&&(se.liveStyle=!1)};for(const Y in Ie){const se=Z[Y],Ne=ce[Y];if(x.hasOwnProperty(Y))continue;let L=!1;q1(se)&&q1(Ne)?L=!Bj(se,Ne):L=se!==Ne,L?se!=null?Ae(Y):y.add(Y):se!==void 0&&y.has(Y)?Ae(Y):_.protectedKeys[Y]=!0}_.prevProp=A,_.prevResolvedValues=Z,_.isActive&&(x={...x,...Z}),r&&t.blockInitialAnimation&&(D=!1);const Ee=j&&P;D&&(!Ee||H)&&m.push(...X.map(Y=>{const se={type:k};if(typeof Y=="string"&&r&&!Ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,L=wl(Ne,Y);if(Ne.enteringChildren&&L){const{delayChildren:K}=L.transition||{};se.delay=zj(Ne.enteringChildren,t,K)}}return{animation:Y,options:se}}))}if(y.size){const C={};if(typeof f.initial!="boolean"){const k=wl(t,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(C.transition=k.transition)}y.forEach(k=>{const _=t.getBaseTarget(k),A=t.getValue(k);A&&(A.liveStyle=!0),C[k]=_??null}),m.push({animation:C})}let w=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function c(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(d,f)),n[d].isActive=f;const p=a(d);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=EM()}}}function Vte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Bj(e,t):!1}function Eo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EM(){return{animate:Eo(!0),whileInView:Eo(),whileHover:Eo(),whileTap:Eo(),whileDrag:Eo(),whileFocus:Eo(),exit:Eo()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Ute extends ro{constructor(e){super(e),e.animationState||(e.animationState=Ite(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Hte=0;class $te extends ro{constructor(){super(...arguments),this.id=Hte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Fte={animation:{Feature:Ute},exit:{Feature:$te}};function ed(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function xd(t){return{point:{x:t.pageX,y:t.pageY}}}const qte=t=>e=>eS(e)&&t(e,xd(e));function Tu(t,e,n,r){return ed(t,e,qte(n),r)}const Vj=1e-4,Yte=1-Vj,Gte=1+Vj,Uj=.01,Wte=0-Uj,Kte=0+Uj;function kn(t){return t.max-t.min}function Qte(t,e,n){return Math.abs(t-e)<=n}function MM(t,e,n,r=.5){t.origin=r,t.originPoint=pt(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Yte&&t.scale<=Gte||isNaN(t.scale))&&(t.scale=1),(t.translate>=Wte&&t.translate<=Kte||isNaN(t.translate))&&(t.translate=0)}function _u(t,e,n,r){MM(t.x,e.x,n.x,r?r.originX:void 0),MM(t.y,e.y,n.y,r?r.originY:void 0)}function OM(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function Xte(t,e,n){OM(t.x,e.x,n.x),OM(t.y,e.y,n.y)}function AM(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function Eu(t,e,n){AM(t.x,e.x,n.x),AM(t.y,e.y,n.y)}function vr(t){return[t("x"),t("y")]}const Hj=({current:t})=>t?t.ownerDocument.defaultView:null,NM=(t,e)=>Math.abs(t-e);function Jte(t,e){const n=NM(t.x,e.x),r=NM(t.y,e.y);return Math.sqrt(n**2+r**2)}class $j{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=mv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=Jte(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!S)return;const{point:w}=y,{timestamp:C}=nn;this.history.push({...w,timestamp:C});const{onStart:k,onMove:_}=this.handlers;x||(k&&k(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=pv(x,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=mv(y.type==="pointercancel"?this.lastMoveEventInfo:pv(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,k),w&&w(y,k)},!eS(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const c=xd(e),d=pv(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=nn;this.history=[{...f,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,mv(d,this.history)),this.removeListeners=yd(Tu(this.contextWindow,"pointermove",this.handlePointerMove),Tu(this.contextWindow,"pointerup",this.handlePointerUp),Tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function pv(t,e){return e?{point:e(t.point)}:t}function DM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mv({point:t},e){return{point:t,delta:DM(t,Fj(e)),offset:DM(t,Zte(e)),velocity:ene(e,.1)}}function Zte(t){return t[0]}function Fj(t){return t[t.length-1]}function ene(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Fj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>cs(e)));)n--;if(!r)return{x:0,y:0};const o=Cr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function tne(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pt(n,t,r.max):Math.min(t,n)),t}function RM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nne(t,{top:e,left:n,bottom:r,right:s}){return{x:RM(t.x,n,s),y:RM(t.y,e,r)}}function jM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rne(t,e){return{x:jM(t.x,e.x),y:jM(t.y,e.y)}}function sne(t,e){let n=.5;const r=kn(t),s=kn(e);return s>r?n=Ku(e.min,e.max-r,t.min):r>s&&(n=Ku(t.min,t.max-s,e.min)),Zs(0,1,n)}function ine(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const W1=.35;function one(t=W1){return t===!1?t=0:t===!0&&(t=W1),{x:LM(t,"left","right"),y:LM(t,"top","bottom")}}function LM(t,e,n){return{min:PM(t,e),max:PM(t,n)}}function PM(t,e){return typeof t=="number"?t:t[e]||0}const ane=new WeakMap;class lne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xd(m).point)},a=(m,y)=>{const{drag:x,dragPropagation:S,onDragStart:w}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hee(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(us.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const N=A.layout.layoutBox[k];N&&(_=kn(N)*(parseFloat(_)/100))}}this.originPoint[k]=_}),w&&ut.postRender(()=>w(m,y)),Y1(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:w,onDrag:C}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=y;if(S&&this.currentDirection===null){this.currentDirection=cne(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,k),this.updateAxis("y",y.point,k),this.visualElement.render(),C&&C(m,y)},d=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>vr(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new $j(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:Hj(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&ut.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!uh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=tne(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&hl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=nne(r.layoutBox,e):this.constraints=!1,this.elastic=one(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ine(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=ute(r,s.root,this.visualElement.getTransformPagePoint());let a=rne(s.layout.layoutBox,o);if(n){const c=n(ate(a));this.hasMutatedConstraints=!!c,c&&(a=Ej(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=vr(p=>{if(!uh(p,n,this.currentDirection))return;let m=d&&d[p]||{};a&&(m={min:0,max:0});const y=s?200:1e6,x=s?40:1e7,S={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,S)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Y1(this.visualElement,e),r.start(uS(e,r,0,n,this.visualElement,!1))}stopAnimation(){vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vr(n=>{const{drag:r}=this.getProps();if(!uh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];o.set(e[n]-pt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();s[a]=sne({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(a=>{if(!uh(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];c.set(pt(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;ane.set(this.visualElement,this);const e=this.visualElement.current,n=Tu(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();hl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ut.read(r);const a=ed(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(vr(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=W1,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function uh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class une extends ro{constructor(e){super(e),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new lne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const zM=t=>(e,n)=>{t&&ut.postRender(()=>t(e,n))};class dne extends ro{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(e){this.session=new $j(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:zM(e),onStart:zM(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&ut.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=Tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=BM(t,e.target.x),r=BM(t,e.target.y);return`${n}% ${r}%`}},fne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=eo.parse(t);if(s.length>5)return r;const o=eo.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=d;const f=pt(c,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),o(s)}};let gv=!1;class hne extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;Lee(pne),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),gv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,gv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||ut.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;gv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function qj(t){const[e,n]=hj(),r=M.useContext(Nx);return v.jsx(hne,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(Tj),isPresent:e,safeToRemove:n})}const pne={borderRadius:{...nu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nu,borderTopRightRadius:nu,borderBottomLeftRadius:nu,borderBottomRightRadius:nu,boxShadow:fne};function mne(t,e,n){const r=pn(t)?t:Nl(t);return r.start(uS("",r,e,n)),r.animation}const gne=(t,e)=>t.depth-e.depth;class yne{constructor(){this.children=[],this.isDirty=!1}add(e){jx(this.children,e),this.isDirty=!0}remove(e){Lx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gne),this.isDirty=!1,this.children.forEach(e)}}function vne(t,e){const n=Pn.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Zi(r),t(o-e))};return ut.setup(r,!0),()=>Zi(r)}const Yj=["TopLeft","TopRight","BottomLeft","BottomRight"],bne=Yj.length,IM=t=>typeof t=="string"?parseFloat(t):t,VM=t=>typeof t=="number"||be.test(t);function xne(t,e,n,r,s,o){s?(t.opacity=pt(0,n.opacity??1,Sne(r)),t.opacityExit=pt(e.opacity??1,0,wne(r))):o&&(t.opacity=pt(e.opacity??1,n.opacity??1,r));for(let a=0;a<bne;a++){const c=`border${Yj[a]}Radius`;let d=UM(e,c),f=UM(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||VM(d)===VM(f)?(t[c]=Math.max(pt(IM(d),IM(f),r),0),(us.test(f)||us.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,r))}function UM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Sne=Gj(0,.5,RR),wne=Gj(.5,.95,Tr);function Gj(t,e,n){return r=>r<t?0:r>e?1:n(Ku(t,e,r))}function HM(t,e){t.min=e.min,t.max=e.max}function gr(t,e){HM(t.x,e.x),HM(t.y,e.y)}function $M(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function FM(t,e,n,r,s){return t-=e,t=Gp(t,1/n,r),s!==void 0&&(t=Gp(t,1/s,r)),t}function Cne(t,e=0,n=1,r=.5,s,o=t,a=t){if(us.test(e)&&(e=parseFloat(e),e=pt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=pt(o.min,o.max,r);t===o&&(c-=e),t.min=FM(t.min,e,n,c,s),t.max=FM(t.max,e,n,c,s)}function qM(t,e,[n,r,s],o,a){Cne(t,e[n],e[r],e[s],e.scale,o,a)}const kne=["x","scaleX","originX"],Tne=["y","scaleY","originY"];function YM(t,e,n,r){qM(t.x,e,kne,n?n.x:void 0,r?r.x:void 0),qM(t.y,e,Tne,n?n.y:void 0,r?r.y:void 0)}function GM(t){return t.translate===0&&t.scale===1}function Wj(t){return GM(t.x)&&GM(t.y)}function WM(t,e){return t.min===e.min&&t.max===e.max}function _ne(t,e){return WM(t.x,e.x)&&WM(t.y,e.y)}function KM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Kj(t,e){return KM(t.x,e.x)&&KM(t.y,e.y)}function QM(t){return kn(t.x)/kn(t.y)}function XM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ene{constructor(){this.members=[]}add(e){jx(this.members,e),e.scheduleRender()}remove(e){if(Lx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mne(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,a=n?.z||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:y,skewX:x,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const yv=["","X","Y","Z"],One=1e3;let Ane=0;function vv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Qj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Lj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ut,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Qj(r)}function Xj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e?.()){this.id=Ane++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rne),this.nodes.forEach(zne),this.nodes.forEach(Bne),this.nodes.forEach(jne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new yne)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Bx),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=fj(a)&&!bee(a),this.instance=a;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{m=window.innerWidth}),t(a,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,p&&p(),p=vne(y,250),Lh.hasAnimatedSinceResize&&(Lh.hasAnimatedSinceResize=!1,this.nodes.forEach(e2)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||$ne,{onLayoutAnimationStart:w,onLayoutAnimationComplete:C}=f.getProps(),k=!this.targetLayout||!Kj(this.targetLayout,x),_=!m&&y;if(this.options.layoutRoot||this.resumeFrom||_||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Xx(S,"layout"),onPlay:w,onComplete:C};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(p,_)}else m||e2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ine),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ZM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pne),this.nodes.forEach(Nne),this.nodes.forEach(Dne)):this.nodes.forEach(ZM),this.clearAllSnapshots();const c=Pn.now();nn.delta=Zs(0,1e3/60,c-nn.timestamp),nn.timestamp=c,nn.isProcessing=!0,ov.update.process(nn),ov.preRender.process(nn),ov.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Lne),this.sharedNodes.forEach(Vne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Wj(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||No(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),Fne(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ot();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(qne))){const{scroll:f}=this.root;f&&(pl(c.x,f.offset.x),pl(c.y,f.offset.y))}return c}removeElementScroll(a){const c=Ot();if(gr(c,a),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&gr(c,a),pl(c.x,p.offset.x),pl(c.y,p.offset.y))}return c}applyTransform(a,c=!1){const d=Ot();gr(d,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ml(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),No(p.latestValues)&&ml(d,p.latestValues)}return No(this.latestValues)&&ml(d,this.latestValues),d}removeTransform(a){const c=Ot();gr(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!No(f.latestValues))continue;H1(f.latestValues)&&f.updateSnapshot();const p=Ot(),m=f.measurePageBox();gr(p,m),YM(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return No(this.latestValues)&&YM(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Eu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gr(this.target,this.layout.layoutBox),Oj(this.target,this.targetDelta)):gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Eu(this.relativeTargetOrigin,this.target,y.target),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||H1(this.parent.latestValues)||Mj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;gr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;cte(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ot());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($M(this.prevProjectionDelta.x,this.projectionDelta.x),$M(this.prevProjectionDelta.y,this.projectionDelta.y)),_u(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!XM(this.projectionDelta.x,this.prevProjectionDelta.x)||!XM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gl(),this.projectionDelta=gl(),this.projectionDeltaWithTransform=gl()}setAnimationOrigin(a,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=gl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Ot(),x=d?d.source:void 0,S=this.layout?this.layout.source:void 0,w=x!==S,C=this.getStack(),k=!C||C.members.length<=1,_=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(Hne));this.animationProgress=0;let A;this.mixTargetDelta=N=>{const O=N/1e3;t2(m.x,a.x,O),t2(m.y,a.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eu(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Une(this.relativeTarget,this.relativeTargetOrigin,y,O),A&&_ne(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ot()),gr(A,this.relativeTarget)),w&&(this.animationValues=p,xne(p,f,this.latestValues,O,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{Lh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nl(0)),this.currentAnimation=mne(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(One),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=a;if(!(!c||!d||!f)){if(this!==a&&this.layout&&f&&Jj(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ot();const m=kn(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+m;const y=kn(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+y}gr(c,d),ml(c,p),_u(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Ene),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&vv("z",a,f,this.animationValues);for(let p=0;p<yv.length;p++)vv(`rotate${yv[p]}`,a,f,this.animationValues),vv(`skew${yv[p]}`,a,f,this.animationValues);a.render();for(const p in f)a.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=jh(c?.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=jh(c?.pointerEvents)||""),this.hasProjected&&!No(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=Mne(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),a.transform=m;const{x:y,y:x}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,f.animationValues?a.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Zu){if(p[S]===void 0)continue;const{correct:w,applyTo:C,isCSSVariable:k}=Zu[S],_=m==="none"?p[S]:w(p[S],f);if(C){const A=C.length;for(let N=0;N<A;N++)a[C[N]]=_}else k?this.options.visualElement.renderState.vars[S]=_:a[S]=_}this.options.layoutId&&(a.pointerEvents=f===this?jh(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(JM),this.root.sharedNodes.clear()}}}function Nne(t){t.updateLayout()}function Dne(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?vr(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=kn(m);m.min=n[p].min,m.max=m.min+y}):Jj(s,e.layoutBox,n)&&vr(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=kn(n[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=gl();_u(a,n,e.layoutBox);const c=gl();o?_u(c,t.applyTransform(r,!0),e.measuredBox):_u(c,n,e.layoutBox);const d=!Wj(a);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const x=Ot();Eu(x,e.layoutBox,m.layoutBox);const S=Ot();Eu(S,n,y.layoutBox),Kj(x,S)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Rne(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Lne(t){t.clearSnapshot()}function JM(t){t.clearMeasurements()}function ZM(t){t.isLayoutDirty=!1}function Pne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function e2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zne(t){t.resolveTargetDelta()}function Bne(t){t.calcProjection()}function Ine(t){t.resetSkewAndRotation()}function Vne(t){t.removeLeadSnapshot()}function t2(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function n2(t,e,n,r){t.min=pt(e.min,n.min,r),t.max=pt(e.max,n.max,r)}function Une(t,e,n,r){n2(t.x,e.x,n.x,r),n2(t.y,e.y,n.y,r)}function Hne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $ne={duration:.45,ease:[.4,0,.1,1]},r2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),s2=r2("applewebkit/")&&!r2("chrome/")?Math.round:Tr;function i2(t){t.min=s2(t.min),t.max=s2(t.max)}function Fne(t){i2(t.x),i2(t.y)}function Jj(t,e,n){return t==="position"||t==="preserve-aspect"&&!Qte(QM(e),QM(n),.2)}function qne(t){return t!==t.root&&t.scroll?.wasRoot}const Yne=Xj({attachResizeListener:(t,e)=>ed(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bv={current:void 0},Zj=Xj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bv.current){const t=new Yne({});t.mount(window),t.setOptions({layoutScroll:!0}),bv.current=t}return bv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Gne={pan:{Feature:dne},drag:{Feature:une,ProjectionNode:Zj,MeasureLayout:qj}};function o2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&ut.postRender(()=>o(e,xd(e)))}class Wne extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=pee(e,(n,r)=>(o2(this.node,r,"Start"),s=>o2(this.node,s,"End"))))}unmount(){}}class Kne extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yd(ed(this.node.current,"focus",()=>this.onFocus()),ed(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&ut.postRender(()=>o(e,xd(e)))}class Qne extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=vee(e,(n,r)=>(a2(this.node,r,"Start"),(s,{success:o})=>a2(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const K1=new WeakMap,xv=new WeakMap,Xne=t=>{const e=K1.get(t.target);e&&e(t)},Jne=t=>{t.forEach(Xne)};function Zne({root:t,...e}){const n=t||document;xv.has(n)||xv.set(n,{});const r=xv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Jne,{root:t,...e})),r[s]}function ere(t,e,n){const r=Zne(e);return K1.set(t,n),r.observe(t),()=>{K1.delete(t),r.unobserve(t)}}const tre={some:0,all:1};class nre extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:tre[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=f?p:m;y&&y(d)};return ere(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rre(e,n))&&this.startObserver()}unmount(){}}function rre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sre={inView:{Feature:nre},tap:{Feature:Qne},focus:{Feature:Kne},hover:{Feature:Wne}},ire={layout:{ProjectionNode:Zj,MeasureLayout:qj}},ore={...Fte,...sre,...Gne,...ire},Mu=ote(ore,bte);function e3(t){return Gr({queryKey:["note",t],queryFn:()=>w7(t),enabled:!!t})}function t3(){const t=Mn();return Mr({mutationFn:e=>C7(e),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}})}function are(){const t=Mn(),e=Mr({mutationFn:({noteId:n,optimizeDto:r})=>T7(n,r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{optimizedNote:e.data,isLoading:e.isPending,error:e.error,optimizeNote:(n,r,s)=>e.mutate({noteId:n,optimizeDto:{subjectCode:r,courseCode:s}})}}function lre(){const t=Mn(),e=Mr({mutationFn:({noteId:n})=>_7(n),onSuccess:n=>{t.invalidateQueries({queryKey:["noteQuizzes"]}),t.setQueryData(["noteQuiz",n.id],n)}});return{generatedQuiz:e.data,isLoading:e.isPending,error:e.error,generateQuiz:(n,r)=>e.mutate({noteId:n},r)}}const cre="_toolbarContainer_hrjr5_1",ure="_iconButton_hrjr5_49",dre="_iconLabel_hrjr5_117",fre="_trash_hrjr5_167",hre="_edit_hrjr5_177",pre="_optimize_hrjr5_187",mre="_close_hrjr5_197",gre="_generate_hrjr5_207",Ni={toolbarContainer:cre,iconButton:ure,iconLabel:dre,trash:fre,edit:hre,optimize:pre,close:mre,generate:gre};function yre({onDelete:t,onToggleEdit:e,onClose:n,onOptimize:r,onGenerateQuiz:s,isEditing:o,isDeleting:a=!1}){const c=({icon:d,label:f,onClick:p,disabled:m,className:y})=>v.jsxs("button",{className:`${Ni.iconButton} ${y??""}`,onClick:p,disabled:m,children:[d,v.jsx("span",{className:Ni.iconLabel,children:f})]});return v.jsxs("div",{className:Ni.toolbarContainer,children:[v.jsx(c,{icon:v.jsx(Il,{size:16}),label:"Stng",onClick:n,className:Ni.close}),v.jsx(c,{icon:o?v.jsx(lV,{size:16}):v.jsx(uV,{size:16}),label:o?"Avsluta redigering":"Redigera",onClick:e,className:Ni.edit}),v.jsx(c,{icon:v.jsx(dI,{size:16}),label:"Optimera med AI",onClick:r,disabled:a,className:Ni.optimize}),v.jsx(c,{icon:v.jsx(lm,{size:16}),label:"Generera Quiz med AI",onClick:s,disabled:a,className:Ni.generate}),v.jsx(c,{icon:v.jsx(kV,{size:16}),label:"Radera",onClick:t,disabled:a,className:Ni.trash})]})}const vre="_outerContainer_1kjfr_1",bre="_innerContainer_1kjfr_21",xre="_subjectSelection_1kjfr_53",Sre="_changeSubjectBtn_1kjfr_83",wre="_horizontalDivider_1kjfr_161",Cre="_expanded_1kjfr_179",kre="_collapsed_1kjfr_187",Tre="_toolbarContainer_1kjfr_247",_re="_iconButton_1kjfr_279",Ere="_textareaContainer_1kjfr_335",Mre="_textarea_1kjfr_335",Sn={outerContainer:vre,innerContainer:bre,subjectSelection:xre,changeSubjectBtn:Sre,horizontalDivider:wre,expanded:Cre,collapsed:kre,toolbarContainer:Tre,iconButton:_re,textareaContainer:Ere,textarea:Mre};function Ore({noteId:t,noteContent:e="",onClose:n}){const{data:r,isLoading:s,error:o}=e3(t),a=Mn(),c=t3(),{optimizedNote:d,isLoading:f,optimizeNote:p}=are(),{editNote:m}=SR(),{generateQuiz:y,isLoading:x}=lre(),S=ps(),C=mt(Y=>Y.preferences).subjects||[],k=Array.isArray(C)?C.map(Y=>typeof Y=="string"?Y:Y.courseName):[],[_,A]=M.useState(r?.subject||""),[N,O]=M.useState(!!r?.subject),[j,P]=M.useState(!1),[D,H]=M.useState(null),[X,Z]=M.useState(!1);M.useEffect(()=>{O(!!_)},[_]),M.useEffect(()=>{const Y=new FD({extensions:[yR],content:e||r?.note||""});return H(Y),()=>Y.destroy()},[e,r?.note]),M.useEffect(()=>{D&&d?.id===t&&(D.commands.setContent(d.note),D.view?.dispatch(D.view.state.tr.scrollIntoView()))},[d,D,t]);const ce=async()=>{if(!D)return!1;try{const Y=D.getHTML();return await m(t,{subject:_,note:Y}),a.invalidateQueries({queryKey:["notes"]}),!0}catch(Y){return console.error("Misslyckades med att spara anteckning:",Y),!1}},Ie=()=>Z(!0),Ae=()=>{Z(!1),c.mutate(t,{onSuccess:()=>{a.invalidateQueries({queryKey:["notesCount"]}),n?.()},onError:console.error})},Ee=()=>{if(!r)return;const Y=C.find(se=>se.courseName===r.subject||se.courseCode===r.subject);Y&&p(t,Y.subjectCode,Y.courseCode)},q=()=>{r&&y(t,{onSuccess:Y=>{window.confirm("Quizet r klart! Vill du spela det nu?")&&S(`/quiz/${Y.id}`)},onError:console.error})};return s&&!e?v.jsx("p",{children:"Laddar anteckning..."}):o?v.jsxs("p",{children:["Fel: ",o.message]}):!e&&!r?.note?v.jsx("p",{children:"Ingen anteckning hittades"}):v.jsx(Mee,{mode:"wait",children:v.jsx(Mu.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25,ease:"easeInOut"},className:Sn.outerContainer,children:v.jsxs("div",{className:Sn.innerContainer,children:[v.jsx(yre,{onDelete:Ie,onToggleEdit:()=>P(Y=>!Y),onClose:n??(()=>{}),onOptimize:Ee,onGenerateQuiz:q,isEditing:j,isDeleting:!1}),v.jsxs("div",{className:Sn.subjectSelection,children:[v.jsx(zu,{title:"",options:j?k:[],selected:_,onSelect:j?A:()=>{},collapsed:!j||N}),j&&N&&v.jsx("button",{className:Sn.changeSubjectBtn,onClick:()=>O(!1),children:"ndra mne"})]}),j&&D&&v.jsx(vR,{editor:D}),j&&v.jsx("div",{className:`${Sn.horizontalDivider} ${N?Sn.collapsed:Sn.expanded}`}),f&&v.jsx("p",{children:"Optimerar anteckning..."}),x&&v.jsx("p",{children:"Genererar quiz..."}),D&&v.jsx("div",{className:Sn.textareaContainer,children:v.jsx("div",{className:Sn.textarea,children:v.jsx("div",{ref:Y=>{!Y||!D||(Y.contains(D.view.dom)||Y.appendChild(D.view.dom),D.setEditable(j))}})})}),j&&v.jsxs("div",{className:Sn.toolbarContainer,children:[v.jsx(Wr,{onSave:async()=>{const Y=await ce();return Y&&P(!1),Y}}),v.jsxs("button",{className:Sn.iconButton,onClick:()=>P(!1),children:[v.jsx(Il,{size:16})," Avbryt"]})]}),X&&v.jsx("div",{className:Sn.modalOverlay,children:v.jsxs(Mu.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:Sn.modalContent,children:[v.jsx("p",{children:"Vill du verkligen ta bort den hr anteckningen?"}),v.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem"},children:[v.jsx("button",{onClick:Ae,children:"Ja"}),v.jsx("button",{onClick:()=>Z(!1),children:"Nej"})]})]})})]})},t)})}const Are="_sidebar_p79rm_1",Nre="_nav_p79rm_21",Dre="_iconButton_p79rm_33",Rre="_add_p79rm_69",jre="_searchIcon_p79rm_79",Lre="_todayIcon_p79rm_79",Pre="_iconTextButton_p79rm_87",zre="_selected_p79rm_123",Bre="_navText_p79rm_139",Ire="_searchInput_p79rm_159",Vre="_clearButton_p79rm_207",Ure="_addText_p79rm_233",Hre="_sectionHeader_p79rm_275",$re="_sectionText_p79rm_297",bt={sidebar:Are,nav:Nre,iconButton:Dre,add:Rre,searchIcon:jre,todayIcon:Lre,iconTextButton:Pre,selected:zre,navText:Bre,searchInput:Ire,clearButton:Vre,addText:Ure,sectionHeader:Hre,sectionText:$re},Fre="/notes/notecollection";async function qre(){try{return(await qe.get(`${Fre}`)).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta alla note collections"):new Error("Kunde inte n servern")}}function Yre(){return Gr({queryKey:["noteCollections"],queryFn:()=>qre(),staleTime:1e3*60*5})}const Gre="_collectionsList_1i4s0_1",Wre="_collectionButton_1i4s0_23",Kre="_selected_1i4s0_55",Qre="_error_1i4s0_69",dh={collectionsList:Gre,collectionButton:Wre,selected:Kre,error:Qre};function Xre({onSelectCollection:t,selectedCollectionId:e}){const{data:n,isLoading:r,error:s}=Yre();return r?v.jsx("p",{children:"Laddar collections..."}):s?v.jsx("p",{className:dh.error,children:s.message}):!n||n.length===0?v.jsx("p",{children:"Inga collections"}):v.jsx("div",{className:dh.collectionsList,children:n.map(o=>v.jsxs("button",{className:`${dh.collectionButton} ${e===o.id?dh.selected:""}`,onClick:()=>t?.(o.id),children:[o.name," (",o.notes.length,")"]},o.id))})}function Jre({onAdd:t,onSearch:e,onToday:n,onSelectCategory:r}){const[s,o]=M.useState(""),[a,c]=M.useState(!1),[d,f]=M.useState("all");function p(S){const w=S.target.value;o(w),e?.(w)}const m=({icon:S,text:w,iconClass:C,onClick:k,id:_,disableSelect:A=!1,textColorClass:N})=>v.jsxs("button",{className:`${bt.iconTextButton} ${!A&&d===_?bt.selected:""}`,onClick:()=>{A||(f(_??null),r?.(w)),k?.()},children:[v.jsx("span",{className:`${bt.iconButton} ${C??""}`,children:S}),v.jsx("span",{className:`${bt.navText} ${N??""}`,children:w})]}),y=a||s!=="";function x(S){throw new Error("Function not implemented.")}return v.jsx("aside",{className:bt.sidebar,children:v.jsxs("nav",{className:bt.nav,children:[v.jsx(m,{icon:v.jsx(AO,{size:20}),text:"Lgg till anteckning",iconClass:bt.add,id:"add",disableSelect:!0,textColorClass:bt.addText,onClick:t}),v.jsxs("div",{className:`${bt.iconTextButton} ${y?bt.selected:""}`,children:[v.jsx("span",{className:`${bt.iconButton} ${bt.searchIcon}`,children:v.jsx(NO,{size:18})}),v.jsx("input",{value:s,onChange:p,placeholder:"Sk",className:bt.searchInput,autoFocus:a,onFocus:()=>c(!0),onBlur:()=>c(!1)}),s&&v.jsx("span",{className:bt.clearButton,onClick:()=>o(""),children:v.jsx(gb,{size:18})})]}),v.jsx(m,{icon:v.jsx(MO,{size:20}),text:"Alla",iconClass:bt.todayIcon,id:"all"}),v.jsx(m,{icon:v.jsx(_O,{size:20}),text:"Idag",iconClass:bt.todayIcon,id:"today",onClick:n}),v.jsx(m,{icon:v.jsx(r_,{size:20}),text:"Senaste veckan",iconClass:bt.todayIcon,id:"week"}),v.jsx(m,{icon:v.jsx(r_,{size:20}),text:"Senaste mnaden",iconClass:bt.todayIcon,id:"month"}),v.jsx(m,{icon:v.jsx(pI,{size:20}),text:"ldre n 1 mnad",iconClass:bt.todayIcon,id:"older"}),v.jsxs("div",{className:bt.sectionHeader,children:[v.jsx("span",{className:`${bt.iconButton}`,children:v.jsx(DI,{size:22})}),v.jsx("span",{className:bt.sectionText,children:"Collections"})]}),v.jsx(Xre,{onSelectCollection:x})]})})}const Zre="_notesWrapper_1m1wz_1",ese="_contentWrapper_1m1wz_19",tse="_notesListContainer_1m1wz_31",nse="_notesContentWrapper_1m1wz_51",rse="_modalOverlay_1m1wz_135",sse="_modalContent_1m1wz_161",el={notesWrapper:Zre,contentWrapper:ese,notesListContainer:tse,notesContentWrapper:nse,modalOverlay:rse,modalContent:sse};function ise(){const t=Mn();return Mr({mutationFn:e=>x7(e),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}})}function ose(){const[t]=M.useState({}),[e,n]=M.useState(!1),[r,s]=M.useState(null),[o,a]=M.useState(!1),[c,d]=M.useState(null),[f,p]=M.useState(""),[m,y]=M.useState(""),[x,S]=M.useState("Alla"),w=Mn(),C=ise(),k=t3(),{data:_,isLoading:A,error:N}=e3(r??void 0),O=async(P,D)=>{if(!P||!D.trim())return!1;try{const H=await C.mutateAsync({subject:P,note:D});return w.invalidateQueries({queryKey:["notesCount"]}),s(H.id),!0}catch(H){return console.error("Fel vid sparning av anteckning:",H),!1}},j=()=>{c&&k.mutate(c,{onSuccess:()=>{s(null),d(null),a(!1),w.invalidateQueries({queryKey:["notesCount"]})},onError:P=>{console.error(P),d(null)}})};return v.jsxs("div",{className:el.notesWrapper,children:[v.jsxs("div",{className:el.contentWrapper,children:[v.jsx(Jre,{onSelectCategory:P=>S(P),onAdd:()=>n(!0)}),v.jsx("div",{className:el.notesListContainer,children:v.jsx("div",{className:el.notesContentWrapper,children:e?v.jsx(kJ,{onSave:O,onClose:()=>n(!1),subject:f,setSubject:p,noteContent:m,setNoteContent:y}):r?v.jsxs("div",{className:`${Sn.noteCard} ${o?Sn.editMode:""}`,children:[A&&v.jsx("p",{children:"Laddar anteckning..."}),N&&v.jsxs("p",{children:["Fel: ",N.message]}),_&&o&&v.jsx(TJ,{noteId:r,initialSubject:_.subject,initialNote:_.note}),_&&!o&&v.jsx(Ore,{noteId:r,onClose:()=>s(null)})]}):v.jsx($7,{filter:t,onSelectNote:s,selectedCategory:x})})})]}),c&&v.jsx("div",{className:el.modalOverlay,children:v.jsxs("div",{className:el.modalContent,children:[v.jsx("p",{children:"Vill du verkligen ta bort den hr anteckningen?"}),v.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem"},children:[v.jsx("button",{onClick:j,children:"Ja"}),v.jsx("button",{onClick:()=>d(null),children:"Nej"})]})]})})]})}const ase="_subscriptionContainer_1otjw_1",lse="_banner_1otjw_37",cse="_planName_1otjw_65",use="_subscriptionList_1otjw_85",fh={subscriptionContainer:ase,banner:lse,planName:cse,subscriptionList:use},dse=()=>{const t=()=>{alert("Tack fr att du prenumererar!")};return v.jsxs("div",{className:fh.subscriptionContainer,children:[v.jsx("div",{className:fh.banner,children:"59 kr/mn"}),v.jsx("div",{className:fh.planName,children:"PREMIUM"}),v.jsxs("ul",{className:fh.subscriptionList,children:[v.jsx("li",{children:"Anvnd AI fr att frdjupa dina anteckningar"}),v.jsx("li",{children:"Anvnd AI fr att......."}),v.jsx("li",{children:"Anvnd AI fr att.........."}),v.jsx("li",{children:"Anvnd AI fr att...."})]}),v.jsx("button",{onClick:t,children:"Kp"})]})},fse="_plannerWrapper_1v8cf_1",hse="_contentWrapper_1v8cf_17",pse="_plannerListContainer_1v8cf_29",mse="_plannerContentWrapper_1v8cf_49",hh={plannerWrapper:fse,contentWrapper:hse,plannerListContainer:pse,plannerContentWrapper:mse},gse="_sidebar_1ctlz_1",yse="_content_1ctlz_21",vse="_header_1ctlz_37",bse="_text_1ctlz_51",tl={sidebar:gse,content:yse,header:vse,text:bse};function xse(){return v.jsx("aside",{className:tl.sidebar,children:v.jsxs("div",{className:tl.content,children:[v.jsx("h2",{className:tl.header,children:"Mlplaneraren"}),v.jsx("p",{className:tl.text,children:"Mlplaneraren hjlper dig att planera din framtid genom att utg frn dina skolbetyg. Hr kan du enkelt lgga in dina mnesbetyg och f ditt aktuella meritvrde berknat automatiskt."}),v.jsxs("p",{className:tl.text,children:["Baserat p ditt meritvrde kan du sedan utforska vilka utbildningar du r behrig till. Du kan sjlv ange ett omrde du r intresserad av, till exempel ",v.jsx("em",{children:"juridik"}),", och direkt f en lista ver relevanta utbildningar dr dina meriter rcker till."]}),v.jsx("p",{className:tl.text,children:"P s stt blir mlplaneraren ett std fr att frst dina mjligheter och ta nsta steg mot din framtida utbildning."})]})})}function Sse(){return v.jsx("div",{className:hh.plannerWrapper,children:v.jsxs("div",{className:hh.contentWrapper,children:[v.jsx(xse,{}),v.jsx("div",{className:hh.plannerListContainer,children:v.jsx("div",{className:hh.plannerContentWrapper,children:v.jsx("h1",{children:"Mlplaneraren"})})})]})})}const wse="_sidebar_1wwrl_1",Cse="_nav_1wwrl_21",kse="_iconButton_1wwrl_33",Tse="_iconTextButton_1wwrl_61",_se="_selected_1wwrl_97",Ese="_navText_1wwrl_113",nl={sidebar:wse,nav:Cse,iconButton:kse,iconTextButton:Tse,selected:_se,navText:Ese};function Mse({onSelectCategory:t}){const[e,n]=M.useState("profil"),r=({icon:s,text:o,id:a})=>v.jsxs("button",{className:`${nl.iconTextButton} ${e===a?nl.selected:""}`,onClick:()=>{n(a),t?.(a)},children:[v.jsx("span",{className:nl.iconButton,children:s}),v.jsx("span",{className:nl.navText,children:o})]});return v.jsx("aside",{className:nl.sidebar,children:v.jsxs("nav",{className:nl.nav,children:[v.jsx(r,{icon:v.jsx(RV,{size:20}),text:"Profil",id:"profil"}),v.jsx(r,{icon:v.jsx(vV,{size:20}),text:"Skerhet",id:"skerhet"}),v.jsx(r,{icon:v.jsx(tV,{size:20}),text:"Integritet",id:"integritet"})]})})}const Ose="_wrapper_rwyol_1",Ase="_content_rwyol_15",l2={wrapper:Ose,content:Ase},n3=()=>yn(),Nse="_formWrapper_sulb0_1",Dse="_header_sulb0_17",Rse="_icon_sulb0_41",jse="_form_sulb0_1",Lse="_buttonRow_sulb0_129",Pse="_submitBtn_sulb0_143",zse="_cancelBtn_sulb0_181",Mo={formWrapper:Nse,header:Dse,icon:Rse,form:jse,buttonRow:Lse,submitBtn:Pse,cancelBtn:zse};function Bse(){const t=n3(),e=mt(x=>x.profile.profile),[n,r]=M.useState(e?.firstname||""),[s,o]=M.useState(e?.lastname||""),[a,c]=M.useState(e?.email||"");M.useEffect(()=>{t(uu())},[t]),M.useEffect(()=>{r(e?.firstname||""),o(e?.lastname||""),c(e?.email||"")},[e]);const{data:d,isLoading:f,error:p}=Fb();M.useEffect(()=>{d&&console.log("Program frn Skolverket:",d)},[d]);const m=x=>{x.preventDefault(),console.log({firstName:n,lastName:s,email:a,programs:d})},y=()=>{r(e?.firstname||""),o(e?.lastname||""),c(e?.email||"")};return v.jsxs("div",{className:Mo.formWrapper,children:[v.jsxs("div",{className:Mo.header,children:[v.jsx(DO,{size:25,className:Mo.icon}),v.jsx("h2",{children:"Redigera profil"})]}),f&&v.jsx("p",{children:"Laddar program..."}),p&&v.jsxs("p",{children:["Ett fel intrffade: ",String(p)]}),v.jsxs("form",{onSubmit:m,className:Mo.form,children:[v.jsxs("label",{children:["Frnamn",v.jsx("input",{type:"text",value:n,onChange:x=>r(x.target.value),placeholder:"Frnamn"})]}),v.jsxs("label",{children:["Efternamn",v.jsx("input",{type:"text",value:s,onChange:x=>o(x.target.value),placeholder:"Efternamn"})]}),v.jsxs("label",{children:["E-postadress",v.jsx("input",{type:"email",value:a,onChange:x=>c(x.target.value),placeholder:"example@email.com"})]}),v.jsxs("div",{className:Mo.buttonRow,children:[v.jsxs("button",{type:"button",onClick:y,className:Mo.cancelBtn,children:[v.jsx(Il,{size:16})," Avbryt"]}),v.jsxs("button",{type:"submit",className:Mo.submitBtn,children:[v.jsx(mV,{size:16})," Spara"]})]})]})]})}function Ise(){const[t,e]=M.useState("profil");return v.jsxs("div",{className:l2.wrapper,children:[v.jsx(Mse,{onSelectCategory:e}),v.jsxs("div",{className:l2.content,children:[t==="profil"&&v.jsx("div",{children:v.jsx(Bse,{})}),t==="skerhet"&&v.jsxs("div",{children:[v.jsx("h2",{children:"Skerhet"}),v.jsx("p",{children:"Hr kan du ndra skerhetsinstllningar som lsenord och 2FA."})]}),t==="integritet"&&v.jsxs("div",{children:[v.jsx("h2",{children:"Integritet"}),v.jsx("p",{children:"Hantera din kontoinformation, synlighet och datadelning."}),v.jsxs("ul",{children:[v.jsx("li",{children:"Kontots synlighet (offentlig / privat)"}),v.jsx("li",{children:"Vem kan se din profilinformation"}),v.jsx("li",{children:"Dela data med tredjepartstjnster"}),v.jsx("li",{children:"Exportera eller ta bort ditt konto"})]})]})]})]})}function Vse(t){return yb({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3 5.5h-2.5V21h-1v-2.5H15v-1h2.5V15h1v2.5H21v1zM7 5h13v2H7z"},child:[]},{tag:"circle",attr:{cx:"3.5",cy:"18",r:"1.5"},child:[]},{tag:"path",attr:{d:"M18 11H7v2h6.11c1.26-1.24 2.99-2 4.89-2zM7 17v2h4.08c-.05-.33-.08-.66-.08-1s.03-.67.08-1H7z"},child:[]},{tag:"circle",attr:{cx:"3.5",cy:"6",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"3.5",cy:"12",r:"1.5"},child:[]}]})(t)}const Use="_sidebar_srkhd_1",Hse="_nav_srkhd_21",$se="_iconButton_srkhd_33",Fse="_iconTextButton_srkhd_61",qse="_selected_srkhd_97",Yse="_navText_srkhd_113",Gse="_folder_srkhd_141",Wse="_folderHeader_srkhd_155",Kse="_chevron_srkhd_189",Qse="_open_srkhd_199",Xse="_folderContent_srkhd_209",Jse="_subFolder_srkhd_223",Zse="_subFolderHeader_srkhd_235",eie="_subFolderOngoing_srkhd_251",tie="_active_srkhd_261",nie="_nested_srkhd_269",rie="_subFolderCompleted_srkhd_303",xt={sidebar:Use,nav:Hse,iconButton:$se,iconTextButton:Fse,selected:qse,navText:Yse,folder:Gse,folderHeader:Wse,chevron:Kse,open:Qse,folderContent:Xse,subFolder:Jse,subFolderHeader:Zse,subFolderOngoing:eie,active:tie,nested:nie,subFolderCompleted:rie};function sie({selectedCategory:t,onSelectCategory:e}){const[n,r]=M.useState({"amnen-kurser":!0}),s=c=>{r(d=>({...d,[c]:!d[c]}))},o=({icon:c,text:d,id:f,nested:p=!1})=>v.jsxs("button",{className:`${xt.iconTextButton} ${p?xt.nested:""} ${t===f?xt.selected:""}`,onClick:()=>{f!==t&&e?.(f)},children:[c&&v.jsx("span",{className:xt.iconButton,children:c}),v.jsx("span",{className:xt.navText,children:d})]}),a=c=>c.includes(t);return v.jsx("aside",{className:xt.sidebar,children:v.jsxs("nav",{className:xt.nav,children:[v.jsx(o,{icon:v.jsx($I,{size:20}),text:"versikt",id:"oversikt"}),v.jsx(o,{icon:v.jsx(_O,{size:20}),text:"Kalender",id:"kalender"}),v.jsx(o,{icon:v.jsx(lm,{size:20}),text:"Planera studier",id:"studier"}),v.jsxs("div",{className:xt.folder,children:[v.jsxs("div",{className:xt.folderHeader,onClick:()=>s("amnen-kurser"),children:[v.jsx(JI,{size:20,className:xt.iconButton}),v.jsx("span",{className:xt.navText,children:"mnen och kurser"}),v.jsx(EO,{size:16,className:`${xt.chevron} ${n["amnen-kurser"]?xt.open:""}`})]}),n["amnen-kurser"]&&v.jsxs("div",{className:xt.folderContent,children:[v.jsxs("div",{className:`${xt.subFolder} ${xt.subFolderOngoing} ${a(["amnen-kurser","mal","slutbetyg"])?xt.active:""}`,children:[v.jsx("div",{className:xt.subFolderHeader,children:"Pgende"}),v.jsx(o,{icon:v.jsx(OO,{size:20}),text:"mnen och kurser",id:"amnen-kurser",nested:!0}),v.jsx(o,{icon:v.jsx(PI,{size:20}),text:"Betygsml",id:"mal",nested:!0}),v.jsx(o,{icon:v.jsx(Vse,{size:23}),text:"Registrera slutbetyg",id:"slutbetyg",nested:!0})]}),v.jsxs("div",{className:`${xt.subFolder} ${xt.subFolderCompleted} ${a(["betyg-meritvarde","avklarade-amnen-kurser"])?xt.active:""}`,children:[v.jsx("div",{className:xt.subFolderHeader,children:"Avklarade"}),v.jsx(o,{icon:v.jsx(WI,{size:16}),text:"mnen och kurser",id:"avklarade-amnen-kurser",nested:!0}),v.jsx(o,{icon:v.jsx(oI,{size:16}),text:"Betyg och meritvrde",id:"betyg-meritvarde",nested:!0})]})]})]}),v.jsx(o,{icon:v.jsx(qh,{size:20}),text:"Behriga universitetsprogram",id:"universitetsprogram"})]})})}function iie(){return v.jsx(v.Fragment,{children:v.jsx("div",{children:"FirstPage"})})}function Im(t){return Gr({queryKey:["skolverketSubjects",t],queryFn:()=>t?M9(t):Promise.reject(new Error("Ingen programkod angiven")),enabled:!!t,staleTime:1e3*60*5})}const Sd="/user";async function oie(t){try{return(await qe.put(`${Sd}/preferences/subjects`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte lgga till mnen"):new Error("Kunde inte n servern")}}async function aie(t){try{return(await qe.put(`${Sd}/preferences/gradedsubjects`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte lgga till klara mnen"):new Error("Kunde inte n servern")}}async function lie(t){try{return(await qe.put(`${Sd}/preferences/subject-grades`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte stta betyg p mnen"):new Error("Kunde inte n servern")}}async function cie(t){try{return(await qe.put(`${Sd}/preferences/subject-grades/existing`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte stta betyg p mnen"):new Error("Kunde inte n servern")}}async function uie(t){try{return(await qe.put(`${Sd}/preferences/subject-grades/grade-goal`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte stta betygsml p mnen"):new Error("Kunde inte n servern")}}function r3(){const t=Mn();return Mr({mutationFn:e=>oie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}const die="_container_tqepn_1",fie="_main_tqepn_25",hie="_summarySidebar_tqepn_43",pie="_mainText_tqepn_75",mie="_infoText_tqepn_91",gie="_summaryContainer_tqepn_111",yie="_summaryBox_tqepn_125",vie="_summaryTitle_tqepn_149",bie="_subjectList_tqepn_167",xie="_subjectBanner_tqepn_179",Sie="_subjectCircle_tqepn_211",wie="_infoTextSummary_tqepn_223",Cie="_saveButtonWrapper_tqepn_289",Ue={container:die,main:fie,summarySidebar:hie,mainText:pie,infoText:mie,summaryContainer:gie,summaryBox:yie,summaryTitle:vie,subjectList:bie,subjectBanner:xie,subjectCircle:Sie,infoTextSummary:wie,saveButtonWrapper:Cie};function kie({selectedSubjects:t}){return v.jsx("div",{className:Ue.summaryContainer,children:v.jsxs("div",{className:Ue.summaryBox,children:[v.jsx("span",{className:Ue.summaryTitle,children:"Valda mnen"}),t.length===0?v.jsx("p",{className:Ue.infoTextSummary,children:"Inga mnen valda nnu."}):v.jsx("div",{className:Ue.subjectList,children:t.map(e=>{const n=Fl(e.courseName);return v.jsxs("div",{className:Ue.subjectBanner,children:[v.jsx("div",{className:Ue.subjectCircle,style:{backgroundColor:n}}),v.jsx("span",{children:e.courseName})]},e.courseCode)})})]})})}function Tie(){const t=yn(),e=mt(N=>N.preferences),n=e.program,r=e.orientation,s=n?.code??null,{data:o,isLoading:a,error:c}=Im(s),{mutate:d}=r3(),[f,p]=M.useState(e.subjects||[]);if(M.useEffect(()=>{e.subjects?.length&&p(e.subjects)},[e.subjects]),!s)return v.jsx("p",{children:"Program ej valt."});if(a)return v.jsx("p",{children:"Laddar mnen..."});if(c)return v.jsxs("p",{children:["Ett fel uppstod: ",c.message]});if(!o)return v.jsx("p",{children:"Inga mnen tillgngliga."});const m=o.program.foundationSubjects?.subjects??[],y=o.program.orientations?.find(N=>N.code===r?.code)?.subjects??[],x=o.program.programmeSpecificSubjects?.subjects??[],S=[...m,...y,...x],w={};S.forEach(N=>{if(!w[N.code])w[N.code]={...N,courses:N.courses?[...N.courses]:[]};else{const O=w[N.code].courses??[],j=N.courses?.filter(P=>!O.some(D=>D.code===P.code))??[];w[N.code].courses=[...O,...j]}});const C=Object.values(w),k=C.map(N=>({name:N.name,code:N.code,courses:N.courses?.map(O=>({name:O.name,code:O.code,points:O.points??"0"}))??[]})),_=(N,O)=>{const j=[...f],P=j.findIndex(D=>D.courseCode===N);if(P>=0)j.splice(P,1);else{const D=C.flatMap(X=>X.courses??[]).find(X=>X.code===N);if(!D)return;const H=C.find(X=>X.courses?.some(Z=>Z.code===N));if(!H)return;j.push({subjectCode:H.code,courseName:D.name,courseCode:D.code,coursePoints:Number(D.points??0)})}p(j)},A=async()=>{if(f.length===0)return!1;const N=f.map(O=>({subjectCode:O.subjectCode,courseName:O.courseName,courseCode:O.courseCode,coursePoints:O.coursePoints}));try{return await new Promise((O,j)=>{d(N,{onSuccess:()=>{t(mn({...e,subjects:f})),O()},onError:j})}),!0}catch(O){return console.error("Misslyckades med att spara kurser:",O),!1}};return v.jsxs("div",{className:Ue.container,children:[v.jsxs("div",{className:Ue.main,children:[v.jsx("div",{className:Ue.mainText,children:"Pgende kurser"}),v.jsx("div",{className:Ue.infoText,children:"Lgg in de kurser du lser just nu."}),v.jsx(Zn,{title:"mnen och kurser",options:k,selected:f.map(N=>N.courseCode),onCourseSelect:_,multiple:!0})]}),v.jsx("aside",{className:Ue.summarySidebar,children:v.jsxs("div",{className:Ue.summaryContainer,children:[v.jsx(kie,{selectedSubjects:f}),v.jsx("div",{className:Ue.saveButtonWrapper,children:v.jsx(Wr,{onSave:A})})]})})]})}async function _ie(){try{return(await qe.get("/goalplanner/enums")).data}catch(t){throw{message:t.response?.data?.message||"Kunde inte hmta enums",status:t.response?.status}}}function wd(){return Gr({queryKey:["grades-enums"],queryFn:()=>_ie(),staleTime:1e3*60*5,retry:1})}function s3(){const t=Mn();return Mr({mutationFn:e=>cie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}const Eie="_container_e6rsk_1",Mie="_main_e6rsk_25",Oie="_summarySidebar_e6rsk_43",Aie="_mainText_e6rsk_73",Nie="_infoText_e6rsk_89",Die="_info_e6rsk_89",Rie="_summaryContainer_e6rsk_127",jie="_summaryBox_e6rsk_141",Lie="_summaryTitle_e6rsk_167",Pie="_saveButtonWrapper_e6rsk_185",zie="_meritCircle_e6rsk_229",Oe={container:Eie,main:Mie,summarySidebar:Oie,mainText:Aie,infoText:Nie,info:Die,summaryContainer:Rie,summaryBox:jie,summaryTitle:Lie,saveButtonWrapper:Pie,meritCircle:zie};function Bie({meritValue:t}){return v.jsxs("div",{className:Oe.summaryContainer,children:[v.jsxs("div",{className:Oe.summaryBox,children:[v.jsx("span",{className:Oe.summaryTitle,children:"Jmfrelsetal"}),v.jsx("div",{className:Oe.meritCircle,children:t!=null?t.toFixed(2):"--"})]}),v.jsx("div",{className:Oe.summaryBox,children:v.jsxs("div",{className:Oe.info,children:["Glm inte bort att du kan ha meritpong ocks! Dem lgger du till sjlv.",v.jsx("br",{}),v.jsx("br",{}),"Jmfrelsetal + meritpong = meritvrde.",v.jsx("br",{}),v.jsx("br",{}),"Ditt sammanlagda meritvrde kan bli hgst 22,5."]})})]})}function Iie(){const t=yn(),e=mt(x=>x.preferences),{data:n,isLoading:r,error:s}=wd(),{mutate:o}=s3(),a=e.gradedSubjects??[],c={};a.forEach(x=>{x.grade&&(c[x.courseCode]=x.grade)});const[d,f]=M.useState(c);if(!a||a.length===0)return v.jsx("p",{children:"Inga mnen registrerade."});if(r)return v.jsx("p",{children:"Laddar betyg..."});if(s)return v.jsxs("p",{children:["Ett fel uppstod: ",s.message]});if(!n)return v.jsx("p",{children:"Inga betyg tillgngliga."});const p=Object.values(n.grades),m=(x,S)=>{f(w=>({...w,[x]:S}))},y=async()=>{const x=Object.entries(d).map(([S,w])=>({courseCode:S,grade:w}));try{return await new Promise((S,w)=>{o(x,{onSuccess:C=>{const k=C.subjects.map(_=>({..._,grade:_.grade??d[_.courseCode]??null}));t(mn({...e,gradedSubjects:k,meritValue:C.meritValue})),f({...d}),S()},onError:w})}),!0}catch(S){return console.error("Kunde inte spara betyg:",S),!1}};return v.jsxs("div",{className:Oe.container,children:[v.jsxs("div",{className:Oe.main,children:[v.jsx("div",{className:Oe.mainText,children:"Uppdatera betyg fr avklarade kurser"}),v.jsx("div",{className:Oe.infoText,children:"Nu kan du uppdatera dina betyg fr de kurser du . Detta hjlper oss att"}),a.map(x=>v.jsx(Zn,{title:x.courseName,options:p.map(S=>({name:S,code:S,points:"0"})),selected:d[x.courseCode]??null,onSelect:S=>{const w=Array.isArray(S)?S[0]:S;m(x.courseCode,w)},multiple:!1,variant:"green"},x.courseCode))]}),v.jsx("aside",{className:Oe.summarySidebar,children:v.jsxs("div",{className:Oe.summaryContainer,children:[v.jsx(Bie,{meritValue:e.meritValue??null,onSave:y}),v.jsx("div",{className:Oe.saveButtonWrapper,children:v.jsx(Wr,{onSave:y})})]})})]})}function i3(){const t=Mn();return Mr({mutationFn:e=>uie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}function Vie({meritValue:t}){return v.jsx("div",{className:Oe.summaryContainer,children:v.jsxs("div",{className:Oe.summaryBox,children:[v.jsx("span",{className:Oe.summaryTitle,children:"Jmfrelsetal baserat p ml"}),v.jsx("div",{className:Oe.meritCircle,children:t!=null?t.toFixed(2):"--"})]})})}function Uie(){const t=yn(),e=mt(w=>w.preferences),{data:n,isLoading:r,error:s}=wd(),{mutate:o}=i3(),a=e.subjects??[],c={};a.forEach(w=>{w.gradeGoal&&(c[w.courseCode]=w.gradeGoal)});const[d,f]=M.useState(c),[p,m]=M.useState(e.meritValueBasedOnGoal??null);if(!a||a.length===0)return v.jsx("p",{children:"Inga mnen registrerade."});if(r)return v.jsx("p",{children:"Laddar betygsenum..."});if(s)return v.jsxs("p",{children:["Ett fel uppstod: ",s.message]});if(!n)return v.jsx("p",{children:"Inga betyg tillgngliga."});const y=Object.values(n.grades),x=(w,C)=>{f(k=>({...k,[w]:C}))},S=async()=>{const w=Object.entries(d).map(([C,k])=>({courseCode:C,gradeGoal:k}));try{return await new Promise((C,k)=>{o(w,{onSuccess:_=>{const A=_.subjects.map(O=>{const j=a.find(P=>P.courseCode===O.courseCode);return{...O,grade:O.grade??j?.grade,gradeGoal:d[O.courseCode]??void 0,courseName:O.courseName,courseCode:O.courseCode,coursePoints:O.coursePoints}});t(mn({...e,subjects:A,meritValueBasedOnGoal:_.meritValueBasedOnGoal??null}));const N={};A.forEach(O=>{O.gradeGoal&&(N[O.courseCode]=O.gradeGoal)}),f(N),m(_.meritValueBasedOnGoal??null),C()},onError:_=>k(_)})}),!0}catch(C){return console.error("Kunde inte spara betygsml:",C),!1}};return v.jsxs("div",{className:Oe.container,children:[v.jsxs("div",{className:Oe.main,children:[v.jsx("div",{className:Oe.mainText,children:"Uppdatera dina betygsml"}),v.jsx("div",{className:Oe.infoText,children:"Stt upp dina ml och flj dina framsteg! Hr ser du dina nuvarande betyg och kan ange vilka ml du vill n. Spara dina ml fr att enkelt kunna flja din utveckling ver tid."}),a.map(w=>v.jsx(Zn,{title:w.courseName,options:y.map(C=>({name:C,code:C,points:"0"})),selected:d[w.courseCode]??void 0,currentGrade:w.grade??void 0,onSelect:C=>{const k=Array.isArray(C)?C[0]:C;x(w.courseCode,k)},multiple:!1},w.courseCode))]}),v.jsx("aside",{className:Oe.summarySidebar,children:v.jsxs("div",{className:Oe.summaryContainer,children:[v.jsx(Vie,{meritValue:p,onSave:S}),v.jsx("div",{className:Oe.saveButtonWrapper,children:v.jsx(Wr,{onSave:S})})]})})]})}const Hie="_card_n1pw4_1",$ie="_approvalIcon_n1pw4_39",Fie="_header_n1pw4_51",qie="_programName_n1pw4_63",Yie="_university_n1pw4_75",Gie="_readMoreButton_n1pw4_85",rl={card:Hie,approvalIcon:$ie,header:Fie,programName:qie,university:Yie,readMoreButton:Gie};function Wie({program:t}){return v.jsxs("div",{className:rl.card,children:[v.jsx(gU,{className:rl.approvalIcon,size:29}),v.jsxs("div",{className:rl.header,children:[v.jsx("h3",{className:rl.programName,children:t.programnamn}),v.jsxs("span",{className:rl.university,children:[t.universitet,"  ",t.ort]})]}),t.antagningUrl&&v.jsx("a",{href:t.antagningUrl,target:"_blank",rel:"noopener noreferrer",className:rl.readMoreButton,children:"Ls mer p Antagning.se"})]})}async function Kie(t){try{return(await qe.get(`/uhr/eligible-programs?searchfor=${encodeURIComponent(t)}`)).data}catch(e){if(e instanceof rO){const n=e.response?.data?.message||e.message||"Kunde inte hmta program";throw new Error(n)}throw new Error("Kunde inte n servern")}}function Qie(t){return Gr({queryKey:["eligiblePrograms",t],queryFn:()=>t?Kie(t):Promise.reject(new Error("Ingen skterm angiven")),enabled:!!t,staleTime:1e3*60*5})}const Xie="_programsGrid_1fj4i_1",Jie="_loading_1fj4i_15",Zie="_error_1fj4i_15",eoe="_empty_1fj4i_15",zs={programsGrid:Xie,loading:Jie,error:Zie,empty:eoe};function toe(){const[t,e]=M.useState(null),[n,r]=M.useState(""),{data:s,isLoading:o,error:a}=Qie(t),c=d=>{d.preventDefault(),e(n.trim()||null)};return v.jsxs("div",{className:zs.container,children:[v.jsx("div",{className:zs.introText,children:v.jsx("p",{children:'Hr kan du ska och se resultat p universitetsutbildningar du nuvarande har tillrckligt meritvrde fr. Sk p ett nyckelord, till exempel "juridik", s fr du upp juristlinjer i hela Sverige.'})}),v.jsxs("form",{onSubmit:c,className:zs.searchForm,children:[v.jsx("input",{type:"text",placeholder:"Sk program, t.ex. juridik eller ekonomi",value:n,onChange:d=>r(d.target.value),className:zs.searchInput}),v.jsx("button",{type:"submit",className:zs.searchButton,children:"Sk"})]}),o&&v.jsx("div",{className:zs.loading,children:"Laddar program..."}),a&&v.jsxs("div",{className:zs.error,children:["Fel: ",a.message]}),s&&s.length===0&&v.jsx("div",{className:zs.empty,children:"Inga program hittades"}),v.jsx("div",{className:zs.programsGrid,children:s?.map(d=>v.jsx(Wie,{program:d},d.programnamn))})]})}function noe(){const t=Mn();return Mr({mutationFn:e=>lie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}function roe({meritValue:t}){return v.jsxs("div",{className:Oe.summaryContainer,children:[v.jsxs("div",{className:Oe.summaryBox,children:[v.jsx("span",{className:Oe.summaryTitle,children:"Jmfrelsetal"}),v.jsx("div",{className:Oe.meritCircle,children:t!=null?t.toFixed(2):"--"})]}),v.jsx("div",{className:Oe.summaryBox,children:v.jsx("div",{className:Oe.info,children:"De betyg med bl ring runt sig r dina betygsml."})})]})}function soe(){const t=yn(),e=mt(w=>w.preferences),{data:n,isLoading:r,error:s}=wd(),{mutate:o}=noe(),a=e.subjects??[],c={};a.forEach(w=>{w.grade&&(c[w.courseCode]=w.grade)});const[d,f]=M.useState(c),[p,m]=M.useState(null);if(!a||a.length===0)return v.jsx("p",{children:"Inga mnen registrerade."});if(r)return v.jsx("p",{children:"Laddar betygsenum..."});if(s)return v.jsxs("p",{children:["Ett fel uppstod: ",s.message]});if(!n)return v.jsx("p",{children:"Inga betyg tillgngliga."});const y=Object.values(n.grades),x=(w,C)=>{f(_=>({..._,[w]:C}));const k=a.find(_=>_.courseCode===w);k?.gradeGoal&&k.gradeGoal===C&&(m(w),setTimeout(()=>m(null),3e3))},S=async()=>{const w=Object.entries(d).map(([C,k])=>({courseCode:C,grade:k}));try{return await new Promise((C,k)=>{o(w,{onSuccess:()=>{const _=(e.subjects??[]).map(O=>({...O,grade:d[O.courseCode]??O.grade??null})),A={};(e.gradedSubjects??[]).forEach(O=>{A[O.courseCode]={...O}}),Object.entries(d).forEach(([O,j])=>{const P=_.find(D=>D.courseCode===O);P&&(A[O]={courseCode:O,courseName:P.courseName,coursePoints:P.coursePoints??0,grade:j})});const N=Object.values(A);t(mn({...e,subjects:_,gradedSubjects:N})),f({...d}),C()},onError:k})}),!0}catch(C){return console.error("Kunde inte spara betyg:",C),!1}};return v.jsxs("div",{className:Oe.container,children:[v.jsxs("div",{className:Oe.main,children:[v.jsx("div",{className:Oe.mainText,children:"Registrera slutbetyg"}),v.jsx("div",{className:Oe.infoText,children:"Nr du har sparat dina betyg kommer du att kunna se dem i betyg och meritvrde."}),a.map(w=>v.jsxs("div",{className:Oe.subjectWrapper,children:[p===w.courseCode&&v.jsx("div",{className:Oe.celebrateMessage,children:" Grattis! Mlet uppntt! "}),v.jsx(Zn,{title:w.courseName,options:y.map(C=>({name:C,code:C,points:"0"})),selected:d[w.courseCode]??null,currentGrade:w.gradeGoal??void 0,onSelect:C=>{const k=Array.isArray(C)?C[0]:C;x(w.courseCode,k)},multiple:!1,variant:"default"})]},w.courseCode))]}),v.jsx("aside",{className:Oe.summarySidebar,children:v.jsxs("div",{className:Oe.summaryContainer,children:[v.jsx(roe,{meritValue:e.meritValue??null,onSave:S}),v.jsx("div",{className:Oe.saveButtonWrapper,children:v.jsx(Wr,{onSave:S})})]})})]})}function o3(){const t=Mn();return Mr({mutationFn:e=>aie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}function ioe({selectedSubjects:t}){return t.length===0?v.jsx("div",{className:Ue.summaryContainer,children:v.jsxs("div",{className:Ue.summaryBox,children:[v.jsx("span",{className:Ue.summaryTitle,children:"Avklarade mnen"}),v.jsx("p",{className:Ue.infoTextSummary,children:"Inga mnen valda nnu."})]})}):v.jsx("div",{className:Ue.summaryContainer,children:v.jsxs("div",{className:Ue.summaryBox,children:[v.jsx("span",{className:Ue.summaryTitle,children:"Avklarade mnen"}),v.jsx("div",{className:Ue.subjectList,children:t.map(e=>{const n=Fl(e.courseName);return v.jsxs("div",{className:Ue.subjectBanner,children:[v.jsx("div",{className:Ue.subjectCircle,style:{backgroundColor:n}}),v.jsx("span",{children:e.courseName})]},e.courseCode)})})]})})}function ooe(){const t=yn(),e=mt(j=>j.preferences),n=e.program,r=e.orientation,s=n?.code??null,{data:o,isLoading:a,error:c}=Im(s),{mutate:d}=o3(),[f,p]=M.useState([]),[m,y]=M.useState(!1);if(M.useEffect(()=>{p(e.gradedSubjects||[]),y(!1)},[e.gradedSubjects]),!s)return v.jsx("p",{children:"Program ej valt."});if(a)return v.jsx("p",{children:"Laddar mnen..."});if(c)return v.jsxs("p",{children:["Ett fel uppstod: ",c.message]});if(!o)return v.jsx("p",{children:"Inga mnen tillgngliga."});const x=o.program.foundationSubjects?.subjects??[],S=o.program.orientations?.find(j=>j.code===r?.code)?.subjects??[],w=o.program.programmeSpecificSubjects?.subjects??[],C=[...x,...S,...w],k={};C.forEach(j=>{if(!k[j.code])k[j.code]={...j,courses:j.courses?[...j.courses]:[]};else{const P=k[j.code].courses??[],D=j.courses?.filter(H=>!P.some(X=>X.code===H.code))??[];k[j.code].courses=[...P,...D]}});const _=Object.values(k),A=_.map(j=>({name:j.name,code:j.code,courses:j.courses?.map(P=>({name:P.name,code:P.code,points:P.points??"0"}))??[]})),N=j=>{const P=f.findIndex(X=>X.courseCode===j),D=_.flatMap(X=>X.courses??[]).find(X=>X.code===j);if(!D)return;const H=[...f];P>=0?H.splice(P,1):H.push({courseName:D.name,courseCode:D.code,coursePoints:Number(D.points??0)}),p(H)},O=async()=>{if(f.length===0)return!1;const j=f.map(P=>({courseName:P.courseName,courseCode:P.courseCode,coursePoints:P.coursePoints}));try{return await new Promise((P,D)=>{d(j,{onSuccess:()=>{y(!0),t(mn({...e,gradedSubjects:f})),P()},onError:D})}),!0}catch(P){return console.error("Misslyckades med att spara kurser:",P),!1}};return v.jsxs("div",{className:Ue.container,children:[v.jsxs("div",{className:Ue.main,children:[v.jsx("div",{className:Ue.mainText,children:"Avklarade kurser"}),v.jsxs("div",{className:Ue.infoText,children:["Som elev i rskurs ",e.year," har du redan avslutade kurser. Fyll i dessa kurser nedan fr att f en korrekt versikt ver dina studier."]}),v.jsxs("p",{style:{textDecoration:m?"line-through":"none",display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px"},children:[m?"":""," Spara dina avklarade kurser"]}),m&&v.jsx("p",{style:{marginBottom:"8px"},children:"I nsta steg kommer vi att be dig fylla i de betyg du har fr dessa kurser"}),m&&v.jsxs("div",{className:Ue.continueAction,onClick:()=>window.location.href="/studieplaneraren/betyg-meritvarde",style:{marginBottom:"12px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[v.jsx(ea,{size:25})," Fortstt till Betyg & Meritvrde"]}),v.jsx(Zn,{title:"mnen och kurser",options:A,selected:f.map(j=>j.courseCode),onCourseSelect:N,multiple:!0,variant:"green"})]}),v.jsx("aside",{className:Ue.summarySidebar,children:v.jsxs("div",{className:Ue.summaryContainer,children:[v.jsx(ioe,{selectedSubjects:f}),v.jsx("div",{className:Ue.saveButtonWrapper,children:v.jsx(Wr,{onSave:O})})]})})]})}const aoe="_wrapper_14exg_1",loe="_sidebarWrapper_14exg_17",coe="_content_14exg_37",Sv={wrapper:aoe,sidebarWrapper:loe,content:coe};function uoe(){const t=qr(),e=ps(),n=t.pathname.split("/").pop()||"oversikt",r=s=>{s!==n&&e(`/studieplaneraren/${s}`)};return v.jsxs("div",{className:Sv.wrapper,children:[v.jsx("div",{className:Sv.sidebarWrapper,children:v.jsx(sie,{selectedCategory:n,onSelectCategory:r})}),v.jsxs("div",{className:Sv.content,children:[n==="oversikt"&&v.jsx(iie,{}),n==="kalender"&&v.jsx("h2",{children:"Kalender"}),n==="mal"&&v.jsx(Uie,{}),n==="studier"&&v.jsx("h2",{children:"Studier"}),n==="amnen-kurser"&&v.jsx(Tie,{}),n==="betyg-meritvarde"&&v.jsx(Iie,{}),n==="universitetsprogram"&&v.jsx(toe,{}),n==="slutbetyg"&&v.jsx(soe,{}),n==="avklarade-amnen-kurser"&&v.jsx(ooe,{})]})]})}const doe=()=>{const t=yn(),e=ps();return M.useEffect(()=>{(async()=>{const r=await t($h());if($h.fulfilled.match(r)){const s=r.payload;t(iO({id:s.id,user:s.user,hasCompletedOnboarding:s.hasCompletedOnboarding})),setTimeout(()=>e("/hem"),400)}else e("/")})()},[t,e]),v.jsx("p",{children:"Verifierar Google-inloggning..."})},foe="_sidebar_1irrp_1",hoe="_nav_1irrp_23",poe="_iconButton_1irrp_35",moe="_iconTextButton_1irrp_63",goe="_selected_1irrp_99",yoe="_navText_1irrp_115",voe="_folder_1irrp_143",boe="_folderHeader_1irrp_157",xoe="_chevron_1irrp_191",Soe="_open_1irrp_201",woe="_folderContent_1irrp_211",Coe="_subFolder_1irrp_225",koe="_subFolderHeader_1irrp_237",Toe="_active_1irrp_261",_oe="_nested_1irrp_269",Eoe="_add_1irrp_363",Moe="_addText_1irrp_373",Ooe="_subjectBanner_1irrp_381",Aoe="_subjectCircle_1irrp_399",Noe="_disabledButton_1irrp_443",St={sidebar:foe,nav:hoe,iconButton:poe,iconTextButton:moe,selected:goe,navText:yoe,folder:voe,folderHeader:boe,chevron:xoe,open:Soe,folderContent:woe,subFolder:Coe,subFolderHeader:koe,active:Toe,nested:_oe,add:Eoe,addText:Moe,subjectBanner:Ooe,subjectCircle:Aoe,disabledButton:Noe};function Doe({onSelectCategory:t,onAdd:e}){const r=mt(m=>m.preferences).subjects??[],[s,o]=M.useState("all"),[a,c]=M.useState({folder1:!0}),d=m=>{c(y=>({...y,[m]:!y[m]}))},f=({icon:m,text:y,id:x,nested:S=!1,iconClass:w,disableSelect:C=!1,textColorClass:k,onClick:_})=>v.jsxs("button",{className:`${St.iconTextButton} ${S?St.nested:""} ${!C&&s===x?St.selected:""} ${C?St.disabledButton:""}`,onClick:()=>{C||o(x),_?.(),C||t?.(x)},children:[m&&v.jsx("span",{className:`${St.iconButton} ${w??""}`,children:m}),v.jsx("span",{className:`${St.navText} ${k??""}`,children:y})]}),p=m=>m.includes(s);return v.jsx("aside",{className:St.sidebar,children:v.jsxs("nav",{className:St.nav,children:[v.jsx(f,{icon:v.jsx(AO,{size:20}),text:"Skapa quiz",iconClass:St.add,id:"add",disableSelect:!0,textColorClass:St.addText,onClick:e}),v.jsx(f,{icon:v.jsx(MO,{size:20}),text:"Alla",iconClass:St.todayIcon,id:"all"}),v.jsxs("div",{className:St.folder,children:[v.jsxs("div",{className:St.folderHeader,onClick:()=>d("folder1"),children:[v.jsx("span",{className:St.navText,children:"mnen"}),v.jsx(EO,{className:`${St.chevron} ${a.folder1?St.open:""}`})]}),a.folder1&&v.jsx("div",{className:St.folderContent,children:r.map((m,y)=>{const x=[`sub-${y}-quiz`,`sub-${y}-flashcards`],S=Fl(m.courseCode);return v.jsxs("div",{className:`${St.subFolder} ${p(x)?St.active:""}`,children:[v.jsx("div",{className:St.subFolderHeader,children:v.jsxs("div",{className:St.subjectBanner,children:[v.jsx("span",{className:St.subjectCircle,style:{backgroundColor:S}}),m.courseName]})}),v.jsx(f,{text:"Quiz",id:x[0],nested:!0}),v.jsx(f,{text:"Flashcards",id:x[1],nested:!0,disableSelect:!0})]},m.courseCode)})})]})]})})}const Roe="_wrapper_14exg_1",joe="_sidebarWrapper_14exg_17",Loe="_content_14exg_37",wv={wrapper:Roe,sidebarWrapper:joe,content:Loe},a3="/quiz/note";async function Poe(){try{return(await qe.get(`${a3}`)).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta anteckningsquiz"):new Error("Kunde inte n servern")}}async function zoe(t){try{return(await qe.get(`${a3}/${t}`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta anteckningsquiz"):new Error("Kunde inte n servern")}}function Boe(){return Gr({queryKey:["noteQuizzes"],queryFn:Poe})}const Ioe="_card_1g0qs_1",Voe="_cardBody_1g0qs_33",Uoe="_quizTitle_1g0qs_45",Hoe="_courseName_1g0qs_57",$oe="_questionCount_1g0qs_67",Foe="_startButton_1g0qs_79",sl={card:Ioe,cardBody:Voe,quizTitle:Uoe,courseName:Hoe,questionCount:$oe,startButton:Foe};function qoe({quiz:t}){const e=ps(),n=()=>{e(`/quiz/${t.id}`)};return v.jsxs("div",{className:sl.card,children:[v.jsxs("div",{className:sl.cardBody,children:[v.jsx("h2",{className:sl.quizTitle,children:t.quizName}),v.jsx("p",{className:sl.courseName,children:t.courseName}),v.jsxs("p",{className:sl.questionCount,children:[t.questions.length," frgor"]})]}),v.jsxs("button",{onClick:n,className:sl.startButton,children:[v.jsx(fV,{size:18}),v.jsx("span",{children:"Starta quiz"})]})]})}const Yoe="_quizGrid_nv37c_1",Goe="_statusText_nv37c_15",Woe="_statusError_nv37c_29",ph={quizGrid:Yoe,statusText:Goe,statusError:Woe};function Koe(){const{data:t,isLoading:e,isError:n}=Boe();return e?v.jsx("div",{className:ph.statusText,children:"Laddar quiz..."}):n?v.jsx("div",{className:ph.statusError,children:"Kunde inte hmta quiz."}):!t||t.length===0?v.jsx("div",{className:ph.statusText,children:"Inga quiz hittades."}):v.jsx("div",{className:ph.quizGrid,children:t.map(r=>v.jsx(qoe,{quiz:r},r.id))})}function Qoe(){const[t,e]=M.useState("item1");return v.jsxs("div",{className:wv.wrapper,children:[v.jsx("div",{className:wv.sidebarWrapper,children:v.jsx(Doe,{onSelectCategory:e})}),v.jsxs("div",{className:wv.content,children:[t==="all"&&v.jsx(Koe,{}),t==="item2"&&v.jsx("h2",{children:"Content 2"}),t==="item3"&&v.jsx("h2",{children:"Content 3"}),t==="sub1"&&v.jsx("h2",{children:"Subcontent 1"}),t==="sub2"&&v.jsx("h2",{children:"Subcontent 2"}),t==="sub3"&&v.jsx("h2",{children:"Subcontent 3"}),t==="sub4"&&v.jsx("h2",{children:"Subcontent 4"}),t==="item4"&&v.jsx("h2",{children:"Content 4"})]})]})}function Xoe(t){return Gr({queryKey:["noteQuiz",t],queryFn:()=>zoe(t),enabled:!!t})}const Joe="_container_w2yol_1",Zoe="_card_w2yol_13",eae="_quizTitle_w2yol_27",tae="_questionCount_w2yol_41",nae="_questionText_w2yol_53",rae="_optionsContainer_w2yol_65",sae="_optionButton_w2yol_77",iae="_optionSelected_w2yol_109",oae="_footer_w2yol_121",aae="_progress_w2yol_135",lae="_nextButton_w2yol_143",cae="_retryButton_w2yol_165",uae="_resultText_w2yol_177",dae="_loading_w2yol_191",fae="_error_w2yol_203",wt={container:Joe,card:Zoe,quizTitle:eae,questionCount:tae,questionText:nae,optionsContainer:rae,optionButton:sae,optionSelected:iae,footer:oae,progress:aae,nextButton:lae,retryButton:cae,resultText:uae,loading:dae,error:fae},hae="_progressBarContainer_k1xvm_1",pae="_progressFill_k1xvm_17",c2={progressBarContainer:hae,progressFill:pae};function u2({value:t,className:e}){return v.jsx("div",{className:`${c2.progressBarContainer} ${e||""}`,children:v.jsx("div",{className:c2.progressFill,style:{width:`${t}%`}})})}const mae="_button_vujbm_1",gae="_primary_vujbm_21",yae="_secondary_vujbm_41",Cv={button:mae,primary:gae,secondary:yae};function mh({variant:t="primary",className:e="",...n}){return v.jsx("button",{className:`${Cv.button} ${t==="secondary"?Cv.secondary:Cv.primary} ${e}`,...n})}const vae="_card_1ed44_1",bae="_cardHeader_1ed44_27",xae="_cardTitle_1ed44_35",Sae="_cardContent_1ed44_49",Vm={card:vae,cardHeader:bae,cardTitle:xae,cardContent:Sae};function d2({children:t,className:e=""}){return v.jsx("div",{className:`${Vm.card} ${e}`,children:t})}function wae({children:t}){return v.jsx("div",{className:Vm.cardHeader,children:t})}function f2({children:t,className:e=""}){return v.jsx("h2",{className:`${Vm.cardTitle} ${e}`,children:t})}function Cae({children:t}){return v.jsx("div",{className:Vm.cardContent,children:t})}function kae({quizId:t}){const e=ps(),{data:n,isLoading:r,error:s}=Xoe(t),[o,a]=M.useState(0),[c,d]=M.useState({}),[f,p]=M.useState(!1),[m,y]=M.useState(0);if(r)return v.jsx("p",{className:wt.loading,children:"Laddar quiz..."});if(s)return v.jsxs("p",{className:wt.error,children:["Fel: ",s.message]});if(!n)return null;const x=n.questions[o],S=k=>{d(_=>({..._,[o]:k}))},w=()=>{if(o<n.questions.length-1)a(k=>k+1);else{const k=n.questions.reduce((_,A,N)=>{const O=c[N];return O==null?_:A.options[O]?.correct?_+1:_},0);y(k),p(!0)}},C=()=>{e("/quiz")};return f?v.jsx(Mu.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:wt.container,children:v.jsxs(d2,{className:wt.card,children:[v.jsx(f2,{className:wt.quizTitle,children:n.quizName}),v.jsxs("p",{className:wt.resultText,children:["Du fick ",v.jsx("strong",{children:m})," av ",n.questions.length," rtt "]}),v.jsx(u2,{value:m/n.questions.length*100,className:wt.progress}),v.jsxs("div",{className:wt.buttonGroup,children:[v.jsx(mh,{onClick:()=>e("/quiz"),children:"Tillbaka till quiz"}),v.jsx(mh,{onClick:()=>window.location.reload(),className:wt.retryButton,children:"Gr om quizet"})]})]})}):v.jsx(Mu.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.3},className:wt.container,children:v.jsxs(d2,{className:wt.card,children:[v.jsxs(wae,{children:[v.jsx(f2,{className:wt.quizTitle,children:n.quizName}),v.jsxs("p",{className:wt.questionCount,children:["Frga ",o+1," av ",n.questions.length]})]}),v.jsxs(Cae,{children:[v.jsx("p",{className:wt.questionText,children:x.question}),v.jsx("div",{className:wt.optionsContainer,children:x.options.map((k,_)=>{const A=c[o]===_;return v.jsx(Mu.button,{whileHover:{scale:1.02},onClick:()=>S(_),className:`${wt.optionButton} ${A?wt.optionSelected:""}`,children:k.optionText},_)})}),v.jsxs("div",{className:wt.footer,children:[v.jsx(u2,{value:(o+1)/n.questions.length*100,className:wt.progress}),v.jsxs("div",{className:wt.buttonGroup,children:[v.jsx(mh,{onClick:w,disabled:c[o]==null,className:wt.nextButton,children:o<n.questions.length-1?"Nsta":"Visa resultat"}),v.jsx(mh,{onClick:C,className:wt.cancelButton,children:"Avbryt"})]})]})]})]})},o)}const Tae="_sidebar_nrz4e_1",_ae="_nav_nrz4e_27",Eae="_iconButton_nrz4e_41",Mae="_add_nrz4e_67",Oae="_iconTextButton_nrz4e_77",Aae="_selected_nrz4e_113",Nae="_navText_nrz4e_129",Dae="_addText_nrz4e_157",xn={sidebar:Tae,nav:_ae,iconButton:Eae,add:Mae,iconTextButton:Oae,selected:Aae,navText:Nae,addText:Dae};function Rae({onEdit:t,userPrefs:e,availableOrientations:n,currentStep:r}){const[s,o]=M.useState(null),a=e.gradedSubjects??[],c=e.subjects??[],d=e.meritValue??null,f=a.length>0,p=c.length>0,m=r>=2&&(e.year===2||e.year===3)||f,y=r>=4||p;function x(C){o(k=>k===C?null:C)}const S=({icon:C,text:k,iconClass:_,onClick:A,id:N,disableSelect:O=!1,textColorClass:j})=>v.jsxs("button",{className:`${xn.iconTextButton} ${!O&&s===N?xn.selected:""}`,onClick:()=>{!O&&N&&x(N),A?.()},disabled:O,children:[v.jsx("span",{className:`${xn.iconButton} ${_??""}`,children:C}),v.jsx("span",{className:`${xn.navText} ${j??""}`,children:k})]}),w=C=>C.length===0?v.jsx("div",{style:{paddingLeft:"17px",fontSize:"13px",color:"#6e6e6e"},children:"Inga mnen valda nnu"}):v.jsx("nav",{className:xn.nav,children:C.map(k=>{const _=Fl(k.courseName);return v.jsxs("div",{className:xn.iconTextButton,style:{cursor:"default",backgroundColor:"#f0f7fd",display:"flex",alignItems:"center"},children:[v.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:_,marginLeft:"4px"}}),v.jsx("span",{className:xn.navText,style:{marginLeft:"8px"},children:k.courseName}),k.grade&&v.jsx("span",{style:{marginLeft:"auto",marginRight:"10px",fontWeight:600,color:"#3b3b3b"},children:k.grade}),k.gradeGoal&&v.jsxs("span",{style:{marginLeft:k.grade?"10px":"auto",marginRight:"10px",fontWeight:500,color:"#1a73e8"},children:[k.gradeGoal," "]}),k.coursePoints!=null&&v.jsxs("span",{style:{marginLeft:"10px",fontWeight:500,color:"#555",fontSize:"12px"},children:[k.coursePoints,"p"]})]},k.courseCode)})});return v.jsxs("aside",{className:xn.sidebar,children:[v.jsxs("nav",{className:xn.nav,children:[v.jsx(S,{icon:v.jsx(DO,{size:20}),text:"Studieprofil",iconClass:xn.add,id:"edit",disableSelect:!0,textColorClass:xn.addText,onClick:t}),v.jsx(S,{icon:v.jsx(qh,{size:20}),text:e.educationLevel||"Gymnasiet",iconClass:xn.educationLevelIcon,disableSelect:!0}),v.jsx(S,{icon:v.jsx(lm,{size:20}),text:e.program?`${e.program.name} (${e.program.code})`:"",iconClass:xn.fieldOfStudyIcon,disableSelect:!0}),n&&n.length>0&&v.jsx(S,{icon:v.jsx(qI,{size:20}),text:e.orientation?`${e.orientation.name} (${e.orientation.code})`:"",iconClass:xn.orientationIcon,disableSelect:!0}),v.jsx(S,{icon:v.jsx(yI,{size:20}),text:e.year?.toString()||"",iconClass:xn.yearIcon,disableSelect:!0})]}),m&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{marginTop:"10px",marginLeft:"7px",marginRight:"7px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"13px",fontWeight:600,color:"#6e6e6e"},children:[v.jsx("span",{children:"Avklarade mnen"}),d!=null&&v.jsxs("span",{children:["Jmfrelsetal: ",d.toFixed(2)]})]}),w(a.map(C=>({courseName:C.courseName,courseCode:C.courseCode,grade:C.grade??void 0,coursePoints:C.coursePoints})))]}),y&&v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{marginTop:"10px",marginLeft:"7px",marginRight:"7px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"13px",fontWeight:600,color:"#6e6e6e"},children:v.jsx("span",{children:"Pgende kurser"})}),w(c.map(C=>({courseName:C.courseName,courseCode:C.courseCode,gradeGoal:C.gradeGoal,coursePoints:C.coursePoints})))]})]})}const jae="_wrapper_ifk5n_1",Lae="_mainContent_ifk5n_19",Pae="_title_ifk5n_57",zae="_onboardingWrapper_ifk5n_87",Bae="_tabsContainer_ifk5n_99",Iae="_tab_ifk5n_99",Vae="_activeTab_ifk5n_149",Oo={wrapper:jae,mainContent:Lae,title:Pae,onboardingWrapper:zae,tabsContainer:Bae,tab:Iae,activeTab:Vae};function Uae({onComplete:t}){const e=yn(),n=mt(D=>D.preferences),r=n.program,s=n.orientation,o=r?.code??null,{data:a,isLoading:c,error:d}=Im(o),{mutateAsync:f}=o3(),[p,m]=M.useState([]),[y,x]=M.useState(!1);if(M.useEffect(()=>{m(n.gradedSubjects||[]),x(!1)},[n.gradedSubjects]),!o)return v.jsx("p",{children:"Program ej valt."});if(c)return v.jsx("p",{children:"Laddar mnen..."});if(d)return v.jsxs("p",{children:["Ett fel uppstod: ",d.message]});if(!a)return v.jsx("p",{children:"Inga mnen tillgngliga."});const S=a.program.foundationSubjects?.subjects??[],w=a.program.orientations?.find(D=>D.code===s?.code)?.subjects??[],C=a.program.programmeSpecificSubjects?.subjects??[],k=[...S,...w,...C],_={};k.forEach(D=>{if(!_[D.code])_[D.code]={...D,courses:D.courses?[...D.courses]:[]};else{const H=_[D.code].courses??[],X=D.courses?.filter(Z=>!H.some(ce=>ce.code===Z.code))??[];_[D.code].courses=[...H,...X]}});const A=Object.values(_),N=A.map(D=>({name:D.name,code:D.code,courses:D.courses?.map(H=>({name:H.name,code:H.code,points:H.points??"0"}))??[]})),O=D=>{const H=p.some(ce=>ce.courseCode===D),X=A.flatMap(ce=>ce.courses??[]).find(ce=>ce.code===D);if(!X)return;const Z=H?p.filter(ce=>ce.courseCode!==D):[...p,{courseName:X.name,courseCode:X.code,coursePoints:Number(X.points??0)}];m(Z),e(mn({...n,gradedSubjects:Z}))},j=()=>{m([]),x(!1),e(mn({...n,gradedSubjects:[]}))},P=async()=>{if(p.length===0)return!1;const D=p.map(H=>({courseName:H.courseName,courseCode:H.courseCode,coursePoints:H.coursePoints}));try{return await f(D),x(!0),e(mn({...n,gradedSubjects:p})),!0}catch{return!1}};return v.jsxs("div",{className:Ze.onboardingContainer,children:[v.jsx("br",{}),v.jsxs("p",{className:Ze.hint,children:[v.jsx("strong",{children:"Del 2 av 4: Avklarade mnen och kurser"}),v.jsx("br",{}),v.jsx("br",{}),'Nu har vi kommit till del tv av "komma igng"-processen som handlar om mnen och kurser!',v.jsx("br",{}),v.jsx("br",{}),"Som elev i rskurs ",n.year," har du avslutade kurser och hr i del tv behver vi veta vilka dom r.",v.jsx("br",{}),v.jsx("br",{}),"Fyll i dessa kurser nedan fr att f en korrekt versikt ver dina studier.",v.jsx("br",{}),v.jsx("br",{}),'Fr att vlja en kurs, klicka p mnet fr att expandera och se tillgngliga kurser. Klicka sedan p de kurser du har avslutat fr att markera dem. Nr du r klar, klicka p "Spara val" fr att komma vidare.']}),v.jsxs("p",{className:Ze.hintExtra,style:{textDecoration:y?"line-through":"none",display:"flex",alignItems:"center",gap:"6px"},children:[y?" Steg 4 -":" Steg 4 -"," Vlj dina avklarade kurser"]}),y&&v.jsxs("div",{className:Ze.continueAction,onClick:t,children:["Del 2/4 av komma igng r klar! Klicka hr fr att fortstta",v.jsx(ea,{size:25})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",marginBottom:"10px"},children:[v.jsxs("button",{type:"button",className:Ze.resetAction,onClick:j,children:[v.jsx(ad,{size:16})," Rensa"]}),v.jsx(Wr,{onSave:P})]}),v.jsx(Zn,{title:"mnen och kurser",options:N,selected:p.map(D=>D.courseCode),onCourseSelect:O,multiple:!0,variant:"green"})]})}function Hae({onComplete:t}){const e=yn(),n=mt(k=>k.preferences),r=n.gradedSubjects??[],{data:s,isLoading:o,error:a}=wd(),{mutateAsync:c}=s3(),d=Object.fromEntries(r.filter(k=>k.grade).map(k=>[k.courseCode,k.grade])),[f,p]=M.useState(d),[m,y]=M.useState(!1);if(M.useEffect(()=>{y(!1);const k=r.map(_=>({..._,grade:f[_.courseCode]??_.grade??null}));e(mn({...n,gradedSubjects:k}))},[f]),r.length===0)return v.jsx("p",{children:"Inga kurser registrerade."});if(o)return v.jsx("p",{children:"Laddar betyg..."});if(a)return v.jsxs("p",{children:["Ett fel uppstod: ",a.message]});if(!s)return v.jsx("p",{children:"Inga betyg tillgngliga."});const x=Object.values(s.grades).map(k=>({name:k,code:k,points:"0"})),S=(k,_)=>{p(A=>({...A,[k]:_}))},w=()=>{p({}),y(!1)},C=async()=>{const k=Object.entries(f).map(([_,A])=>({courseCode:_,grade:A}));try{const _=await c(k),A=_.subjects.map(N=>({...N,grade:N.grade??f[N.courseCode]??null}));return e(mn({...n,gradedSubjects:A,meritValue:_.meritValue})),y(!0),!0}catch{return!1}};return v.jsxs("div",{className:Ze.onboardingContainer,children:[v.jsxs("p",{className:Ze.hint,children:[v.jsx("br",{}),v.jsx("strong",{children:"Del 3 av 4: Markera slutbetyg fr avklarade kurser"}),v.jsx("br",{}),v.jsx("br",{}),'Nu r det dags att ange dina slutbetyg fr de kurser som du fyllde i den tidigare delen. Vlj betyg fr varje kurs nedan genom att klicka p alternativet. Nr du r klar, klicka p "Spara betyg".',v.jsx("br",{}),v.jsx("br",{}),"Nr du har sparat dina betyg kommer du att kunna se ditt uppdaterade jmfrelsetal i sammanfattningen till vnster p den hr sidan."]}),v.jsxs("p",{className:Ze.hintExtra,style:{textDecoration:m?"line-through":"none",display:"flex",alignItems:"center",gap:"6px"},children:[m?" Steg 5 -":" Steg 5 -"," Markera slutbetyg fr avklarade kurser"]}),m&&v.jsxs("div",{className:Ze.continueAction,onClick:t,children:["Steg 3 av 4 r klart! Klicka hr fr att g vidare",v.jsx(ea,{size:25})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",marginBottom:"10px"},children:[v.jsxs("button",{type:"button",className:Ze.resetAction,onClick:w,children:[v.jsx(ad,{size:16})," Rensa"]}),v.jsx(Wr,{onSave:C})]}),r.map(k=>v.jsx(Zn,{title:k.courseName,options:x,selected:f[k.courseCode]??null,onSelect:_=>S(k.courseCode,Array.isArray(_)?_[0]:_),multiple:!1,variant:"green"},k.courseCode))]})}function $ae({onComplete:t}){const e=yn(),n=mt(D=>D.preferences),r=n.program,s=n.orientation,o=r?.code??null,{data:a,isLoading:c,error:d}=Im(o),{mutate:f}=r3(),[p,m]=M.useState(n.subjects||[]),[y,x]=M.useState(!1);if(M.useEffect(()=>{e(mn({...n,subjects:[...p]})),x(!1)},[p]),!o)return v.jsx("p",{children:"Program ej valt."});if(c)return v.jsx("p",{children:"Laddar mnen..."});if(d)return v.jsxs("p",{children:["Ett fel uppstod: ",d.message]});if(!a)return v.jsx("p",{children:"Inga mnen tillgngliga."});const S=a.program.foundationSubjects?.subjects??[],w=a.program.orientations?.find(D=>D.code===s?.code)?.subjects??[],C=a.program.programmeSpecificSubjects?.subjects??[],k=[...S,...w,...C],_={};k.forEach(D=>{if(!_[D.code])_[D.code]={...D,courses:D.courses?[...D.courses]:[]};else{const H=_[D.code].courses??[],X=D.courses?.filter(Z=>!H.some(ce=>ce.code===Z.code))??[];_[D.code].courses=[...H,...X]}});const A=Object.values(_),N=A.map(D=>({name:D.name,code:D.code,courses:D.courses?.map(H=>({name:H.name,code:H.code,points:H.points??"0"}))??[]})),O=D=>{const H=[...p],X=H.findIndex(Z=>Z.courseCode===D);if(X>=0)H.splice(X,1);else{const Z=A.flatMap(Ie=>Ie.courses??[]).find(Ie=>Ie.code===D),ce=A.find(Ie=>Ie.courses?.some(Ae=>Ae.code===D));if(!Z||!ce)return;H.push({subjectCode:ce.code,courseName:Z.name,courseCode:Z.code,coursePoints:Number(Z.points??0)})}m(H)},j=()=>{m([]),x(!1)},P=async()=>{if(p.length===0)return!1;const D=p.map(H=>({subjectCode:H.subjectCode,courseName:H.courseName,courseCode:H.courseCode,coursePoints:H.coursePoints}));try{return await new Promise((H,X)=>f(D,{onSuccess:()=>{e(mn({...n,subjects:p})),x(!0),H()},onError:X})),!0}catch{return!1}};return v.jsxs("div",{className:Ze.onboardingContainer,children:[v.jsxs("p",{className:Ze.hint,children:[v.jsx("br",{}),v.jsx("strong",{children:n.year===1?"Del 2 av 2: Registrera pgende kurser":"Del 4 av 4: Registrera pgende kurser"}),v.jsx("br",{}),v.jsx("br",{}),"Nu r vi framme vid den sista delen! Fr att Stegvis ska kunna hjlpa dig p bsta stt, behver vi veta vilka kurser du lser just nu.",v.jsx("br",{}),v.jsx("br",{}),'Lgg in de kurser du lser just nu. Klicka p alternativet fr varje kurs du vill markera. Nr du r klar, klicka p "Spara kurser".',v.jsx("br",{}),v.jsx("br",{}),'Fr att vlja en kurs, klicka p mnet fr att expandera och se tillgngliga kurser. Klicka sedan p de kurser du har avslutat fr att markera dem. Nr du r klar, klicka p "Spara val" fr att komma vidare.',v.jsx("br",{}),v.jsx("br",{}),"Dina val kommer att uppdateras direkt i sammanfattningen till vnster."]}),v.jsxs("p",{className:Ze.hintExtra,style:{textDecoration:y?"line-through":"none",display:"flex",alignItems:"center",gap:"6px"},children:[n.year===1?y?" Steg 4 -":" Steg 4 -":y?" Steg 6 -":" Steg 6 -"," ","Markera pgende kurser"]}),y&&t&&v.jsxs("div",{className:Ze.continueAction,onClick:t,children:["Steg ",n.year===1?"2 av 2":"4 av 4"," r klart! Klicka hr fr att g vidare",v.jsx(ea,{size:25})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",marginBottom:"10px"},children:[v.jsxs("button",{type:"button",className:Ze.resetAction,onClick:j,children:[v.jsx(ad,{size:16})," Rensa"]}),v.jsx(Wr,{onSave:P})]}),v.jsx(Zn,{title:"mnen och kurser",options:N,selected:p.map(D=>D.courseCode),onCourseSelect:O,multiple:!0})]})}function Fae(){const t=yn();return Mr({mutationKey:["markOnboardingComplete"],mutationFn:i5,onSuccess:()=>{t(e5(!0))},onError:e=>{console.error("Failed to mark onboarding complete:",e)}})}function qae({onComplete:t}){const e=yn(),n=mt(N=>N.preferences),r=n.subjects??[],{mutate:s}=Fae(),{data:o,isLoading:a,error:c}=wd(),{mutateAsync:d}=i3(),f=Object.fromEntries(r.filter(N=>N.gradeGoal).map(N=>[N.courseCode,N.gradeGoal])),[p,m]=M.useState(f),[y,x]=M.useState(!1),[S,w]=M.useState(n.meritValueBasedOnGoal??null);if(M.useEffect(()=>{x(!1);const N=r.map(O=>({...O,gradeGoal:p[O.courseCode]??O.gradeGoal??void 0}));e(mn({...n,subjects:N,meritValueBasedOnGoal:S}))},[p]),r.length===0)return v.jsx("p",{children:"Inga mnen registrerade."});if(a)return v.jsx("p",{children:"Laddar betygsenum..."});if(c)return v.jsxs("p",{children:["Ett fel uppstod: ",c.message]});if(!o)return v.jsx("p",{children:"Inga betyg tillgngliga."});const C=Object.values(o.grades).map(N=>({name:N,code:N,points:"0"})),k=(N,O)=>{m(j=>({...j,[N]:O}))},_=()=>{m({}),x(!1)},A=async()=>{const N=Object.entries(p).map(([O,j])=>({courseCode:O,gradeGoal:j}));try{const O=await d(N),j=r.map(P=>({...P,gradeGoal:p[P.courseCode]??P.gradeGoal??void 0}));return e(mn({...n,subjects:j,meritValueBasedOnGoal:O.meritValueBasedOnGoal??null})),w(O.meritValueBasedOnGoal??null),x(!0),!0}catch{return!1}};return v.jsxs("div",{className:Ze.onboardingContainer,children:[v.jsxs("p",{className:Ze.hint,children:[v.jsx("br",{}),v.jsx("strong",{children:"Ngra sista ord"}),v.jsx("br",{}),v.jsx("br",{}),"Snyggt! Du har nu slutfrt din studieprofil! All information du har angett kommer att anvndas fr att skrddarsy din upplevelse i Stegvis.",v.jsx("br",{}),v.jsx("br",{}),"Vi vill ocks ge dig mjligheten att nu direkt ange dina betygsml fr de pgende kurser du har registrerat. Fundera en stund p vilka betyg du siktar p att uppn. Dina betygsml hjlper oss att anpassa dina rekommendationer och planering fr att maximera din studietid och framgng. Du kan alltid justera dessa ml senare i instllningarna i din studieprofil.",v.jsx("br",{}),v.jsx("br",{}),'Vlj betygsml fr varje kurs nedan genom att klicka p alternativet. Nr du r klar, klicka p "Spara betyg".',v.jsx("br",{}),v.jsx("br",{}),'Om du inte vill stta betygsml just nu, kan du helt enkelt klicka p knappen "Ta mig till startsidan".',v.jsx("br",{}),v.jsx("br",{}),v.jsxs("button",{type:"button",onClick:()=>s(),style:{marginBottom:"20px",backgroundColor:"#007bff",color:"white",padding:"12px 20px",borderRadius:"8px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"15px",fontWeight:600},children:["Ta mig till startsidan",v.jsx(ea,{size:20})]})]}),v.jsxs("p",{className:Ze.hintExtra,style:{textDecoration:y?"line-through":"none",display:"flex",alignItems:"center",gap:"6px"},children:[y?` Steg ${n.year===1?"3":"5"} - `:` Steg ${n.year===1?"3":"5"} - `,"Markera betygsml (valfritt)"]}),y&&t&&v.jsxs("div",{className:Ze.continueAction,onClick:t,children:["Steg ",n.year===1?"2 av 2":"3 av 4"," r klart! Klicka hr fr att g vidare",v.jsx(ea,{size:25})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",marginBottom:"10px"},children:[v.jsxs("button",{type:"button",className:Ze.resetAction,onClick:_,children:[v.jsx(ad,{size:16})," Rensa"]}),v.jsx(Wr,{onSave:A})]}),r.map(N=>v.jsx(Zn,{title:N.courseName,options:C,selected:p[N.courseCode]??null,onSelect:O=>k(N.courseCode,Array.isArray(O)?O[0]:O),multiple:!1},N.courseCode))]})}function Yae({title:t="Kom igng med Stegvis"}){const e=yn(),n=mt(x=>x.preferences),{data:r}=Fb(),[s,o]=M.useState(1),[a,c]=M.useState(1);M.useEffect(()=>{s>a&&c(s)},[s,a]);const d=x=>{e(mn(x))},f=n.program&&r?r.find(x=>x.code===n.program?.code)?.orientations.map(x=>({code:x.code,name:x.name,points:Number(x.points)}))??[]:[],p=n.year===1,y=(p?[{id:1,label:"Introduktion och utbildning"},{id:4,label:"Pgende kurser"},{id:5,label:"Avslutande ord"}]:[{id:1,label:"Introduktion och utbildning"},{id:2,label:"Avklarade kurser"},{id:3,label:"Slutbetyg"},{id:4,label:"Pgende kurser"},{id:5,label:"Avslutande ord"}]).filter(x=>x.id<=a);return v.jsxs("div",{className:Oo.wrapper,children:[v.jsx(Rae,{userPrefs:n,availableOrientations:f,currentStep:s}),v.jsxs("div",{className:Oo.mainContent,children:[v.jsx("div",{className:Oo.tabsContainer,children:y.map(({id:x,label:S})=>{const w=s===x;return v.jsx("button",{onClick:()=>o(x),className:`${Oo.tab} ${w?Oo.activeTab:""}`,children:S},x)})}),v.jsx("h1",{className:Oo.title,children:t}),v.jsxs("div",{className:Oo.onboardingWrapper,children:[s===1&&v.jsx(IA,{initialPrefs:n,onPrefsChange:d,onComplete:()=>{o(p?4:2)}}),s===2&&v.jsx(Uae,{onComplete:()=>o(3)}),s===3&&v.jsx(Hae,{onComplete:()=>o(4)}),s===4&&v.jsx($ae,{onComplete:()=>o(5)}),s===5&&v.jsx(qae,{})]})]})]})}const Gae=()=>v.jsx("div",{children:"Home Page"});function l3(){return v.jsxs(d6,{children:[v.jsx(un,{path:"/",element:v.jsx(qf,{children:v.jsx(AU,{})})}),v.jsx(un,{path:"/logga-in",element:v.jsx(qf,{children:v.jsx(LO,{})})}),v.jsx(un,{path:"/registrera-dig",element:v.jsx(qf,{children:v.jsx(TU,{})})}),v.jsx(un,{path:"/oauth2/success",element:v.jsx(qf,{children:v.jsx(doe,{})})}),v.jsx(un,{path:"/hem",element:v.jsx(Dr,{children:v.jsx(Gae,{})})}),v.jsx(un,{path:"/kom-igang",element:v.jsx(Dr,{children:v.jsx(Yae,{})})}),v.jsx(un,{path:"/studieplaneraren/*",element:v.jsx(Dr,{children:v.jsx(uoe,{})})}),v.jsx(un,{path:"/quiz",element:v.jsx(Dr,{children:v.jsx(Qoe,{})})}),v.jsx(un,{path:"/quiz/:quizId",element:v.jsx(Dr,{children:v.jsx(Wae,{})})}),v.jsx(un,{path:"/deadlines",element:v.jsx(Dr,{children:v.jsx(qF,{})})}),v.jsx(un,{path:"/min-utbildning",element:v.jsx(Dr,{children:v.jsx(b7,{})})}),v.jsx(un,{path:"/anteckningar",element:v.jsx(Dr,{children:v.jsx(ose,{})})}),v.jsx(un,{path:"/abonnemang",element:v.jsx(Dr,{children:v.jsx(dse,{})})}),v.jsx(un,{path:"/malplaneraren",element:v.jsx(Dr,{children:v.jsx(Sse,{})})}),v.jsx(un,{path:"/installningar",element:v.jsx(Dr,{children:v.jsx(Ise,{})})})]})}function Wae(){const{quizId:t}=Q5();return t?v.jsx(kae,{quizId:t}):v.jsx("p",{children:"Quiz saknas"})}const Kae="_mainContainer_1ekpd_1",Qae={mainContainer:Kae};function Xae(){return v.jsx("div",{className:Qae.mainContainer,children:v.jsx(l3,{})})}const Jae=Tt.create({baseURL:"https://seashell-app-8zxmg.ondigitalocean.app/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});let kv=!1,Q1=[];const Zae=t=>{Q1.push(t)},h2=t=>{Q1.forEach(e=>e(t)),Q1=[]},ele=t=>t?t.includes("/auth/login")||t.includes("/auth/refresh"):!1;qe.interceptors.response.use(t=>t,async t=>{const e=t.config,n=t.response?.status;if(!e)return Promise.reject(t);if(n===401&&!e._retry&&!ele(e.url)){if(e._retry=!0,!kv){kv=!0;try{await Jae.post("/auth/refresh",null,{withCredentials:!0}),h2(!0)}catch(s){return h2(!1),lb.dispatch(oO()),Promise.reject(s)}finally{kv=!1}}return new Promise((s,o)=>{Zae(a=>{a?s(qe(e)):o(t)})})}const r={message:t.response?.data?.message||t.message,status:n};return Promise.reject(r)});const tle="_sidebar_caghu_1",nle="_open_caghu_35",rle="_overlay_caghu_45",sle="_toggleButton_caghu_65",ile="_nav_caghu_97",ole="_navButton_caghu_113",ale="_activeNavButton_caghu_157",lle="_disabledNavButton_caghu_167",cle="_iconWrapper_caghu_177",ule="_navText_caghu_191",rs={sidebar:tle,open:nle,overlay:rle,toggleButton:sle,nav:ile,navButton:ole,activeNavButton:ale,disabledNavButton:lle,iconWrapper:cle,navText:ule};function dle(){const[t,e]=M.useState(!1),n=mt(a=>a.auth.hasCompletedOnboarding),r=ps(),s=qr(),o=[{name:"Hem",path:"/hem",icon:v.jsx(II,{size:18})},{name:"Min utbildning",path:"/min-utbildning",icon:v.jsx(qh,{size:18})},{name:"Studieplaneraren",path:"/studieplaneraren",icon:v.jsx(lm,{size:18})},{name:"Anteckningar",path:"/anteckningar",icon:v.jsx(AI,{size:18})},{name:"Studera",path:"/quiz",icon:v.jsx(PV,{size:18})},{name:"Minikurser",path:"/minikurser",icon:v.jsx(qh,{size:18}),disabledItem:!0},{name:"Mina framsteg",path:"/mina-framsteg",icon:v.jsx(bI,{size:18}),disabledItem:!0},{name:"Abonnemang",path:"/abonnemang",icon:v.jsx(jI,{size:18}),disabledItem:!0}];return v.jsxs(v.Fragment,{children:[t&&v.jsx("div",{className:rs.overlay,onClick:()=>e(!1)}),v.jsxs("aside",{className:`${rs.sidebar} ${t?rs.open:""}`,children:[v.jsx("button",{className:rs.toggleButton,onClick:()=>e(!t),disabled:!n,children:t?v.jsx(Il,{size:22}):v.jsx(oV,{size:22})}),v.jsx("nav",{className:rs.nav,children:o.map(a=>{const c=s.pathname===a.path,d=!n||a.disabledItem,f=d?void 0:()=>{r(a.path),e(!1)};return v.jsxs("button",{onClick:f,className:`${rs.navButton} ${c?rs.activeNavButton:""} ${d?rs.disabledNavButton:""}`,disabled:d,children:[v.jsx("span",{className:rs.iconWrapper,children:a.icon}),t&&v.jsx("span",{className:rs.navText,children:a.name})]},a.path)})})]})]})}function fle(){const t=n3(),e=mt(n=>n.auth.isAuthenticated);return M.useEffect(()=>{e&&(t(uu()),t(xh()))},[e,t]),v.jsxs(j6,{children:[e&&v.jsx(XV,{}),e&&v.jsx(dle,{}),e?v.jsx(Xae,{}):v.jsxs(v.Fragment,{children:[v.jsx(l3,{}),v.jsx("div",{style:{paddingTop:"70px"},children:v.jsx(m5,{})})]})]})}const hle=new p9;VP.createRoot(document.getElementById("root")).render(v.jsx(M.StrictMode,{children:v.jsx(r4,{store:lb,children:v.jsxs(m9,{client:hle,children:[v.jsx(fle,{}),!1]})})}))});export default ple();
