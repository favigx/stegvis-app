var _P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var nle=_P((Cle,Dh)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Fp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xy={exports:{}},$c={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function kP(){if(JC)return $c;JC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var a=null;if(o!==void 0&&(a=""+o),s.key!==void 0&&(a=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:o}}return $c.Fragment=e,$c.jsx=n,$c.jsxs=n,$c}var ZC;function EP(){return ZC||(ZC=1,Xy.exports=kP()),Xy.exports}var x=EP(),Jy={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function MP(){if(e_)return _e;e_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function T(j,K,se){this.props=j,this.context=K,this.refs=w,this.updater=se||b}T.prototype.isReactComponent={},T.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function _(){}_.prototype=T.prototype;function M(j,K,se){this.props=j,this.context=K,this.refs=w,this.updater=se||b}var A=M.prototype=new _;A.constructor=M,S(A,T.prototype),A.isPureReactComponent=!0;var N=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function L(j,K,se,ne,fe,Be){return se=Be.ref,{$$typeof:t,type:j,key:K,ref:se!==void 0?se:null,props:Be}}function R(j,K){return L(j.type,K,void 0,void 0,void 0,j.props)}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function Z(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(se){return K[se]})}var oe=/\/+/g;function ce(j,K){return typeof j=="object"&&j!==null&&j.key!=null?Z(""+j.key):K.toString(36)}function Pe(){}function Ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Pe,Pe):(j.status="pending",j.then(function(K){j.status==="pending"&&(j.status="fulfilled",j.value=K)},function(K){j.status==="pending"&&(j.status="rejected",j.reason=K)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function xe(j,K,se,ne,fe){var Be=typeof j;(Be==="undefined"||Be==="boolean")&&(j=null);var we=!1;if(j===null)we=!0;else switch(Be){case"bigint":case"string":case"number":we=!0;break;case"object":switch(j.$$typeof){case t:case e:we=!0;break;case p:return we=j._init,xe(we(j._payload),K,se,ne,fe)}}if(we)return fe=fe(j),we=ne===""?"."+ce(j,0):ne,N(fe)?(se="",we!=null&&(se=we.replace(oe,"$&/")+"/"),xe(fe,K,se,"",function(ni){return ni})):fe!=null&&(W(fe)&&(fe=R(fe,se+(fe.key==null||j&&j.key===fe.key?"":(""+fe.key).replace(oe,"$&/")+"/")+we)),K.push(fe)),1;we=0;var Bn=ne===""?".":ne+":";if(N(j))for(var ot=0;ot<j.length;ot++)ne=j[ot],Be=Bn+ce(ne,ot),we+=xe(ne,K,se,Be,fe);else if(ot=y(j),typeof ot=="function")for(j=ot.call(j),ot=0;!(ne=j.next()).done;)ne=ne.value,Be=Bn+ce(ne,ot++),we+=xe(ne,K,se,Be,fe);else if(Be==="object"){if(typeof j.then=="function")return xe(Ce(j),K,se,ne,fe);throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return we}function F(j,K,se){if(j==null)return j;var ne=[],fe=0;return xe(j,ne,"","",function(Be){return K.call(se,Be,fe++)}),ne}function q(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(se){(j._status===0||j._status===-1)&&(j._status=1,j._result=se)},function(se){(j._status===0||j._status===-1)&&(j._status=2,j._result=se)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ne(){}return _e.Children={map:F,forEach:function(j,K,se){F(j,function(){K.apply(this,arguments)},se)},count:function(j){var K=0;return F(j,function(){K++}),K},toArray:function(j){return F(j,function(K){return K})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},_e.Component=T,_e.Fragment=n,_e.Profiler=s,_e.PureComponent=M,_e.StrictMode=r,_e.Suspense=f,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,_e.__COMPILER_RUNTIME={__proto__:null,c:function(j){return O.H.useMemoCache(j)}},_e.cache=function(j){return function(){return j.apply(null,arguments)}},_e.cloneElement=function(j,K,se){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ne=S({},j.props),fe=j.key,Be=void 0;if(K!=null)for(we in K.ref!==void 0&&(Be=void 0),K.key!==void 0&&(fe=""+K.key),K)!B.call(K,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&K.ref===void 0||(ne[we]=K[we]);var we=arguments.length-2;if(we===1)ne.children=se;else if(1<we){for(var Bn=Array(we),ot=0;ot<we;ot++)Bn[ot]=arguments[ot+2];ne.children=Bn}return L(j.type,fe,void 0,void 0,Be,ne)},_e.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},_e.createElement=function(j,K,se){var ne,fe={},Be=null;if(K!=null)for(ne in K.key!==void 0&&(Be=""+K.key),K)B.call(K,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(fe[ne]=K[ne]);var we=arguments.length-2;if(we===1)fe.children=se;else if(1<we){for(var Bn=Array(we),ot=0;ot<we;ot++)Bn[ot]=arguments[ot+2];fe.children=Bn}if(j&&j.defaultProps)for(ne in we=j.defaultProps,we)fe[ne]===void 0&&(fe[ne]=we[ne]);return L(j,Be,void 0,void 0,null,fe)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(j){return{$$typeof:c,render:j}},_e.isValidElement=W,_e.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:q}},_e.memo=function(j,K){return{$$typeof:d,type:j,compare:K===void 0?null:K}},_e.startTransition=function(j){var K=O.T,se={};O.T=se;try{var ne=j(),fe=O.S;fe!==null&&fe(se,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Ne,re)}catch(Be){re(Be)}finally{O.T=K}},_e.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},_e.use=function(j){return O.H.use(j)},_e.useActionState=function(j,K,se){return O.H.useActionState(j,K,se)},_e.useCallback=function(j,K){return O.H.useCallback(j,K)},_e.useContext=function(j){return O.H.useContext(j)},_e.useDebugValue=function(){},_e.useDeferredValue=function(j,K){return O.H.useDeferredValue(j,K)},_e.useEffect=function(j,K,se){var ne=O.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(j,K)},_e.useId=function(){return O.H.useId()},_e.useImperativeHandle=function(j,K,se){return O.H.useImperativeHandle(j,K,se)},_e.useInsertionEffect=function(j,K){return O.H.useInsertionEffect(j,K)},_e.useLayoutEffect=function(j,K){return O.H.useLayoutEffect(j,K)},_e.useMemo=function(j,K){return O.H.useMemo(j,K)},_e.useOptimistic=function(j,K){return O.H.useOptimistic(j,K)},_e.useReducer=function(j,K,se){return O.H.useReducer(j,K,se)},_e.useRef=function(j){return O.H.useRef(j)},_e.useState=function(j){return O.H.useState(j)},_e.useSyncExternalStore=function(j,K,se){return O.H.useSyncExternalStore(j,K,se)},_e.useTransition=function(){return O.H.useTransition()},_e.version="19.1.1",_e}var t_;function Al(){return t_||(t_=1,Jy.exports=MP()),Jy.exports}var E=Al();const Rn=Fp(E);var Zy={exports:{}},Fc={},e0={exports:{}},t0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function OP(){return n_||(n_=1,function(t){function e(F,q){var re=F.length;F.push(q);e:for(;0<re;){var Ne=re-1>>>1,j=F[Ne];if(0<s(j,q))F[Ne]=q,F[re]=j,re=Ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var q=F[0],re=F.pop();if(re!==q){F[0]=re;e:for(var Ne=0,j=F.length,K=j>>>1;Ne<K;){var se=2*(Ne+1)-1,ne=F[se],fe=se+1,Be=F[fe];if(0>s(ne,re))fe<j&&0>s(Be,ne)?(F[Ne]=Be,F[fe]=re,Ne=fe):(F[Ne]=ne,F[se]=re,Ne=se);else if(fe<j&&0>s(Be,re))F[Ne]=Be,F[fe]=re,Ne=fe;else break e}}return q}function s(F,q){var re=F.sortIndex-q.sortIndex;return re!==0?re:F.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var f=[],d=[],p=1,m=null,y=3,b=!1,S=!1,w=!1,T=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function N(F){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=F)r(d),q.sortIndex=q.expirationTime,e(f,q);else break;q=n(d)}}function O(F){if(w=!1,N(F),!S)if(n(f)!==null)S=!0,B||(B=!0,ce());else{var q=n(d);q!==null&&xe(O,q.startTime-F)}}var B=!1,L=-1,R=5,W=-1;function Z(){return T?!0:!(t.unstable_now()-W<R)}function oe(){if(T=!1,B){var F=t.unstable_now();W=F;var q=!0;try{e:{S=!1,w&&(w=!1,M(L),L=-1),b=!0;var re=y;try{t:{for(N(F),m=n(f);m!==null&&!(m.expirationTime>F&&Z());){var Ne=m.callback;if(typeof Ne=="function"){m.callback=null,y=m.priorityLevel;var j=Ne(m.expirationTime<=F);if(F=t.unstable_now(),typeof j=="function"){m.callback=j,N(F),q=!0;break t}m===n(f)&&r(f),N(F)}else r(f);m=n(f)}if(m!==null)q=!0;else{var K=n(d);K!==null&&xe(O,K.startTime-F),q=!1}}break e}finally{m=null,y=re,b=!1}q=void 0}}finally{q?ce():B=!1}}}var ce;if(typeof A=="function")ce=function(){A(oe)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Ce=Pe.port2;Pe.port1.onmessage=oe,ce=function(){Ce.postMessage(null)}}else ce=function(){_(oe,0)};function xe(F,q){L=_(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(F){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var re=y;y=q;try{return F()}finally{y=re}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var re=y;y=F;try{return q()}finally{y=re}},t.unstable_scheduleCallback=function(F,q,re){var Ne=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ne+re:Ne):re=Ne,F){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=re+j,F={id:p++,callback:q,priorityLevel:F,startTime:re,expirationTime:j,sortIndex:-1},re>Ne?(F.sortIndex=re,e(d,F),n(f)===null&&F===n(d)&&(w?(M(L),L=-1):w=!0,xe(O,re-Ne))):(F.sortIndex=j,e(f,F),S||b||(S=!0,B||(B=!0,ce()))),F},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(F){var q=y;return function(){var re=y;y=q;try{return F.apply(this,arguments)}finally{y=re}}}}(t0)),t0}var r_;function AP(){return r_||(r_=1,e0.exports=OP()),e0.exports}var n0={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function NP(){if(s_)return ln;s_=1;var t=Al();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:f,containerInfo:d,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ln.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},ln.flushSync=function(f){var d=a.T,p=r.p;try{if(a.T=null,r.p=2,f)return f()}finally{a.T=d,r.p=p,r.d.f()}},ln.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},ln.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ln.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ln.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},ln.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ln.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},ln.requestFormReset=function(f){r.d.r(f)},ln.unstable_batchedUpdates=function(f,d){return f(d)},ln.useFormState=function(f,d,p){return a.H.useFormState(f,d,p)},ln.useFormStatus=function(){return a.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var i_;function c2(){if(i_)return n0.exports;i_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),n0.exports=NP(),n0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function DP(){if(o_)return Fc;o_=1;var t=AP(),e=Al(),n=c2();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function a(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var u=i,h=l;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return c(g),i;if(v===h)return c(g),l;v=v.sibling}throw Error(r(188))}if(u.return!==h.return)u=g,h=v;else{for(var C=!1,k=g.child;k;){if(k===u){C=!0,u=g,h=v;break}if(k===h){C=!0,h=g,u=v;break}k=k.sibling}if(!C){for(k=v.child;k;){if(k===u){C=!0,u=v,h=g;break}if(k===h){C=!0,h=v,u=g;break}k=k.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:l}function d(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=d(i),l!==null)return l;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var Pe=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Pe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case B:return"SuspenseList";case W:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case A:return(i.displayName||"Context")+".Provider";case M:return(i._context.displayName||"Context")+".Consumer";case N:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return l=i.displayName||null,l!==null?l:Ce(i.type)||"Memo";case R:l=i._payload,i=i._init;try{return Ce(i(l))}catch{}}return null}var xe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ne=[],j=-1;function K(i){return{current:i}}function se(i){0>j||(i.current=Ne[j],Ne[j]=null,j--)}function ne(i,l){j++,Ne[j]=i.current,i.current=l}var fe=K(null),Be=K(null),we=K(null),Bn=K(null);function ot(i,l){switch(ne(we,l),ne(Be,i),ne(fe,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?kC(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=kC(l),i=EC(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(fe),ne(fe,i)}function ni(){se(fe),se(Be),se(we)}function Pm(i){i.memoizedState!==null&&ne(Bn,i);var l=fe.current,u=EC(l,i.type);l!==u&&(ne(Be,i),ne(fe,u))}function xf(i){Be.current===i&&(se(fe),se(Be)),Bn.current===i&&(se(Bn),zc._currentValue=re)}var Bm=Object.prototype.hasOwnProperty,zm=t.unstable_scheduleCallback,Vm=t.unstable_cancelCallback,r3=t.unstable_shouldYield,s3=t.unstable_requestPaint,qr=t.unstable_now,i3=t.unstable_getCurrentPriorityLevel,oS=t.unstable_ImmediatePriority,aS=t.unstable_UserBlockingPriority,Sf=t.unstable_NormalPriority,o3=t.unstable_LowPriority,lS=t.unstable_IdlePriority,a3=t.log,l3=t.unstable_setDisableYieldValue,Yl=null,zn=null;function ri(i){if(typeof a3=="function"&&l3(i),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(Yl,i)}catch{}}var Vn=Math.clz32?Math.clz32:f3,c3=Math.log,u3=Math.LN2;function f3(i){return i>>>=0,i===0?32:31-(c3(i)/u3|0)|0}var wf=256,Tf=4194304;function no(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Cf(i,l,u){var h=i.pendingLanes;if(h===0)return 0;var g=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var k=h&134217727;return k!==0?(h=k&~v,h!==0?g=no(h):(C&=k,C!==0?g=no(C):u||(u=k&~i,u!==0&&(g=no(u))))):(k=h&~v,k!==0?g=no(k):C!==0?g=no(C):u||(u=h&~i,u!==0&&(g=no(u)))),g===0?0:l!==0&&l!==g&&(l&v)===0&&(v=g&-g,u=l&-l,v>=u||v===32&&(u&4194048)!==0)?l:g}function Wl(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function d3(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cS(){var i=wf;return wf<<=1,(wf&4194048)===0&&(wf=256),i}function uS(){var i=Tf;return Tf<<=1,(Tf&62914560)===0&&(Tf=4194304),i}function Im(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function Gl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function h3(i,l,u,h,g,v){var C=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,D=i.expirationTimes,I=i.hiddenUpdates;for(u=C&~u;0<u;){var Y=31-Vn(u),Q=1<<Y;k[Y]=0,D[Y]=-1;var U=I[Y];if(U!==null)for(I[Y]=null,Y=0;Y<U.length;Y++){var H=U[Y];H!==null&&(H.lane&=-536870913)}u&=~Q}h!==0&&fS(i,h,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~l))}function fS(i,l,u){i.pendingLanes|=l,i.suspendedLanes&=~l;var h=31-Vn(l);i.entangledLanes|=l,i.entanglements[h]=i.entanglements[h]|1073741824|u&4194090}function dS(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-Vn(u),g=1<<h;g&l|i[h]&l&&(i[h]|=l),u&=~g}}function Um(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Hm(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function hS(){var i=q.p;return i!==0?i:(i=window.event,i===void 0?32:YC(i.type))}function p3(i,l){var u=q.p;try{return q.p=i,l()}finally{q.p=u}}var si=Math.random().toString(36).slice(2),on="__reactFiber$"+si,_n="__reactProps$"+si,la="__reactContainer$"+si,$m="__reactEvents$"+si,m3="__reactListeners$"+si,g3="__reactHandles$"+si,pS="__reactResources$"+si,Kl="__reactMarker$"+si;function Fm(i){delete i[on],delete i[_n],delete i[$m],delete i[m3],delete i[g3]}function ca(i){var l=i[on];if(l)return l;for(var u=i.parentNode;u;){if(l=u[la]||u[on]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=NC(i);i!==null;){if(u=i[on])return u;i=NC(i)}return l}i=u,u=i.parentNode}return null}function ua(i){if(i=i[on]||i[la]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function Ql(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function fa(i){var l=i[pS];return l||(l=i[pS]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function It(i){i[Kl]=!0}var mS=new Set,gS={};function ro(i,l){da(i,l),da(i+"Capture",l)}function da(i,l){for(gS[i]=l,i=0;i<l.length;i++)mS.add(l[i])}var y3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yS={},vS={};function v3(i){return Bm.call(vS,i)?!0:Bm.call(yS,i)?!1:y3.test(i)?vS[i]=!0:(yS[i]=!0,!1)}function _f(i,l,u){if(v3(l))if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var h=l.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+u)}}function kf(i,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+u)}}function hs(i,l,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(l,u,""+h)}}var qm,bS;function ha(i){if(qm===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);qm=l&&l[1]||"",bS=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qm+i+bS}var Ym=!1;function Wm(i,l){if(!i||Ym)return"";Ym=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(l){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var U=H}Reflect.construct(i,[],Q)}else{try{Q.call()}catch(H){U=H}i.call(Q.prototype)}}else{try{throw Error()}catch(H){U=H}(Q=i())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&U&&typeof H.stack=="string")return[H.stack,U.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=h.DetermineComponentFrameRoot(),C=v[0],k=v[1];if(C&&k){var D=C.split(`
`),I=k.split(`
`);for(g=h=0;h<D.length&&!D[h].includes("DetermineComponentFrameRoot");)h++;for(;g<I.length&&!I[g].includes("DetermineComponentFrameRoot");)g++;if(h===D.length||g===I.length)for(h=D.length-1,g=I.length-1;1<=h&&0<=g&&D[h]!==I[g];)g--;for(;1<=h&&0<=g;h--,g--)if(D[h]!==I[g]){if(h!==1||g!==1)do if(h--,g--,0>g||D[h]!==I[g]){var Y=`
`+D[h].replace(" at new "," at ");return i.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",i.displayName)),Y}while(1<=h&&0<=g);break}}}finally{Ym=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ha(u):""}function b3(i){switch(i.tag){case 26:case 27:case 5:return ha(i.type);case 16:return ha("Lazy");case 13:return ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return Wm(i.type,!1);case 11:return Wm(i.type.render,!1);case 1:return Wm(i.type,!0);case 31:return ha("Activity");default:return""}}function xS(i){try{var l="";do l+=b3(i),i=i.return;while(i);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function SS(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function x3(i){var l=SS(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,v.call(this,C)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ef(i){i._valueTracker||(i._valueTracker=x3(i))}function wS(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=SS(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function Mf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var S3=/[\n"\\]/g;function tr(i){return i.replace(S3,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Gm(i,l,u,h,g,v,C,k){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),l!=null?C==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+er(l)):i.value!==""+er(l)&&(i.value=""+er(l)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),l!=null?Km(i,C,er(l)):u!=null?Km(i,C,er(u)):h!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+er(k):i.removeAttribute("name")}function TS(i,l,u,h,g,v,C,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),l!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;u=u!=null?""+er(u):"",l=l!=null?""+er(l):u,k||l===i.value||(i.value=l),i.defaultValue=l}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=k?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Km(i,l,u){l==="number"&&Mf(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function pa(i,l,u,h){if(i=i.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=l.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&h&&(i[u].defaultSelected=!0)}else{for(u=""+er(u),l=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}l!==null||i[g].disabled||(l=i[g])}l!==null&&(l.selected=!0)}}function CS(i,l,u){if(l!=null&&(l=""+er(l),l!==i.value&&(i.value=l),u==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=u!=null?""+er(u):""}function _S(i,l,u,h){if(l==null){if(h!=null){if(u!=null)throw Error(r(92));if(xe(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),l=u}u=er(l),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h)}function ma(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var w3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kS(i,l,u){var h=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":h?i.setProperty(l,u):typeof u!="number"||u===0||w3.has(l)?l==="float"?i.cssFloat=u:i[l]=(""+u).trim():i[l]=u+"px"}function ES(i,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||l!=null&&l.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in l)h=l[g],l.hasOwnProperty(g)&&u[g]!==h&&kS(i,g,h)}else for(var v in l)l.hasOwnProperty(v)&&kS(i,v,l[v])}function Qm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Of(i){return C3.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Xm=null;function Jm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ga=null,ya=null;function MS(i){var l=ua(i);if(l&&(i=l.stateNode)){var u=i[_n]||null;e:switch(i=l.stateNode,l.type){case"input":if(Gm(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+tr(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var g=h[_n]||null;if(!g)throw Error(r(90));Gm(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<u.length;l++)h=u[l],h.form===i.form&&wS(h)}break e;case"textarea":CS(i,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&pa(i,!!u.multiple,l,!1)}}}var Zm=!1;function OS(i,l,u){if(Zm)return i(l,u);Zm=!0;try{var h=i(l);return h}finally{if(Zm=!1,(ga!==null||ya!==null)&&(pd(),ga&&(l=ga,i=ya,ya=ga=null,MS(l),i)))for(l=0;l<i.length;l++)MS(i[l])}}function Xl(i,l){var u=i.stateNode;if(u===null)return null;var h=u[_n]||null;if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eg=!1;if(ps)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){eg=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{eg=!1}var ii=null,tg=null,Af=null;function AS(){if(Af)return Af;var i,l=tg,u=l.length,h,g="value"in ii?ii.value:ii.textContent,v=g.length;for(i=0;i<u&&l[i]===g[i];i++);var C=u-i;for(h=1;h<=C&&l[u-h]===g[v-h];h++);return Af=g.slice(i,1<h?1-h:void 0)}function Nf(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Df(){return!0}function NS(){return!1}function kn(i){function l(u,h,g,v,C){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Df:NS,this.isPropagationStopped=NS,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Df)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Df)},persist:function(){},isPersistent:Df}),l}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rf=kn(so),Zl=p({},so,{view:0,detail:0}),_3=kn(Zl),ng,rg,ec,jf=p({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ec&&(ec&&i.type==="mousemove"?(ng=i.screenX-ec.screenX,rg=i.screenY-ec.screenY):rg=ng=0,ec=i),ng)},movementY:function(i){return"movementY"in i?i.movementY:rg}}),DS=kn(jf),k3=p({},jf,{dataTransfer:0}),E3=kn(k3),M3=p({},Zl,{relatedTarget:0}),sg=kn(M3),O3=p({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),A3=kn(O3),N3=p({},so,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),D3=kn(N3),R3=p({},so,{data:0}),RS=kn(R3),j3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B3(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=P3[i])?!!l[i]:!1}function ig(){return B3}var z3=p({},Zl,{key:function(i){if(i.key){var l=j3[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Nf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?L3[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(i){return i.type==="keypress"?Nf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Nf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),V3=kn(z3),I3=p({},jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jS=kn(I3),U3=p({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),H3=kn(U3),$3=p({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),F3=kn($3),q3=p({},jf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y3=kn(q3),W3=p({},so,{newState:0,oldState:0}),G3=kn(W3),K3=[9,13,27,32],og=ps&&"CompositionEvent"in window,tc=null;ps&&"documentMode"in document&&(tc=document.documentMode);var Q3=ps&&"TextEvent"in window&&!tc,LS=ps&&(!og||tc&&8<tc&&11>=tc),PS=" ",BS=!1;function zS(i,l){switch(i){case"keyup":return K3.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var va=!1;function X3(i,l){switch(i){case"compositionend":return VS(l);case"keypress":return l.which!==32?null:(BS=!0,PS);case"textInput":return i=l.data,i===PS&&BS?null:i;default:return null}}function J3(i,l){if(va)return i==="compositionend"||!og&&zS(i,l)?(i=AS(),Af=tg=ii=null,va=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return LS&&l.locale!=="ko"?null:l.data;default:return null}}var Z3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IS(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!Z3[i.type]:l==="textarea"}function US(i,l,u,h){ga?ya?ya.push(h):ya=[h]:ga=h,l=xd(l,"onChange"),0<l.length&&(u=new Rf("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var nc=null,rc=null;function eL(i){SC(i,0)}function Lf(i){var l=Ql(i);if(wS(l))return i}function HS(i,l){if(i==="change")return l}var $S=!1;if(ps){var ag;if(ps){var lg="oninput"in document;if(!lg){var FS=document.createElement("div");FS.setAttribute("oninput","return;"),lg=typeof FS.oninput=="function"}ag=lg}else ag=!1;$S=ag&&(!document.documentMode||9<document.documentMode)}function qS(){nc&&(nc.detachEvent("onpropertychange",YS),rc=nc=null)}function YS(i){if(i.propertyName==="value"&&Lf(rc)){var l=[];US(l,rc,i,Jm(i)),OS(eL,l)}}function tL(i,l,u){i==="focusin"?(qS(),nc=l,rc=u,nc.attachEvent("onpropertychange",YS)):i==="focusout"&&qS()}function nL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Lf(rc)}function rL(i,l){if(i==="click")return Lf(l)}function sL(i,l){if(i==="input"||i==="change")return Lf(l)}function iL(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var In=typeof Object.is=="function"?Object.is:iL;function sc(i,l){if(In(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!Bm.call(l,g)||!In(i[g],l[g]))return!1}return!0}function WS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function GS(i,l){var u=WS(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=WS(u)}}function KS(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?KS(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function QS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Mf(i.document);l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Mf(i.document)}return l}function cg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var oL=ps&&"documentMode"in document&&11>=document.documentMode,ba=null,ug=null,ic=null,fg=!1;function XS(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fg||ba==null||ba!==Mf(h)||(h=ba,"selectionStart"in h&&cg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ic&&sc(ic,h)||(ic=h,h=xd(ug,"onSelect"),0<h.length&&(l=new Rf("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=ba)))}function io(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var xa={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionrun:io("Transition","TransitionRun"),transitionstart:io("Transition","TransitionStart"),transitioncancel:io("Transition","TransitionCancel"),transitionend:io("Transition","TransitionEnd")},dg={},JS={};ps&&(JS=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function oo(i){if(dg[i])return dg[i];if(!xa[i])return i;var l=xa[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in JS)return dg[i]=l[u];return i}var ZS=oo("animationend"),ew=oo("animationiteration"),tw=oo("animationstart"),aL=oo("transitionrun"),lL=oo("transitionstart"),cL=oo("transitioncancel"),nw=oo("transitionend"),rw=new Map,hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hg.push("scrollEnd");function Cr(i,l){rw.set(i,l),ro(l,[i])}var sw=new WeakMap;function nr(i,l){if(typeof i=="object"&&i!==null){var u=sw.get(i);return u!==void 0?u:(l={value:i,source:l,stack:xS(l)},sw.set(i,l),l)}return{value:i,source:l,stack:xS(l)}}var rr=[],Sa=0,pg=0;function Pf(){for(var i=Sa,l=pg=Sa=0;l<i;){var u=rr[l];rr[l++]=null;var h=rr[l];rr[l++]=null;var g=rr[l];rr[l++]=null;var v=rr[l];if(rr[l++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}v!==0&&iw(u,g,v)}}function Bf(i,l,u,h){rr[Sa++]=i,rr[Sa++]=l,rr[Sa++]=u,rr[Sa++]=h,pg|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function mg(i,l,u,h){return Bf(i,l,u,h),zf(i)}function wa(i,l){return Bf(i,null,null,l),zf(i)}function iw(i,l,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var g=!1,v=i.return;v!==null;)v.childLanes|=u,h=v.alternate,h!==null&&(h.childLanes|=u),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&l!==null&&(g=31-Vn(u),i=v.hiddenUpdates,h=i[g],h===null?i[g]=[l]:h.push(l),l.lane=u|536870912),v):null}function zf(i){if(50<Ac)throw Ac=0,Sy=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Ta={};function uL(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,l,u,h){return new uL(i,l,u,h)}function gg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ms(i,l){var u=i.alternate;return u===null?(u=Un(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function ow(i,l){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,l=u.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Vf(i,l,u,h,g,v){var C=0;if(h=i,typeof i=="function")gg(i)&&(C=1);else if(typeof i=="string")C=dP(i,u,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case W:return i=Un(31,u,l,g),i.elementType=W,i.lanes=v,i;case S:return ao(u.children,g,v,l);case w:C=8,g|=24;break;case T:return i=Un(12,u,l,g|2),i.elementType=T,i.lanes=v,i;case O:return i=Un(13,u,l,g),i.elementType=O,i.lanes=v,i;case B:return i=Un(19,u,l,g),i.elementType=B,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case _:case A:C=10;break e;case M:C=9;break e;case N:C=11;break e;case L:C=14;break e;case R:C=16,h=null;break e}C=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return l=Un(C,u,l,g),l.elementType=i,l.type=h,l.lanes=v,l}function ao(i,l,u,h){return i=Un(7,i,h,l),i.lanes=u,i}function yg(i,l,u){return i=Un(6,i,null,l),i.lanes=u,i}function vg(i,l,u){return l=Un(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var Ca=[],_a=0,If=null,Uf=0,sr=[],ir=0,lo=null,gs=1,ys="";function co(i,l){Ca[_a++]=Uf,Ca[_a++]=If,If=i,Uf=l}function aw(i,l,u){sr[ir++]=gs,sr[ir++]=ys,sr[ir++]=lo,lo=i;var h=gs;i=ys;var g=32-Vn(h)-1;h&=~(1<<g),u+=1;var v=32-Vn(l)+g;if(30<v){var C=g-g%5;v=(h&(1<<C)-1).toString(32),h>>=C,g-=C,gs=1<<32-Vn(l)+g|u<<g|h,ys=v+i}else gs=1<<v|u<<g|h,ys=i}function bg(i){i.return!==null&&(co(i,1),aw(i,1,0))}function xg(i){for(;i===If;)If=Ca[--_a],Ca[_a]=null,Uf=Ca[--_a],Ca[_a]=null;for(;i===lo;)lo=sr[--ir],sr[ir]=null,ys=sr[--ir],sr[ir]=null,gs=sr[--ir],sr[ir]=null}var gn=null,pt=null,$e=!1,uo=null,Yr=!1,Sg=Error(r(519));function fo(i){var l=Error(r(418,""));throw lc(nr(l,i)),Sg}function lw(i){var l=i.stateNode,u=i.type,h=i.memoizedProps;switch(l[on]=i,l[_n]=h,u){case"dialog":je("cancel",l),je("close",l);break;case"iframe":case"object":case"embed":je("load",l);break;case"video":case"audio":for(u=0;u<Dc.length;u++)je(Dc[u],l);break;case"source":je("error",l);break;case"img":case"image":case"link":je("error",l),je("load",l);break;case"details":je("toggle",l);break;case"input":je("invalid",l),TS(l,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Ef(l);break;case"select":je("invalid",l);break;case"textarea":je("invalid",l),_S(l,h.value,h.defaultValue,h.children),Ef(l)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||h.suppressHydrationWarning===!0||_C(l.textContent,u)?(h.popover!=null&&(je("beforetoggle",l),je("toggle",l)),h.onScroll!=null&&je("scroll",l),h.onScrollEnd!=null&&je("scrollend",l),h.onClick!=null&&(l.onclick=Sd),l=!0):l=!1,l||fo(i)}function cw(i){for(gn=i.return;gn;)switch(gn.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:gn=gn.return}}function oc(i){if(i!==gn)return!1;if(!$e)return cw(i),$e=!0,!1;var l=i.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||By(i.type,i.memoizedProps)),u=!u),u&&pt&&fo(i),cw(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(l===0){pt=kr(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;i=i.nextSibling}pt=null}}else l===27?(l=pt,Si(i.type)?(i=Uy,Uy=null,pt=i):pt=l):pt=gn?kr(i.stateNode.nextSibling):null;return!0}function ac(){pt=gn=null,$e=!1}function uw(){var i=uo;return i!==null&&(On===null?On=i:On.push.apply(On,i),uo=null),i}function lc(i){uo===null?uo=[i]:uo.push(i)}var wg=K(null),ho=null,vs=null;function oi(i,l,u){ne(wg,l._currentValue),l._currentValue=u}function bs(i){i._currentValue=wg.current,se(wg)}function Tg(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function Cg(i,l,u,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=g;for(var D=0;D<l.length;D++)if(k.context===l[D]){v.lanes|=u,k=v.alternate,k!==null&&(k.lanes|=u),Tg(v.return,u,i),h||(C=null);break e}v=k.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=u,v=C.alternate,v!==null&&(v.lanes|=u),Tg(C,u,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function cc(i,l,u,h){i=null;for(var g=l,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var k=g.type;In(g.pendingProps.value,C.value)||(i!==null?i.push(k):i=[k])}}else if(g===Bn.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(zc):i=[zc])}g=g.return}i!==null&&Cg(l,i,u,h),l.flags|=262144}function Hf(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function po(i){ho=i,vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return fw(ho,i)}function $f(i,l){return ho===null&&po(i),fw(i,l)}function fw(i,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},vs===null){if(i===null)throw Error(r(308));vs=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else vs=vs.next=l;return u}var fL=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){l.aborted=!0,i.forEach(function(u){return u()})}},dL=t.unstable_scheduleCallback,hL=t.unstable_NormalPriority,Pt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _g(){return{controller:new fL,data:new Map,refCount:0}}function uc(i){i.refCount--,i.refCount===0&&dL(hL,function(){i.controller.abort()})}var fc=null,kg=0,ka=0,Ea=null;function pL(i,l){if(fc===null){var u=fc=[];kg=0,ka=My(),Ea={status:"pending",value:void 0,then:function(h){u.push(h)}}}return kg++,l.then(dw,dw),l}function dw(){if(--kg===0&&fc!==null){Ea!==null&&(Ea.status="fulfilled");var i=fc;fc=null,ka=0,Ea=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function mL(i,l){var u=[],h={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return i.then(function(){h.status="fulfilled",h.value=l;for(var g=0;g<u.length;g++)(0,u[g])(l)},function(g){for(h.status="rejected",h.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),h}var hw=F.S;F.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&pL(i,l),hw!==null&&hw(i,l)};var mo=K(null);function Eg(){var i=mo.current;return i!==null?i:nt.pooledCache}function Ff(i,l){l===null?ne(mo,mo.current):ne(mo,l.pool)}function pw(){var i=Eg();return i===null?null:{parent:Pt._currentValue,pool:i}}var dc=Error(r(460)),mw=Error(r(474)),qf=Error(r(542)),Mg={then:function(){}};function gw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yf(){}function yw(i,l,u){switch(u=i[u],u===void 0?i.push(l):u!==l&&(l.then(Yf,Yf),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,bw(i),i;default:if(typeof l.status=="string")l.then(Yf,Yf);else{if(i=nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(h){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=h}},function(h){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=h}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,bw(i),i}throw hc=l,dc}}var hc=null;function vw(){if(hc===null)throw Error(r(459));var i=hc;return hc=null,i}function bw(i){if(i===dc||i===qf)throw Error(r(483))}var ai=!1;function Og(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ag(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function li(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ci(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ye&2)!==0){var g=h.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),h.pending=l,l=zf(i),iw(i,null,u),l}return Bf(i,h,l,u),zf(i)}function pc(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,dS(i,u)}}function Ng(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,u=u.next}while(u!==null);v===null?g=v=l:v=v.next=l}else g=v=l;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}var Dg=!1;function mc(){if(Dg){var i=Ea;if(i!==null)throw i}}function gc(i,l,u,h){Dg=!1;var g=i.updateQueue;ai=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var D=k,I=D.next;D.next=null,C===null?v=I:C.next=I,C=D;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,k=Y.lastBaseUpdate,k!==C&&(k===null?Y.firstBaseUpdate=I:k.next=I,Y.lastBaseUpdate=D))}if(v!==null){var Q=g.baseState;C=0,Y=I=D=null,k=v;do{var U=k.lane&-536870913,H=U!==k.lane;if(H?(ze&U)===U:(h&U)===U){U!==0&&U===ka&&(Dg=!0),Y!==null&&(Y=Y.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var ve=i,me=k;U=l;var Je=u;switch(me.tag){case 1:if(ve=me.payload,typeof ve=="function"){Q=ve.call(Je,Q,U);break e}Q=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=me.payload,U=typeof ve=="function"?ve.call(Je,Q,U):ve,U==null)break e;Q=p({},Q,U);break e;case 2:ai=!0}}U=k.callback,U!==null&&(i.flags|=64,H&&(i.flags|=8192),H=g.callbacks,H===null?g.callbacks=[U]:H.push(U))}else H={lane:U,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Y===null?(I=Y=H,D=Q):Y=Y.next=H,C|=U;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;H=k,k=H.next,H.next=null,g.lastBaseUpdate=H,g.shared.pending=null}}while(!0);Y===null&&(D=Q),g.baseState=D,g.firstBaseUpdate=I,g.lastBaseUpdate=Y,v===null&&(g.shared.lanes=0),yi|=C,i.lanes=C,i.memoizedState=Q}}function xw(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function Sw(i,l){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)xw(u[i],l)}var Ma=K(null),Wf=K(0);function ww(i,l){i=ks,ne(Wf,i),ne(Ma,l),ks=i|l.baseLanes}function Rg(){ne(Wf,ks),ne(Ma,Ma.current)}function jg(){ks=Wf.current,se(Ma),se(Wf)}var ui=0,Oe=null,Qe=null,Ot=null,Gf=!1,Oa=!1,go=!1,Kf=0,yc=0,Aa=null,gL=0;function _t(){throw Error(r(321))}function Lg(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!In(i[u],l[u]))return!1;return!0}function Pg(i,l,u,h,g,v){return ui=v,Oe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,F.H=i===null||i.memoizedState===null?iT:oT,go=!1,v=u(h,g),go=!1,Oa&&(v=Cw(l,u,h,g)),Tw(i),v}function Tw(i){F.H=td;var l=Qe!==null&&Qe.next!==null;if(ui=0,Ot=Qe=Oe=null,Gf=!1,yc=0,Aa=null,l)throw Error(r(300));i===null||Ut||(i=i.dependencies,i!==null&&Hf(i)&&(Ut=!0))}function Cw(i,l,u,h){Oe=i;var g=0;do{if(Oa&&(Aa=null),yc=0,Oa=!1,25<=g)throw Error(r(301));if(g+=1,Ot=Qe=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=TL,v=l(u,h)}while(Oa);return v}function yL(){var i=F.H,l=i.useState()[0];return l=typeof l.then=="function"?vc(l):l,i=i.useState()[0],(Qe!==null?Qe.memoizedState:null)!==i&&(Oe.flags|=1024),l}function Bg(){var i=Kf!==0;return Kf=0,i}function zg(i,l,u){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~u}function Vg(i){if(Gf){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Gf=!1}ui=0,Ot=Qe=Oe=null,Oa=!1,yc=Kf=0,Aa=null}function En(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Oe.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function At(){if(Qe===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=Qe.next;var l=Ot===null?Oe.memoizedState:Ot.next;if(l!==null)Ot=l,Qe=i;else{if(i===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Qe=i,i={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ot===null?Oe.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Ig(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(i){var l=yc;return yc+=1,Aa===null&&(Aa=[]),i=yw(Aa,i,l),l=Oe,(Ot===null?l.memoizedState:Ot.next)===null&&(l=l.alternate,F.H=l===null||l.memoizedState===null?iT:oT),i}function Qf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vc(i);if(i.$$typeof===A)return an(i)}throw Error(r(438,String(i)))}function Ug(i){var l=null,u=Oe.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var h=Oe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(l={data:h.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Ig(),Oe.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(i),h=0;h<i;h++)u[h]=Z;return l.index++,u}function xs(i,l){return typeof l=="function"?l(i):l}function Xf(i){var l=At();return Hg(l,Qe,i)}function Hg(i,l,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var g=i.baseQueue,v=h.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}l.baseQueue=g=v,h.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{l=g.next;var k=C=null,D=null,I=l,Y=!1;do{var Q=I.lane&-536870913;if(Q!==I.lane?(ze&Q)===Q:(ui&Q)===Q){var U=I.revertLane;if(U===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Q===ka&&(Y=!0);else if((ui&U)===U){I=I.next,U===ka&&(Y=!0);continue}else Q={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},D===null?(k=D=Q,C=v):D=D.next=Q,Oe.lanes|=U,yi|=U;Q=I.action,go&&u(v,Q),v=I.hasEagerState?I.eagerState:u(v,Q)}else U={lane:Q,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},D===null?(k=D=U,C=v):D=D.next=U,Oe.lanes|=Q,yi|=Q;I=I.next}while(I!==null&&I!==l);if(D===null?C=v:D.next=k,!In(v,i.memoizedState)&&(Ut=!0,Y&&(u=Ea,u!==null)))throw u;i.memoizedState=v,i.baseState=C,i.baseQueue=D,h.lastRenderedState=v}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function $g(i){var l=At(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,g=u.pending,v=l.memoizedState;if(g!==null){u.pending=null;var C=g=g.next;do v=i(v,C.action),C=C.next;while(C!==g);In(v,l.memoizedState)||(Ut=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),u.lastRenderedState=v}return[v,h]}function _w(i,l,u){var h=Oe,g=At(),v=$e;if(v){if(u===void 0)throw Error(r(407));u=u()}else u=l();var C=!In((Qe||g).memoizedState,u);C&&(g.memoizedState=u,Ut=!0),g=g.queue;var k=Mw.bind(null,h,g,i);if(bc(2048,8,k,[i]),g.getSnapshot!==l||C||Ot!==null&&Ot.memoizedState.tag&1){if(h.flags|=2048,Na(9,Jf(),Ew.bind(null,h,g,u,l),null),nt===null)throw Error(r(349));v||(ui&124)!==0||kw(h,l,u)}return u}function kw(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=Oe.updateQueue,l===null?(l=Ig(),Oe.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function Ew(i,l,u,h){l.value=u,l.getSnapshot=h,Ow(l)&&Aw(i)}function Mw(i,l,u){return u(function(){Ow(l)&&Aw(i)})}function Ow(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!In(i,u)}catch{return!0}}function Aw(i){var l=wa(i,2);l!==null&&Yn(l,i,2)}function Fg(i){var l=En();if(typeof i=="function"){var u=i;if(i=u(),go){ri(!0);try{u()}finally{ri(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:i},l}function Nw(i,l,u,h){return i.baseState=u,Hg(i,Qe,typeof h=="function"?h:xs)}function vL(i,l,u,h,g){if(ed(i))throw Error(r(485));if(i=l.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};F.T!==null?u(!0):v.isTransition=!1,h(v),u=l.pending,u===null?(v.next=l.pending=v,Dw(l,v)):(v.next=u.next,l.pending=u.next=v)}}function Dw(i,l){var u=l.action,h=l.payload,g=i.state;if(l.isTransition){var v=F.T,C={};F.T=C;try{var k=u(g,h),D=F.S;D!==null&&D(C,k),Rw(i,l,k)}catch(I){qg(i,l,I)}finally{F.T=v}}else try{v=u(g,h),Rw(i,l,v)}catch(I){qg(i,l,I)}}function Rw(i,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){jw(i,l,h)},function(h){return qg(i,l,h)}):jw(i,l,u)}function jw(i,l,u){l.status="fulfilled",l.value=u,Lw(l),i.state=u,l=i.pending,l!==null&&(u=l.next,u===l?i.pending=null:(u=u.next,l.next=u,Dw(i,u)))}function qg(i,l,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do l.status="rejected",l.reason=u,Lw(l),l=l.next;while(l!==h)}i.action=null}function Lw(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Pw(i,l){return l}function Bw(i,l){if($e){var u=nt.formState;if(u!==null){e:{var h=Oe;if($e){if(pt){t:{for(var g=pt,v=Yr;g.nodeType!==8;){if(!v){g=null;break t}if(g=kr(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){pt=kr(g.nextSibling),h=g.data==="F!";break e}}fo(h)}h=!1}h&&(l=u[0])}}return u=En(),u.memoizedState=u.baseState=l,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pw,lastRenderedState:l},u.queue=h,u=nT.bind(null,Oe,h),h.dispatch=u,h=Fg(!1),v=Qg.bind(null,Oe,!1,h.queue),h=En(),g={state:l,dispatch:null,action:i,pending:null},h.queue=g,u=vL.bind(null,Oe,g,v,u),g.dispatch=u,h.memoizedState=i,[l,u,!1]}function zw(i){var l=At();return Vw(l,Qe,i)}function Vw(i,l,u){if(l=Hg(i,l,Pw)[0],i=Xf(xs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var h=vc(l)}catch(C){throw C===dc?qf:C}else h=l;l=At();var g=l.queue,v=g.dispatch;return u!==l.memoizedState&&(Oe.flags|=2048,Na(9,Jf(),bL.bind(null,g,u),null)),[h,v,i]}function bL(i,l){i.action=l}function Iw(i){var l=At(),u=Qe;if(u!==null)return Vw(l,u,i);At(),l=l.memoizedState,u=At();var h=u.queue.dispatch;return u.memoizedState=i,[l,h,!1]}function Na(i,l,u,h){return i={tag:i,create:u,deps:h,inst:l,next:null},l=Oe.updateQueue,l===null&&(l=Ig(),Oe.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i),i}function Jf(){return{destroy:void 0,resource:void 0}}function Uw(){return At().memoizedState}function Zf(i,l,u,h){var g=En();h=h===void 0?null:h,Oe.flags|=i,g.memoizedState=Na(1|l,Jf(),u,h)}function bc(i,l,u,h){var g=At();h=h===void 0?null:h;var v=g.memoizedState.inst;Qe!==null&&h!==null&&Lg(h,Qe.memoizedState.deps)?g.memoizedState=Na(l,v,u,h):(Oe.flags|=i,g.memoizedState=Na(1|l,v,u,h))}function Hw(i,l){Zf(8390656,8,i,l)}function $w(i,l){bc(2048,8,i,l)}function Fw(i,l){return bc(4,2,i,l)}function qw(i,l){return bc(4,4,i,l)}function Yw(i,l){if(typeof l=="function"){i=i();var u=l(i);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Ww(i,l,u){u=u!=null?u.concat([i]):null,bc(4,4,Yw.bind(null,l,i),u)}function Yg(){}function Gw(i,l){var u=At();l=l===void 0?null:l;var h=u.memoizedState;return l!==null&&Lg(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function Kw(i,l){var u=At();l=l===void 0?null:l;var h=u.memoizedState;if(l!==null&&Lg(l,h[1]))return h[0];if(h=i(),go){ri(!0);try{i()}finally{ri(!1)}}return u.memoizedState=[h,l],h}function Wg(i,l,u){return u===void 0||(ui&1073741824)!==0?i.memoizedState=l:(i.memoizedState=u,i=JT(),Oe.lanes|=i,yi|=i,u)}function Qw(i,l,u,h){return In(u,l)?u:Ma.current!==null?(i=Wg(i,u,h),In(i,l)||(Ut=!0),i):(ui&42)===0?(Ut=!0,i.memoizedState=u):(i=JT(),Oe.lanes|=i,yi|=i,l)}function Xw(i,l,u,h,g){var v=q.p;q.p=v!==0&&8>v?v:8;var C=F.T,k={};F.T=k,Qg(i,!1,l,u);try{var D=g(),I=F.S;if(I!==null&&I(k,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=mL(D,h);xc(i,l,Y,qn(i))}else xc(i,l,h,qn(i))}catch(Q){xc(i,l,{then:function(){},status:"rejected",reason:Q},qn())}finally{q.p=v,F.T=C}}function xL(){}function Gg(i,l,u,h){if(i.tag!==5)throw Error(r(476));var g=Jw(i).queue;Xw(i,g,l,re,u===null?xL:function(){return Zw(i),u(h)})}function Jw(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:re},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:u},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function Zw(i){var l=Jw(i).next.queue;xc(i,l,{},qn())}function Kg(){return an(zc)}function eT(){return At().memoizedState}function tT(){return At().memoizedState}function SL(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var u=qn();i=li(u);var h=ci(l,i,u);h!==null&&(Yn(h,l,u),pc(h,l,u)),l={cache:_g()},i.payload=l;return}l=l.return}}function wL(i,l,u){var h=qn();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ed(i)?rT(l,u):(u=mg(i,l,u,h),u!==null&&(Yn(u,i,h),sT(u,l,h)))}function nT(i,l,u){var h=qn();xc(i,l,u,h)}function xc(i,l,u,h){var g={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ed(i))rT(l,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var C=l.lastRenderedState,k=v(C,u);if(g.hasEagerState=!0,g.eagerState=k,In(k,C))return Bf(i,l,g,0),nt===null&&Pf(),!1}catch{}finally{}if(u=mg(i,l,g,h),u!==null)return Yn(u,i,h),sT(u,l,h),!0}return!1}function Qg(i,l,u,h){if(h={lane:2,revertLane:My(),action:h,hasEagerState:!1,eagerState:null,next:null},ed(i)){if(l)throw Error(r(479))}else l=mg(i,u,h,2),l!==null&&Yn(l,i,2)}function ed(i){var l=i.alternate;return i===Oe||l!==null&&l===Oe}function rT(i,l){Oa=Gf=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function sT(i,l,u){if((u&4194048)!==0){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,dS(i,u)}}var td={readContext:an,use:Qf,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},iT={readContext:an,use:Qf,useCallback:function(i,l){return En().memoizedState=[i,l===void 0?null:l],i},useContext:an,useEffect:Hw,useImperativeHandle:function(i,l,u){u=u!=null?u.concat([i]):null,Zf(4194308,4,Yw.bind(null,l,i),u)},useLayoutEffect:function(i,l){return Zf(4194308,4,i,l)},useInsertionEffect:function(i,l){Zf(4,2,i,l)},useMemo:function(i,l){var u=En();l=l===void 0?null:l;var h=i();if(go){ri(!0);try{i()}finally{ri(!1)}}return u.memoizedState=[h,l],h},useReducer:function(i,l,u){var h=En();if(u!==void 0){var g=u(l);if(go){ri(!0);try{u(l)}finally{ri(!1)}}}else g=l;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=wL.bind(null,Oe,i),[h.memoizedState,i]},useRef:function(i){var l=En();return i={current:i},l.memoizedState=i},useState:function(i){i=Fg(i);var l=i.queue,u=nT.bind(null,Oe,l);return l.dispatch=u,[i.memoizedState,u]},useDebugValue:Yg,useDeferredValue:function(i,l){var u=En();return Wg(u,i,l)},useTransition:function(){var i=Fg(!1);return i=Xw.bind(null,Oe,i.queue,!0,!1),En().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,u){var h=Oe,g=En();if($e){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),nt===null)throw Error(r(349));(ze&124)!==0||kw(h,l,u)}g.memoizedState=u;var v={value:u,getSnapshot:l};return g.queue=v,Hw(Mw.bind(null,h,v,i),[i]),h.flags|=2048,Na(9,Jf(),Ew.bind(null,h,v,u,l),null),u},useId:function(){var i=En(),l=nt.identifierPrefix;if($e){var u=ys,h=gs;u=(h&~(1<<32-Vn(h)-1)).toString(32)+u,l=""+l+"R"+u,u=Kf++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=gL++,l=""+l+"r"+u.toString(32)+"";return i.memoizedState=l},useHostTransitionStatus:Kg,useFormState:Bw,useActionState:Bw,useOptimistic:function(i){var l=En();l.memoizedState=l.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Qg.bind(null,Oe,!0,u),u.dispatch=l,[i,l]},useMemoCache:Ug,useCacheRefresh:function(){return En().memoizedState=SL.bind(null,Oe)}},oT={readContext:an,use:Qf,useCallback:Gw,useContext:an,useEffect:$w,useImperativeHandle:Ww,useInsertionEffect:Fw,useLayoutEffect:qw,useMemo:Kw,useReducer:Xf,useRef:Uw,useState:function(){return Xf(xs)},useDebugValue:Yg,useDeferredValue:function(i,l){var u=At();return Qw(u,Qe.memoizedState,i,l)},useTransition:function(){var i=Xf(xs)[0],l=At().memoizedState;return[typeof i=="boolean"?i:vc(i),l]},useSyncExternalStore:_w,useId:eT,useHostTransitionStatus:Kg,useFormState:zw,useActionState:zw,useOptimistic:function(i,l){var u=At();return Nw(u,Qe,i,l)},useMemoCache:Ug,useCacheRefresh:tT},TL={readContext:an,use:Qf,useCallback:Gw,useContext:an,useEffect:$w,useImperativeHandle:Ww,useInsertionEffect:Fw,useLayoutEffect:qw,useMemo:Kw,useReducer:$g,useRef:Uw,useState:function(){return $g(xs)},useDebugValue:Yg,useDeferredValue:function(i,l){var u=At();return Qe===null?Wg(u,i,l):Qw(u,Qe.memoizedState,i,l)},useTransition:function(){var i=$g(xs)[0],l=At().memoizedState;return[typeof i=="boolean"?i:vc(i),l]},useSyncExternalStore:_w,useId:eT,useHostTransitionStatus:Kg,useFormState:Iw,useActionState:Iw,useOptimistic:function(i,l){var u=At();return Qe!==null?Nw(u,Qe,i,l):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ug,useCacheRefresh:tT},Da=null,Sc=0;function nd(i){var l=Sc;return Sc+=1,Da===null&&(Da=[]),yw(Da,i,l)}function wc(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function rd(i,l){throw l.$$typeof===m?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function aT(i){var l=i._init;return l(i._payload)}function lT(i){function l(z,P){if(i){var V=z.deletions;V===null?(z.deletions=[P],z.flags|=16):V.push(P)}}function u(z,P){if(!i)return null;for(;P!==null;)l(z,P),P=P.sibling;return null}function h(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function g(z,P){return z=ms(z,P),z.index=0,z.sibling=null,z}function v(z,P,V){return z.index=V,i?(V=z.alternate,V!==null?(V=V.index,V<P?(z.flags|=67108866,P):V):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function C(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function k(z,P,V,G){return P===null||P.tag!==6?(P=yg(V,z.mode,G),P.return=z,P):(P=g(P,V),P.return=z,P)}function D(z,P,V,G){var le=V.type;return le===S?Y(z,P,V.props.children,G,V.key):P!==null&&(P.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===R&&aT(le)===P.type)?(P=g(P,V.props),wc(P,V),P.return=z,P):(P=Vf(V.type,V.key,V.props,null,z.mode,G),wc(P,V),P.return=z,P)}function I(z,P,V,G){return P===null||P.tag!==4||P.stateNode.containerInfo!==V.containerInfo||P.stateNode.implementation!==V.implementation?(P=vg(V,z.mode,G),P.return=z,P):(P=g(P,V.children||[]),P.return=z,P)}function Y(z,P,V,G,le){return P===null||P.tag!==7?(P=ao(V,z.mode,G,le),P.return=z,P):(P=g(P,V),P.return=z,P)}function Q(z,P,V){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=yg(""+P,z.mode,V),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case y:return V=Vf(P.type,P.key,P.props,null,z.mode,V),wc(V,P),V.return=z,V;case b:return P=vg(P,z.mode,V),P.return=z,P;case R:var G=P._init;return P=G(P._payload),Q(z,P,V)}if(xe(P)||ce(P))return P=ao(P,z.mode,V,null),P.return=z,P;if(typeof P.then=="function")return Q(z,nd(P),V);if(P.$$typeof===A)return Q(z,$f(z,P),V);rd(z,P)}return null}function U(z,P,V,G){var le=P!==null?P.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return le!==null?null:k(z,P,""+V,G);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return V.key===le?D(z,P,V,G):null;case b:return V.key===le?I(z,P,V,G):null;case R:return le=V._init,V=le(V._payload),U(z,P,V,G)}if(xe(V)||ce(V))return le!==null?null:Y(z,P,V,G,null);if(typeof V.then=="function")return U(z,P,nd(V),G);if(V.$$typeof===A)return U(z,P,$f(z,V),G);rd(z,V)}return null}function H(z,P,V,G,le){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return z=z.get(V)||null,k(P,z,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case y:return z=z.get(G.key===null?V:G.key)||null,D(P,z,G,le);case b:return z=z.get(G.key===null?V:G.key)||null,I(P,z,G,le);case R:var De=G._init;return G=De(G._payload),H(z,P,V,G,le)}if(xe(G)||ce(G))return z=z.get(V)||null,Y(P,z,G,le,null);if(typeof G.then=="function")return H(z,P,V,nd(G),le);if(G.$$typeof===A)return H(z,P,V,$f(P,G),le);rd(P,G)}return null}function ve(z,P,V,G){for(var le=null,De=null,ue=P,ye=P=0,$t=null;ue!==null&&ye<V.length;ye++){ue.index>ye?($t=ue,ue=null):$t=ue.sibling;var Ie=U(z,ue,V[ye],G);if(Ie===null){ue===null&&(ue=$t);break}i&&ue&&Ie.alternate===null&&l(z,ue),P=v(Ie,P,ye),De===null?le=Ie:De.sibling=Ie,De=Ie,ue=$t}if(ye===V.length)return u(z,ue),$e&&co(z,ye),le;if(ue===null){for(;ye<V.length;ye++)ue=Q(z,V[ye],G),ue!==null&&(P=v(ue,P,ye),De===null?le=ue:De.sibling=ue,De=ue);return $e&&co(z,ye),le}for(ue=h(ue);ye<V.length;ye++)$t=H(ue,z,ye,V[ye],G),$t!==null&&(i&&$t.alternate!==null&&ue.delete($t.key===null?ye:$t.key),P=v($t,P,ye),De===null?le=$t:De.sibling=$t,De=$t);return i&&ue.forEach(function(ki){return l(z,ki)}),$e&&co(z,ye),le}function me(z,P,V,G){if(V==null)throw Error(r(151));for(var le=null,De=null,ue=P,ye=P=0,$t=null,Ie=V.next();ue!==null&&!Ie.done;ye++,Ie=V.next()){ue.index>ye?($t=ue,ue=null):$t=ue.sibling;var ki=U(z,ue,Ie.value,G);if(ki===null){ue===null&&(ue=$t);break}i&&ue&&ki.alternate===null&&l(z,ue),P=v(ki,P,ye),De===null?le=ki:De.sibling=ki,De=ki,ue=$t}if(Ie.done)return u(z,ue),$e&&co(z,ye),le;if(ue===null){for(;!Ie.done;ye++,Ie=V.next())Ie=Q(z,Ie.value,G),Ie!==null&&(P=v(Ie,P,ye),De===null?le=Ie:De.sibling=Ie,De=Ie);return $e&&co(z,ye),le}for(ue=h(ue);!Ie.done;ye++,Ie=V.next())Ie=H(ue,z,ye,Ie.value,G),Ie!==null&&(i&&Ie.alternate!==null&&ue.delete(Ie.key===null?ye:Ie.key),P=v(Ie,P,ye),De===null?le=Ie:De.sibling=Ie,De=Ie);return i&&ue.forEach(function(CP){return l(z,CP)}),$e&&co(z,ye),le}function Je(z,P,V,G){if(typeof V=="object"&&V!==null&&V.type===S&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case y:e:{for(var le=V.key;P!==null;){if(P.key===le){if(le=V.type,le===S){if(P.tag===7){u(z,P.sibling),G=g(P,V.props.children),G.return=z,z=G;break e}}else if(P.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===R&&aT(le)===P.type){u(z,P.sibling),G=g(P,V.props),wc(G,V),G.return=z,z=G;break e}u(z,P);break}else l(z,P);P=P.sibling}V.type===S?(G=ao(V.props.children,z.mode,G,V.key),G.return=z,z=G):(G=Vf(V.type,V.key,V.props,null,z.mode,G),wc(G,V),G.return=z,z=G)}return C(z);case b:e:{for(le=V.key;P!==null;){if(P.key===le)if(P.tag===4&&P.stateNode.containerInfo===V.containerInfo&&P.stateNode.implementation===V.implementation){u(z,P.sibling),G=g(P,V.children||[]),G.return=z,z=G;break e}else{u(z,P);break}else l(z,P);P=P.sibling}G=vg(V,z.mode,G),G.return=z,z=G}return C(z);case R:return le=V._init,V=le(V._payload),Je(z,P,V,G)}if(xe(V))return ve(z,P,V,G);if(ce(V)){if(le=ce(V),typeof le!="function")throw Error(r(150));return V=le.call(V),me(z,P,V,G)}if(typeof V.then=="function")return Je(z,P,nd(V),G);if(V.$$typeof===A)return Je(z,P,$f(z,V),G);rd(z,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,P!==null&&P.tag===6?(u(z,P.sibling),G=g(P,V),G.return=z,z=G):(u(z,P),G=yg(V,z.mode,G),G.return=z,z=G),C(z)):u(z,P)}return function(z,P,V,G){try{Sc=0;var le=Je(z,P,V,G);return Da=null,le}catch(ue){if(ue===dc||ue===qf)throw ue;var De=Un(29,ue,null,z.mode);return De.lanes=G,De.return=z,De}finally{}}}var Ra=lT(!0),cT=lT(!1),or=K(null),Wr=null;function fi(i){var l=i.alternate;ne(Bt,Bt.current&1),ne(or,i),Wr===null&&(l===null||Ma.current!==null||l.memoizedState!==null)&&(Wr=i)}function uT(i){if(i.tag===22){if(ne(Bt,Bt.current),ne(or,i),Wr===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Wr=i)}}else di()}function di(){ne(Bt,Bt.current),ne(or,or.current)}function Ss(i){se(or),Wr===i&&(Wr=null),se(Bt)}var Bt=K(0);function sd(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Iy(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Xg(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:p({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Jg={enqueueSetState:function(i,l,u){i=i._reactInternals;var h=qn(),g=li(h);g.payload=l,u!=null&&(g.callback=u),l=ci(i,g,h),l!==null&&(Yn(l,i,h),pc(l,i,h))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=qn(),g=li(h);g.tag=1,g.payload=l,u!=null&&(g.callback=u),l=ci(i,g,h),l!==null&&(Yn(l,i,h),pc(l,i,h))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=qn(),h=li(u);h.tag=2,l!=null&&(h.callback=l),l=ci(i,h,u),l!==null&&(Yn(l,i,u),pc(l,i,u))}};function fT(i,l,u,h,g,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,C):l.prototype&&l.prototype.isPureReactComponent?!sc(u,h)||!sc(g,v):!0}function dT(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&Jg.enqueueReplaceState(l,l.state,null)}function yo(i,l){var u=l;if("ref"in l){u={};for(var h in l)h!=="ref"&&(u[h]=l[h])}if(i=i.defaultProps){u===l&&(u=p({},u));for(var g in i)u[g]===void 0&&(u[g]=i[g])}return u}var id=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function hT(i){id(i)}function pT(i){console.error(i)}function mT(i){id(i)}function od(i,l){try{var u=i.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(h){setTimeout(function(){throw h})}}function gT(i,l,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Zg(i,l,u){return u=li(u),u.tag=3,u.payload={element:null},u.callback=function(){od(i,l)},u}function yT(i){return i=li(i),i.tag=3,i}function vT(i,l,u,h){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=h.value;i.payload=function(){return g(v)},i.callback=function(){gT(l,u,h)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){gT(l,u,h),typeof g!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var k=h.stack;this.componentDidCatch(h.value,{componentStack:k!==null?k:""})})}function CL(i,l,u,h,g){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(l=u.alternate,l!==null&&cc(l,u,g,!0),u=or.current,u!==null){switch(u.tag){case 13:return Wr===null?Ty():u.alternate===null&&mt===0&&(mt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,h===Mg?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([h]):l.add(h),_y(i,h,g)),!1;case 22:return u.flags|=65536,h===Mg?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([h]):u.add(h)),_y(i,h,g)),!1}throw Error(r(435,u.tag))}return _y(i,h,g),Ty(),!1}if($e)return l=or.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,h!==Sg&&(i=Error(r(422),{cause:h}),lc(nr(i,u)))):(h!==Sg&&(l=Error(r(423),{cause:h}),lc(nr(l,u))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=nr(h,u),g=Zg(i.stateNode,h,g),Ng(i,g),mt!==4&&(mt=2)),!1;var v=Error(r(520),{cause:h});if(v=nr(v,u),Oc===null?Oc=[v]:Oc.push(v),mt!==4&&(mt=2),l===null)return!0;h=nr(h,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,i=g&-g,u.lanes|=i,i=Zg(u.stateNode,h,i),Ng(u,i),!1;case 1:if(l=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vi===null||!vi.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=yT(g),vT(g,i,u,h),Ng(u,g),!1}u=u.return}while(u!==null);return!1}var bT=Error(r(461)),Ut=!1;function Qt(i,l,u,h){l.child=i===null?cT(l,null,u,h):Ra(l,i.child,u,h)}function xT(i,l,u,h,g){u=u.render;var v=l.ref;if("ref"in h){var C={};for(var k in h)k!=="ref"&&(C[k]=h[k])}else C=h;return po(l),h=Pg(i,l,u,C,v,g),k=Bg(),i!==null&&!Ut?(zg(i,l,g),ws(i,l,g)):($e&&k&&bg(l),l.flags|=1,Qt(i,l,h,g),l.child)}function ST(i,l,u,h,g){if(i===null){var v=u.type;return typeof v=="function"&&!gg(v)&&v.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=v,wT(i,l,v,h,g)):(i=Vf(u.type,null,h,l,l.mode,g),i.ref=l.ref,i.return=l,l.child=i)}if(v=i.child,!ay(i,g)){var C=v.memoizedProps;if(u=u.compare,u=u!==null?u:sc,u(C,h)&&i.ref===l.ref)return ws(i,l,g)}return l.flags|=1,i=ms(v,h),i.ref=l.ref,i.return=l,l.child=i}function wT(i,l,u,h,g){if(i!==null){var v=i.memoizedProps;if(sc(v,h)&&i.ref===l.ref)if(Ut=!1,l.pendingProps=h=v,ay(i,g))(i.flags&131072)!==0&&(Ut=!0);else return l.lanes=i.lanes,ws(i,l,g)}return ey(i,l,u,h,g)}function TT(i,l,u){var h=l.pendingProps,g=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((l.flags&128)!==0){if(h=v!==null?v.baseLanes|u:u,i!==null){for(g=l.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;l.childLanes=v&~h}else l.childLanes=0,l.child=null;return CT(i,l,h,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ff(l,v!==null?v.cachePool:null),v!==null?ww(l,v):Rg(),uT(l);else return l.lanes=l.childLanes=536870912,CT(i,l,v!==null?v.baseLanes|u:u,u)}else v!==null?(Ff(l,v.cachePool),ww(l,v),di(),l.memoizedState=null):(i!==null&&Ff(l,null),Rg(),di());return Qt(i,l,g,u),l.child}function CT(i,l,u,h){var g=Eg();return g=g===null?null:{parent:Pt._currentValue,pool:g},l.memoizedState={baseLanes:u,cachePool:g},i!==null&&Ff(l,null),Rg(),uT(l),i!==null&&cc(i,l,h,!0),null}function ad(i,l){var u=l.ref;if(u===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(l.flags|=4194816)}}function ey(i,l,u,h,g){return po(l),u=Pg(i,l,u,h,void 0,g),h=Bg(),i!==null&&!Ut?(zg(i,l,g),ws(i,l,g)):($e&&h&&bg(l),l.flags|=1,Qt(i,l,u,g),l.child)}function _T(i,l,u,h,g,v){return po(l),l.updateQueue=null,u=Cw(l,h,u,g),Tw(i),h=Bg(),i!==null&&!Ut?(zg(i,l,v),ws(i,l,v)):($e&&h&&bg(l),l.flags|=1,Qt(i,l,u,v),l.child)}function kT(i,l,u,h,g){if(po(l),l.stateNode===null){var v=Ta,C=u.contextType;typeof C=="object"&&C!==null&&(v=an(C)),v=new u(h,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Jg,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=h,v.state=l.memoizedState,v.refs={},Og(l),C=u.contextType,v.context=typeof C=="object"&&C!==null?an(C):Ta,v.state=l.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Xg(l,u,C,h),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Jg.enqueueReplaceState(v,v.state,null),gc(l,h,v,g),mc(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),h=!0}else if(i===null){v=l.stateNode;var k=l.memoizedProps,D=yo(u,k);v.props=D;var I=v.context,Y=u.contextType;C=Ta,typeof Y=="object"&&Y!==null&&(C=an(Y));var Q=u.getDerivedStateFromProps;Y=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||I!==C)&&dT(l,v,h,C),ai=!1;var U=l.memoizedState;v.state=U,gc(l,h,v,g),mc(),I=l.memoizedState,k||U!==I||ai?(typeof Q=="function"&&(Xg(l,u,Q,h),I=l.memoizedState),(D=ai||fT(l,u,D,h,U,I,C))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=I),v.props=h,v.state=I,v.context=C,h=D):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{v=l.stateNode,Ag(i,l),C=l.memoizedProps,Y=yo(u,C),v.props=Y,Q=l.pendingProps,U=v.context,I=u.contextType,D=Ta,typeof I=="object"&&I!==null&&(D=an(I)),k=u.getDerivedStateFromProps,(I=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==Q||U!==D)&&dT(l,v,h,D),ai=!1,U=l.memoizedState,v.state=U,gc(l,h,v,g),mc();var H=l.memoizedState;C!==Q||U!==H||ai||i!==null&&i.dependencies!==null&&Hf(i.dependencies)?(typeof k=="function"&&(Xg(l,u,k,h),H=l.memoizedState),(Y=ai||fT(l,u,Y,h,U,H,D)||i!==null&&i.dependencies!==null&&Hf(i.dependencies))?(I||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,H,D),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,H,D)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=H),v.props=h,v.state=H,v.context=D,h=Y):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(l.flags|=1024),h=!1)}return v=h,ad(i,l),h=(l.flags&128)!==0,v||h?(v=l.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,i!==null&&h?(l.child=Ra(l,i.child,null,g),l.child=Ra(l,null,u,g)):Qt(i,l,u,g),l.memoizedState=v.state,i=l.child):i=ws(i,l,g),i}function ET(i,l,u,h){return ac(),l.flags|=256,Qt(i,l,u,h),l.child}var ty={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ny(i){return{baseLanes:i,cachePool:pw()}}function ry(i,l,u){return i=i!==null?i.childLanes&~u:0,l&&(i|=ar),i}function MT(i,l,u){var h=l.pendingProps,g=!1,v=(l.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(Bt.current&2)!==0),C&&(g=!0,l.flags&=-129),C=(l.flags&32)!==0,l.flags&=-33,i===null){if($e){if(g?fi(l):di(),$e){var k=pt,D;if(D=k){e:{for(D=k,k=Yr;D.nodeType!==8;){if(!k){k=null;break e}if(D=kr(D.nextSibling),D===null){k=null;break e}}k=D}k!==null?(l.memoizedState={dehydrated:k,treeContext:lo!==null?{id:gs,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},D=Un(18,null,null,0),D.stateNode=k,D.return=l,l.child=D,gn=l,pt=null,D=!0):D=!1}D||fo(l)}if(k=l.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Iy(k)?l.lanes=32:l.lanes=536870912,null;Ss(l)}return k=h.children,h=h.fallback,g?(di(),g=l.mode,k=ld({mode:"hidden",children:k},g),h=ao(h,g,u,null),k.return=l,h.return=l,k.sibling=h,l.child=k,g=l.child,g.memoizedState=ny(u),g.childLanes=ry(i,C,u),l.memoizedState=ty,h):(fi(l),sy(l,k))}if(D=i.memoizedState,D!==null&&(k=D.dehydrated,k!==null)){if(v)l.flags&256?(fi(l),l.flags&=-257,l=iy(i,l,u)):l.memoizedState!==null?(di(),l.child=i.child,l.flags|=128,l=null):(di(),g=h.fallback,k=l.mode,h=ld({mode:"visible",children:h.children},k),g=ao(g,k,u,null),g.flags|=2,h.return=l,g.return=l,h.sibling=g,l.child=h,Ra(l,i.child,null,u),h=l.child,h.memoizedState=ny(u),h.childLanes=ry(i,C,u),l.memoizedState=ty,l=g);else if(fi(l),Iy(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var I=C.dgst;C=I,h=Error(r(419)),h.stack="",h.digest=C,lc({value:h,source:null,stack:null}),l=iy(i,l,u)}else if(Ut||cc(i,l,u,!1),C=(u&i.childLanes)!==0,Ut||C){if(C=nt,C!==null&&(h=u&-u,h=(h&42)!==0?1:Um(h),h=(h&(C.suspendedLanes|u))!==0?0:h,h!==0&&h!==D.retryLane))throw D.retryLane=h,wa(i,h),Yn(C,i,h),bT;k.data==="$?"||Ty(),l=iy(i,l,u)}else k.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=D.treeContext,pt=kr(k.nextSibling),gn=l,$e=!0,uo=null,Yr=!1,i!==null&&(sr[ir++]=gs,sr[ir++]=ys,sr[ir++]=lo,gs=i.id,ys=i.overflow,lo=l),l=sy(l,h.children),l.flags|=4096);return l}return g?(di(),g=h.fallback,k=l.mode,D=i.child,I=D.sibling,h=ms(D,{mode:"hidden",children:h.children}),h.subtreeFlags=D.subtreeFlags&65011712,I!==null?g=ms(I,g):(g=ao(g,k,u,null),g.flags|=2),g.return=l,h.return=l,h.sibling=g,l.child=h,h=g,g=l.child,k=i.child.memoizedState,k===null?k=ny(u):(D=k.cachePool,D!==null?(I=Pt._currentValue,D=D.parent!==I?{parent:I,pool:I}:D):D=pw(),k={baseLanes:k.baseLanes|u,cachePool:D}),g.memoizedState=k,g.childLanes=ry(i,C,u),l.memoizedState=ty,h):(fi(l),u=i.child,i=u.sibling,u=ms(u,{mode:"visible",children:h.children}),u.return=l,u.sibling=null,i!==null&&(C=l.deletions,C===null?(l.deletions=[i],l.flags|=16):C.push(i)),l.child=u,l.memoizedState=null,u)}function sy(i,l){return l=ld({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function ld(i,l){return i=Un(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function iy(i,l,u){return Ra(l,i.child,null,u),i=sy(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function OT(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),Tg(i.return,l,u)}function oy(i,l,u,h,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=g)}function AT(i,l,u){var h=l.pendingProps,g=h.revealOrder,v=h.tail;if(Qt(i,l,h.children,u),h=Bt.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&OT(i,u,l);else if(i.tag===19)OT(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(ne(Bt,h),g){case"forwards":for(u=l.child,g=null;u!==null;)i=u.alternate,i!==null&&sd(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),oy(l,!1,g,u,v);break;case"backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(i=g.alternate,i!==null&&sd(i)===null){l.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}oy(l,!0,u,null,v);break;case"together":oy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ws(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),yi|=l.lanes,(u&l.childLanes)===0)if(i!==null){if(cc(i,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,u=ms(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=ms(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function ay(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Hf(i)))}function _L(i,l,u){switch(l.tag){case 3:ot(l,l.stateNode.containerInfo),oi(l,Pt,i.memoizedState.cache),ac();break;case 27:case 5:Pm(l);break;case 4:ot(l,l.stateNode.containerInfo);break;case 10:oi(l,l.type,l.memoizedProps.value);break;case 13:var h=l.memoizedState;if(h!==null)return h.dehydrated!==null?(fi(l),l.flags|=128,null):(u&l.child.childLanes)!==0?MT(i,l,u):(fi(l),i=ws(i,l,u),i!==null?i.sibling:null);fi(l);break;case 19:var g=(i.flags&128)!==0;if(h=(u&l.childLanes)!==0,h||(cc(i,l,u,!1),h=(u&l.childLanes)!==0),g){if(h)return AT(i,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ne(Bt,Bt.current),h)break;return null;case 22:case 23:return l.lanes=0,TT(i,l,u);case 24:oi(l,Pt,i.memoizedState.cache)}return ws(i,l,u)}function NT(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ut=!0;else{if(!ay(i,u)&&(l.flags&128)===0)return Ut=!1,_L(i,l,u);Ut=(i.flags&131072)!==0}else Ut=!1,$e&&(l.flags&1048576)!==0&&aw(l,Uf,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var h=l.elementType,g=h._init;if(h=g(h._payload),l.type=h,typeof h=="function")gg(h)?(i=yo(h,i),l.tag=1,l=kT(null,l,h,i,u)):(l.tag=0,l=ey(null,l,h,i,u));else{if(h!=null){if(g=h.$$typeof,g===N){l.tag=11,l=xT(null,l,h,i,u);break e}else if(g===L){l.tag=14,l=ST(null,l,h,i,u);break e}}throw l=Ce(h)||h,Error(r(306,l,""))}}return l;case 0:return ey(i,l,l.type,l.pendingProps,u);case 1:return h=l.type,g=yo(h,l.pendingProps),kT(i,l,h,g,u);case 3:e:{if(ot(l,l.stateNode.containerInfo),i===null)throw Error(r(387));h=l.pendingProps;var v=l.memoizedState;g=v.element,Ag(i,l),gc(l,h,null,u);var C=l.memoizedState;if(h=C.cache,oi(l,Pt,h),h!==v.cache&&Cg(l,[Pt],u,!0),mc(),h=C.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:C.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=ET(i,l,h,u);break e}else if(h!==g){g=nr(Error(r(424)),l),lc(g),l=ET(i,l,h,u);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pt=kr(i.firstChild),gn=l,$e=!0,uo=null,Yr=!0,u=cT(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ac(),h===g){l=ws(i,l,u);break e}Qt(i,l,h,u)}l=l.child}return l;case 26:return ad(i,l),i===null?(u=LC(l.type,null,l.pendingProps,null))?l.memoizedState=u:$e||(u=l.type,i=l.pendingProps,h=wd(we.current).createElement(u),h[on]=l,h[_n]=i,Jt(h,u,i),It(h),l.stateNode=h):l.memoizedState=LC(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Pm(l),i===null&&$e&&(h=l.stateNode=DC(l.type,l.pendingProps,we.current),gn=l,Yr=!0,g=pt,Si(l.type)?(Uy=g,pt=kr(h.firstChild)):pt=g),Qt(i,l,l.pendingProps.children,u),ad(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&$e&&((g=h=pt)&&(h=ZL(h,l.type,l.pendingProps,Yr),h!==null?(l.stateNode=h,gn=l,pt=kr(h.firstChild),Yr=!1,g=!0):g=!1),g||fo(l)),Pm(l),g=l.type,v=l.pendingProps,C=i!==null?i.memoizedProps:null,h=v.children,By(g,v)?h=null:C!==null&&By(g,C)&&(l.flags|=32),l.memoizedState!==null&&(g=Pg(i,l,yL,null,null,u),zc._currentValue=g),ad(i,l),Qt(i,l,h,u),l.child;case 6:return i===null&&$e&&((i=u=pt)&&(u=eP(u,l.pendingProps,Yr),u!==null?(l.stateNode=u,gn=l,pt=null,i=!0):i=!1),i||fo(l)),null;case 13:return MT(i,l,u);case 4:return ot(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=Ra(l,null,h,u):Qt(i,l,h,u),l.child;case 11:return xT(i,l,l.type,l.pendingProps,u);case 7:return Qt(i,l,l.pendingProps,u),l.child;case 8:return Qt(i,l,l.pendingProps.children,u),l.child;case 12:return Qt(i,l,l.pendingProps.children,u),l.child;case 10:return h=l.pendingProps,oi(l,l.type,h.value),Qt(i,l,h.children,u),l.child;case 9:return g=l.type._context,h=l.pendingProps.children,po(l),g=an(g),h=h(g),l.flags|=1,Qt(i,l,h,u),l.child;case 14:return ST(i,l,l.type,l.pendingProps,u);case 15:return wT(i,l,l.type,l.pendingProps,u);case 19:return AT(i,l,u);case 31:return h=l.pendingProps,u=l.mode,h={mode:h.mode,children:h.children},i===null?(u=ld(h,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=ms(i.child,h),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return TT(i,l,u);case 24:return po(l),h=an(Pt),i===null?(g=Eg(),g===null&&(g=nt,v=_g(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),l.memoizedState={parent:h,cache:g},Og(l),oi(l,Pt,g)):((i.lanes&u)!==0&&(Ag(i,l),gc(l,null,null,u),mc()),g=i.memoizedState,v=l.memoizedState,g.parent!==h?(g={parent:h,cache:h},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),oi(l,Pt,h)):(h=v.cache,oi(l,Pt,h),h!==g.cache&&Cg(l,[Pt],u,!0))),Qt(i,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ts(i){i.flags|=4}function DT(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!IC(l)){if(l=or.current,l!==null&&((ze&4194048)===ze?Wr!==null:(ze&62914560)!==ze&&(ze&536870912)===0||l!==Wr))throw hc=Mg,mw;i.flags|=8192}}function cd(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?uS():536870912,i.lanes|=l,Ba|=l)}function Tc(i,l){if(!$e)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function ft(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function kL(i,l,u){var h=l.pendingProps;switch(xg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(l),null;case 1:return ft(l),null;case 3:return u=l.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),bs(Pt),ni(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(oc(l)?Ts(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,uw())),ft(l),null;case 26:return u=l.memoizedState,i===null?(Ts(l),u!==null?(ft(l),DT(l,u)):(ft(l),l.flags&=-16777217)):u?u!==i.memoizedState?(Ts(l),ft(l),DT(l,u)):(ft(l),l.flags&=-16777217):(i.memoizedProps!==h&&Ts(l),ft(l),l.flags&=-16777217),null;case 27:xf(l),u=we.current;var g=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Ts(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return ft(l),null}i=fe.current,oc(l)?lw(l):(i=DC(g,h,u),l.stateNode=i,Ts(l))}return ft(l),null;case 5:if(xf(l),u=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==h&&Ts(l);else{if(!h){if(l.stateNode===null)throw Error(r(166));return ft(l),null}if(i=fe.current,oc(l))lw(l);else{switch(g=wd(we.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(u,{is:h.is}):g.createElement(u)}}i[on]=l,i[_n]=h;e:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break e;for(;g.sibling===null;){if(g.return===null||g.return===l)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=i;e:switch(Jt(i,u,h),u){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ts(l)}}return ft(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==h&&Ts(l);else{if(typeof h!="string"&&l.stateNode===null)throw Error(r(166));if(i=we.current,oc(l)){if(i=l.stateNode,u=l.memoizedProps,h=null,g=gn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[on]=l,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||_C(i.nodeValue,u)),i||fo(l)}else i=wd(i).createTextNode(h),i[on]=l,l.stateNode=i}return ft(l),null;case 13:if(h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=oc(l),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[on]=l}else ac(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ft(l),g=!1}else g=uw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(Ss(l),l):(Ss(l),null)}if(Ss(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=h!==null,i=i!==null&&i.memoizedState!==null,u){h=l.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var v=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(v=h.memoizedState.cachePool.pool),v!==g&&(h.flags|=2048)}return u!==i&&u&&(l.child.flags|=8192),cd(l,l.updateQueue),ft(l),null;case 4:return ni(),i===null&&Dy(l.stateNode.containerInfo),ft(l),null;case 10:return bs(l.type),ft(l),null;case 19:if(se(Bt),g=l.memoizedState,g===null)return ft(l),null;if(h=(l.flags&128)!==0,v=g.rendering,v===null)if(h)Tc(g,!1);else{if(mt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(v=sd(i),v!==null){for(l.flags|=128,Tc(g,!1),i=v.updateQueue,l.updateQueue=i,cd(l,i),l.subtreeFlags=0,i=u,u=l.child;u!==null;)ow(u,i),u=u.sibling;return ne(Bt,Bt.current&1|2),l.child}i=i.sibling}g.tail!==null&&qr()>dd&&(l.flags|=128,h=!0,Tc(g,!1),l.lanes=4194304)}else{if(!h)if(i=sd(v),i!==null){if(l.flags|=128,h=!0,i=i.updateQueue,l.updateQueue=i,cd(l,i),Tc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!$e)return ft(l),null}else 2*qr()-g.renderingStartTime>dd&&u!==536870912&&(l.flags|=128,h=!0,Tc(g,!1),l.lanes=4194304);g.isBackwards?(v.sibling=l.child,l.child=v):(i=g.last,i!==null?i.sibling=v:l.child=v,g.last=v)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=qr(),l.sibling=null,i=Bt.current,ne(Bt,h?i&1|2:i&1),l):(ft(l),null);case 22:case 23:return Ss(l),jg(),h=l.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(l.flags|=8192):h&&(l.flags|=8192),h?(u&536870912)!==0&&(l.flags&128)===0&&(ft(l),l.subtreeFlags&6&&(l.flags|=8192)):ft(l),u=l.updateQueue,u!==null&&cd(l,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048),i!==null&&se(mo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),bs(Pt),ft(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function EL(i,l){switch(xg(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return bs(Pt),ni(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return xf(l),null;case 13:if(Ss(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ac()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return se(Bt),null;case 4:return ni(),null;case 10:return bs(l.type),null;case 22:case 23:return Ss(l),jg(),i!==null&&se(mo),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return bs(Pt),null;case 25:return null;default:return null}}function RT(i,l){switch(xg(l),l.tag){case 3:bs(Pt),ni();break;case 26:case 27:case 5:xf(l);break;case 4:ni();break;case 13:Ss(l);break;case 19:se(Bt);break;case 10:bs(l.type);break;case 22:case 23:Ss(l),jg(),i!==null&&se(mo);break;case 24:bs(Pt)}}function Cc(i,l){try{var u=l.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){h=void 0;var v=u.create,C=u.inst;h=v(),C.destroy=h}u=u.next}while(u!==g)}}catch(k){et(l,l.return,k)}}function hi(i,l,u){try{var h=l.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var v=g.next;h=v;do{if((h.tag&i)===i){var C=h.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,g=l;var D=u,I=k;try{I()}catch(Y){et(g,D,Y)}}}h=h.next}while(h!==v)}}catch(Y){et(l,l.return,Y)}}function jT(i){var l=i.updateQueue;if(l!==null){var u=i.stateNode;try{Sw(l,u)}catch(h){et(i,i.return,h)}}}function LT(i,l,u){u.props=yo(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){et(i,l,h)}}function _c(i,l){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(g){et(i,l,g)}}function Gr(i,l){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(g){et(i,l,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){et(i,l,g)}else u.current=null}function PT(i){var l=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(g){et(i,i.return,g)}}function ly(i,l,u){try{var h=i.stateNode;GL(h,i.type,u,l),h[_n]=l}catch(g){et(i,i.return,g)}}function BT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Si(i.type)||i.tag===4}function cy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||BT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Si(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function uy(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(i),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Sd));else if(h!==4&&(h===27&&Si(i.type)&&(u=i.stateNode,l=null),i=i.child,i!==null))for(uy(i,l,u),i=i.sibling;i!==null;)uy(i,l,u),i=i.sibling}function ud(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(h===27&&Si(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(ud(i,l,u),i=i.sibling;i!==null;)ud(i,l,u),i=i.sibling}function zT(i){var l=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);Jt(l,h,u),l[on]=i,l[_n]=u}catch(v){et(i,i.return,v)}}var Cs=!1,kt=!1,fy=!1,VT=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function ML(i,l){if(i=i.containerInfo,Ly=Md,i=QS(i),cg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var C=0,k=-1,D=-1,I=0,Y=0,Q=i,U=null;t:for(;;){for(var H;Q!==u||g!==0&&Q.nodeType!==3||(k=C+g),Q!==v||h!==0&&Q.nodeType!==3||(D=C+h),Q.nodeType===3&&(C+=Q.nodeValue.length),(H=Q.firstChild)!==null;)U=Q,Q=H;for(;;){if(Q===i)break t;if(U===u&&++I===g&&(k=C),U===v&&++Y===h&&(D=C),(H=Q.nextSibling)!==null)break;Q=U,U=Q.parentNode}Q=H}u=k===-1||D===-1?null:{start:k,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(Py={focusedElem:i,selectionRange:u},Md=!1,Ht=l;Ht!==null;)if(l=Ht,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Ht=i;else for(;Ht!==null;){switch(l=Ht,v=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,u=l,g=v.memoizedProps,v=v.memoizedState,h=u.stateNode;try{var ve=yo(u.type,g,u.elementType===u.type);i=h.getSnapshotBeforeUpdate(ve,v),h.__reactInternalSnapshotBeforeUpdate=i}catch(me){et(u,u.return,me)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,u=i.nodeType,u===9)Vy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Ht=i;break}Ht=l.return}}function IT(i,l,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:pi(i,u),h&4&&Cc(5,u);break;case 1:if(pi(i,u),h&4)if(i=u.stateNode,l===null)try{i.componentDidMount()}catch(C){et(u,u.return,C)}else{var g=yo(u.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(g,l,i.__reactInternalSnapshotBeforeUpdate)}catch(C){et(u,u.return,C)}}h&64&&jT(u),h&512&&_c(u,u.return);break;case 3:if(pi(i,u),h&64&&(i=u.updateQueue,i!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Sw(i,l)}catch(C){et(u,u.return,C)}}break;case 27:l===null&&h&4&&zT(u);case 26:case 5:pi(i,u),l===null&&h&4&&PT(u),h&512&&_c(u,u.return);break;case 12:pi(i,u);break;case 13:pi(i,u),h&4&&$T(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=BL.bind(null,u),tP(i,u))));break;case 22:if(h=u.memoizedState!==null||Cs,!h){l=l!==null&&l.memoizedState!==null||kt,g=Cs;var v=kt;Cs=h,(kt=l)&&!v?mi(i,u,(u.subtreeFlags&8772)!==0):pi(i,u),Cs=g,kt=v}break;case 30:break;default:pi(i,u)}}function UT(i){var l=i.alternate;l!==null&&(i.alternate=null,UT(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Fm(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var at=null,Mn=!1;function _s(i,l,u){for(u=u.child;u!==null;)HT(i,l,u),u=u.sibling}function HT(i,l,u){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Yl,u)}catch{}switch(u.tag){case 26:kt||Gr(u,l),_s(i,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:kt||Gr(u,l);var h=at,g=Mn;Si(u.type)&&(at=u.stateNode,Mn=!1),_s(i,l,u),jc(u.stateNode),at=h,Mn=g;break;case 5:kt||Gr(u,l);case 6:if(h=at,g=Mn,at=null,_s(i,l,u),at=h,Mn=g,at!==null)if(Mn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(u.stateNode)}catch(v){et(u,l,v)}else try{at.removeChild(u.stateNode)}catch(v){et(u,l,v)}break;case 18:at!==null&&(Mn?(i=at,AC(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Hc(i)):AC(at,u.stateNode));break;case 4:h=at,g=Mn,at=u.stateNode.containerInfo,Mn=!0,_s(i,l,u),at=h,Mn=g;break;case 0:case 11:case 14:case 15:kt||hi(2,u,l),kt||hi(4,u,l),_s(i,l,u);break;case 1:kt||(Gr(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"&&LT(u,l,h)),_s(i,l,u);break;case 21:_s(i,l,u);break;case 22:kt=(h=kt)||u.memoizedState!==null,_s(i,l,u),kt=h;break;default:_s(i,l,u)}}function $T(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Hc(i)}catch(u){et(l,l.return,u)}}function OL(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new VT),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new VT),l;default:throw Error(r(435,i.tag))}}function dy(i,l){var u=OL(i);l.forEach(function(h){var g=zL.bind(null,i,h);u.has(h)||(u.add(h),h.then(g,g))})}function Hn(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h],v=i,C=l,k=C;e:for(;k!==null;){switch(k.tag){case 27:if(Si(k.type)){at=k.stateNode,Mn=!1;break e}break;case 5:at=k.stateNode,Mn=!1;break e;case 3:case 4:at=k.stateNode.containerInfo,Mn=!0;break e}k=k.return}if(at===null)throw Error(r(160));HT(v,C,g),at=null,Mn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)FT(l,i),l=l.sibling}var _r=null;function FT(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hn(l,i),$n(i),h&4&&(hi(3,i,i.return),Cc(3,i),hi(5,i,i.return));break;case 1:Hn(l,i),$n(i),h&512&&(kt||u===null||Gr(u,u.return)),h&64&&Cs&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var g=_r;if(Hn(l,i),$n(i),h&512&&(kt||u===null||Gr(u,u.return)),h&4){var v=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Kl]||v[on]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(h),g.head.insertBefore(v,g.querySelector("head > title"))),Jt(v,h,u),v[on]=i,It(v),h=v;break e;case"link":var C=zC("link","href",g).get(h+(u.href||""));if(C){for(var k=0;k<C.length;k++)if(v=C[k],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(k,1);break t}}v=g.createElement(h),Jt(v,h,u),g.head.appendChild(v);break;case"meta":if(C=zC("meta","content",g).get(h+(u.content||""))){for(k=0;k<C.length;k++)if(v=C[k],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(k,1);break t}}v=g.createElement(h),Jt(v,h,u),g.head.appendChild(v);break;default:throw Error(r(468,h))}v[on]=i,It(v),h=v}i.stateNode=h}else VC(g,i.type,i.stateNode);else i.stateNode=BC(g,h,i.memoizedProps);else v!==h?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,h===null?VC(g,i.type,i.stateNode):BC(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&ly(i,i.memoizedProps,u.memoizedProps)}break;case 27:Hn(l,i),$n(i),h&512&&(kt||u===null||Gr(u,u.return)),u!==null&&h&4&&ly(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Hn(l,i),$n(i),h&512&&(kt||u===null||Gr(u,u.return)),i.flags&32){g=i.stateNode;try{ma(g,"")}catch(H){et(i,i.return,H)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,ly(i,g,u!==null?u.memoizedProps:g)),h&1024&&(fy=!0);break;case 6:if(Hn(l,i),$n(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(H){et(i,i.return,H)}}break;case 3:if(_d=null,g=_r,_r=Td(l.containerInfo),Hn(l,i),_r=g,$n(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Hc(l.containerInfo)}catch(H){et(i,i.return,H)}fy&&(fy=!1,qT(i));break;case 4:h=_r,_r=Td(i.stateNode.containerInfo),Hn(l,i),$n(i),_r=h;break;case 12:Hn(l,i),$n(i);break;case 13:Hn(l,i),$n(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(vy=qr()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,dy(i,h)));break;case 22:g=i.memoizedState!==null;var D=u!==null&&u.memoizedState!==null,I=Cs,Y=kt;if(Cs=I||g,kt=Y||D,Hn(l,i),kt=Y,Cs=I,$n(i),h&8192)e:for(l=i.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(u===null||D||Cs||kt||vo(i)),u=null,l=i;;){if(l.tag===5||l.tag===26){if(u===null){D=u=l;try{if(v=D.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=D.stateNode;var Q=D.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;k.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(H){et(D,D.return,H)}}}else if(l.tag===6){if(u===null){D=l;try{D.stateNode.nodeValue=g?"":D.memoizedProps}catch(H){et(D,D.return,H)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,dy(i,u))));break;case 19:Hn(l,i),$n(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,dy(i,h)));break;case 30:break;case 21:break;default:Hn(l,i),$n(i)}}function $n(i){var l=i.flags;if(l&2){try{for(var u,h=i.return;h!==null;){if(BT(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,v=cy(i);ud(i,v,g);break;case 5:var C=u.stateNode;u.flags&32&&(ma(C,""),u.flags&=-33);var k=cy(i);ud(i,k,C);break;case 3:case 4:var D=u.stateNode.containerInfo,I=cy(i);uy(i,I,D);break;default:throw Error(r(161))}}catch(Y){et(i,i.return,Y)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function qT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;qT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function pi(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)IT(i,l.alternate,l),l=l.sibling}function vo(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:hi(4,l,l.return),vo(l);break;case 1:Gr(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&LT(l,l.return,u),vo(l);break;case 27:jc(l.stateNode);case 26:case 5:Gr(l,l.return),vo(l);break;case 22:l.memoizedState===null&&vo(l);break;case 30:vo(l);break;default:vo(l)}i=i.sibling}}function mi(i,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var h=l.alternate,g=i,v=l,C=v.flags;switch(v.tag){case 0:case 11:case 15:mi(g,v,u),Cc(4,v);break;case 1:if(mi(g,v,u),h=v,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(I){et(h,h.return,I)}if(h=v,g=h.updateQueue,g!==null){var k=h.stateNode;try{var D=g.shared.hiddenCallbacks;if(D!==null)for(g.shared.hiddenCallbacks=null,g=0;g<D.length;g++)xw(D[g],k)}catch(I){et(h,h.return,I)}}u&&C&64&&jT(v),_c(v,v.return);break;case 27:zT(v);case 26:case 5:mi(g,v,u),u&&h===null&&C&4&&PT(v),_c(v,v.return);break;case 12:mi(g,v,u);break;case 13:mi(g,v,u),u&&C&4&&$T(g,v);break;case 22:v.memoizedState===null&&mi(g,v,u),_c(v,v.return);break;case 30:break;default:mi(g,v,u)}l=l.sibling}}function hy(i,l){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&uc(u))}function py(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&uc(i))}function Kr(i,l,u,h){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)YT(i,l,u,h),l=l.sibling}function YT(i,l,u,h){var g=l.flags;switch(l.tag){case 0:case 11:case 15:Kr(i,l,u,h),g&2048&&Cc(9,l);break;case 1:Kr(i,l,u,h);break;case 3:Kr(i,l,u,h),g&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&uc(i)));break;case 12:if(g&2048){Kr(i,l,u,h),i=l.stateNode;try{var v=l.memoizedProps,C=v.id,k=v.onPostCommit;typeof k=="function"&&k(C,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){et(l,l.return,D)}}else Kr(i,l,u,h);break;case 13:Kr(i,l,u,h);break;case 23:break;case 22:v=l.stateNode,C=l.alternate,l.memoizedState!==null?v._visibility&2?Kr(i,l,u,h):kc(i,l):v._visibility&2?Kr(i,l,u,h):(v._visibility|=2,ja(i,l,u,h,(l.subtreeFlags&10256)!==0)),g&2048&&hy(C,l);break;case 24:Kr(i,l,u,h),g&2048&&py(l.alternate,l);break;default:Kr(i,l,u,h)}}function ja(i,l,u,h,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=i,C=l,k=u,D=h,I=C.flags;switch(C.tag){case 0:case 11:case 15:ja(v,C,k,D,g),Cc(8,C);break;case 23:break;case 22:var Y=C.stateNode;C.memoizedState!==null?Y._visibility&2?ja(v,C,k,D,g):kc(v,C):(Y._visibility|=2,ja(v,C,k,D,g)),g&&I&2048&&hy(C.alternate,C);break;case 24:ja(v,C,k,D,g),g&&I&2048&&py(C.alternate,C);break;default:ja(v,C,k,D,g)}l=l.sibling}}function kc(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=i,h=l,g=h.flags;switch(h.tag){case 22:kc(u,h),g&2048&&hy(h.alternate,h);break;case 24:kc(u,h),g&2048&&py(h.alternate,h);break;default:kc(u,h)}l=l.sibling}}var Ec=8192;function La(i){if(i.subtreeFlags&Ec)for(i=i.child;i!==null;)WT(i),i=i.sibling}function WT(i){switch(i.tag){case 26:La(i),i.flags&Ec&&i.memoizedState!==null&&pP(_r,i.memoizedState,i.memoizedProps);break;case 5:La(i);break;case 3:case 4:var l=_r;_r=Td(i.stateNode.containerInfo),La(i),_r=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ec,Ec=16777216,La(i),Ec=l):La(i));break;default:La(i)}}function GT(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Mc(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Ht=h,QT(h,i)}GT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)KT(i),i=i.sibling}function KT(i){switch(i.tag){case 0:case 11:case 15:Mc(i),i.flags&2048&&hi(9,i,i.return);break;case 3:Mc(i);break;case 12:Mc(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,fd(i)):Mc(i);break;default:Mc(i)}}function fd(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var h=l[u];Ht=h,QT(h,i)}GT(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:hi(8,l,l.return),fd(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,fd(l));break;default:fd(l)}i=i.sibling}}function QT(i,l){for(;Ht!==null;){var u=Ht;switch(u.tag){case 0:case 11:case 15:hi(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:uc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Ht=h;else e:for(u=i;Ht!==null;){h=Ht;var g=h.sibling,v=h.return;if(UT(h),h===u){Ht=null;break e}if(g!==null){g.return=v,Ht=g;break e}Ht=v}}}var AL={getCacheForType:function(i){var l=an(Pt),u=l.data.get(i);return u===void 0&&(u=i(),l.data.set(i,u)),u}},NL=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Re=null,ze=0,We=0,Fn=null,gi=!1,Pa=!1,my=!1,ks=0,mt=0,yi=0,bo=0,gy=0,ar=0,Ba=0,Oc=null,On=null,yy=!1,vy=0,dd=1/0,hd=null,vi=null,Xt=0,bi=null,za=null,Va=0,by=0,xy=null,XT=null,Ac=0,Sy=null;function qn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(F.T!==null){var i=ka;return i!==0?i:My()}return hS()}function JT(){ar===0&&(ar=(ze&536870912)===0||$e?cS():536870912);var i=or.current;return i!==null&&(i.flags|=32),ar}function Yn(i,l,u){(i===nt&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Ia(i,0),xi(i,ze,ar,!1)),Gl(i,u),((Ye&2)===0||i!==nt)&&(i===nt&&((Ye&2)===0&&(bo|=u),mt===4&&xi(i,ze,ar,!1)),Qr(i))}function ZT(i,l,u){if((Ye&6)!==0)throw Error(r(327));var h=!u&&(l&124)===0&&(l&i.expiredLanes)===0||Wl(i,l),g=h?jL(i,l):Cy(i,l,!0),v=h;do{if(g===0){Pa&&!h&&xi(i,l,0,!1);break}else{if(u=i.current.alternate,v&&!DL(u)){g=Cy(i,l,!1),v=!1;continue}if(g===2){if(v=l,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){l=C;e:{var k=i;g=Oc;var D=k.current.memoizedState.isDehydrated;if(D&&(Ia(k,C).flags|=256),C=Cy(k,C,!1),C!==2){if(my&&!D){k.errorRecoveryDisabledLanes|=v,bo|=v,g=4;break e}v=On,On=g,v!==null&&(On===null?On=v:On.push.apply(On,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){Ia(i,0),xi(i,l,0,!0);break}e:{switch(h=i,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:xi(h,l,ar,!gi);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(g=vy+300-qr(),10<g)){if(xi(h,l,ar,!gi),Cf(h,0,!0)!==0)break e;h.timeoutHandle=MC(eC.bind(null,h,u,On,hd,yy,l,ar,bo,Ba,gi,v,2,-0,0),g);break e}eC(h,u,On,hd,yy,l,ar,bo,Ba,gi,v,0,-0,0)}}break}while(!0);Qr(i)}function eC(i,l,u,h,g,v,C,k,D,I,Y,Q,U,H){if(i.timeoutHandle=-1,Q=l.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Bc={stylesheets:null,count:0,unsuspend:hP},WT(l),Q=mP(),Q!==null)){i.cancelPendingCommit=Q(aC.bind(null,i,l,v,u,h,g,C,k,D,Y,1,U,H)),xi(i,v,C,!I);return}aC(i,l,v,u,h,g,C,k,D)}function DL(i){for(var l=i;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var g=u[h],v=g.getSnapshot;g=g.value;try{if(!In(v(),g))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function xi(i,l,u,h){l&=~gy,l&=~bo,i.suspendedLanes|=l,i.pingedLanes&=~l,h&&(i.warmLanes|=l),h=i.expirationTimes;for(var g=l;0<g;){var v=31-Vn(g),C=1<<v;h[v]=-1,g&=~C}u!==0&&fS(i,u,l)}function pd(){return(Ye&6)===0?(Nc(0),!1):!0}function wy(){if(Re!==null){if(We===0)var i=Re.return;else i=Re,vs=ho=null,Vg(i),Da=null,Sc=0,i=Re;for(;i!==null;)RT(i.alternate,i),i=i.return;Re=null}}function Ia(i,l){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,QL(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),wy(),nt=i,Re=u=ms(i.current,null),ze=l,We=0,Fn=null,gi=!1,Pa=Wl(i,l),my=!1,Ba=ar=gy=bo=yi=mt=0,On=Oc=null,yy=!1,(l&8)!==0&&(l|=l&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=l;0<h;){var g=31-Vn(h),v=1<<g;l|=i[g],h&=~v}return ks=l,Pf(),u}function tC(i,l){Oe=null,F.H=td,l===dc||l===qf?(l=vw(),We=3):l===mw?(l=vw(),We=4):We=l===bT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Fn=l,Re===null&&(mt=1,od(i,nr(l,i.current)))}function nC(){var i=F.H;return F.H=td,i===null?td:i}function rC(){var i=F.A;return F.A=AL,i}function Ty(){mt=4,gi||(ze&4194048)!==ze&&or.current!==null||(Pa=!0),(yi&134217727)===0&&(bo&134217727)===0||nt===null||xi(nt,ze,ar,!1)}function Cy(i,l,u){var h=Ye;Ye|=2;var g=nC(),v=rC();(nt!==i||ze!==l)&&(hd=null,Ia(i,l)),l=!1;var C=mt;e:do try{if(We!==0&&Re!==null){var k=Re,D=Fn;switch(We){case 8:wy(),C=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(l=!0);var I=We;if(We=0,Fn=null,Ua(i,k,D,I),u&&Pa){C=0;break e}break;default:I=We,We=0,Fn=null,Ua(i,k,D,I)}}RL(),C=mt;break}catch(Y){tC(i,Y)}while(!0);return l&&i.shellSuspendCounter++,vs=ho=null,Ye=h,F.H=g,F.A=v,Re===null&&(nt=null,ze=0,Pf()),C}function RL(){for(;Re!==null;)sC(Re)}function jL(i,l){var u=Ye;Ye|=2;var h=nC(),g=rC();nt!==i||ze!==l?(hd=null,dd=qr()+500,Ia(i,l)):Pa=Wl(i,l);e:do try{if(We!==0&&Re!==null){l=Re;var v=Fn;t:switch(We){case 1:We=0,Fn=null,Ua(i,l,v,1);break;case 2:case 9:if(gw(v)){We=0,Fn=null,iC(l);break}l=function(){We!==2&&We!==9||nt!==i||(We=7),Qr(i)},v.then(l,l);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:gw(v)?(We=0,Fn=null,iC(l)):(We=0,Fn=null,Ua(i,l,v,7));break;case 5:var C=null;switch(Re.tag){case 26:C=Re.memoizedState;case 5:case 27:var k=Re;if(!C||IC(C)){We=0,Fn=null;var D=k.sibling;if(D!==null)Re=D;else{var I=k.return;I!==null?(Re=I,md(I)):Re=null}break t}}We=0,Fn=null,Ua(i,l,v,5);break;case 6:We=0,Fn=null,Ua(i,l,v,6);break;case 8:wy(),mt=6;break e;default:throw Error(r(462))}}LL();break}catch(Y){tC(i,Y)}while(!0);return vs=ho=null,F.H=h,F.A=g,Ye=u,Re!==null?0:(nt=null,ze=0,Pf(),mt)}function LL(){for(;Re!==null&&!r3();)sC(Re)}function sC(i){var l=NT(i.alternate,i,ks);i.memoizedProps=i.pendingProps,l===null?md(i):Re=l}function iC(i){var l=i,u=l.alternate;switch(l.tag){case 15:case 0:l=_T(u,l,l.pendingProps,l.type,void 0,ze);break;case 11:l=_T(u,l,l.pendingProps,l.type.render,l.ref,ze);break;case 5:Vg(l);default:RT(u,l),l=Re=ow(l,ks),l=NT(u,l,ks)}i.memoizedProps=i.pendingProps,l===null?md(i):Re=l}function Ua(i,l,u,h){vs=ho=null,Vg(l),Da=null,Sc=0;var g=l.return;try{if(CL(i,g,l,u,ze)){mt=1,od(i,nr(u,i.current)),Re=null;return}}catch(v){if(g!==null)throw Re=g,v;mt=1,od(i,nr(u,i.current)),Re=null;return}l.flags&32768?($e||h===1?i=!0:Pa||(ze&536870912)!==0?i=!1:(gi=i=!0,(h===2||h===9||h===3||h===6)&&(h=or.current,h!==null&&h.tag===13&&(h.flags|=16384))),oC(l,i)):md(l)}function md(i){var l=i;do{if((l.flags&32768)!==0){oC(l,gi);return}i=l.return;var u=kL(l.alternate,l,ks);if(u!==null){Re=u;return}if(l=l.sibling,l!==null){Re=l;return}Re=l=i}while(l!==null);mt===0&&(mt=5)}function oC(i,l){do{var u=EL(i.alternate,i);if(u!==null){u.flags&=32767,Re=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(i=i.sibling,i!==null)){Re=i;return}Re=i=u}while(i!==null);mt=6,Re=null}function aC(i,l,u,h,g,v,C,k,D){i.cancelPendingCommit=null;do gd();while(Xt!==0);if((Ye&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(v=l.lanes|l.childLanes,v|=pg,h3(i,u,v,C,k,D),i===nt&&(Re=nt=null,ze=0),za=l,bi=i,Va=u,by=v,xy=g,XT=h,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VL(Sf,function(){return dC(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,g=q.p,q.p=2,C=Ye,Ye|=4;try{ML(i,l,u)}finally{Ye=C,q.p=g,F.T=h}}Xt=1,lC(),cC(),uC()}}function lC(){if(Xt===1){Xt=0;var i=bi,l=za,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var h=q.p;q.p=2;var g=Ye;Ye|=4;try{FT(l,i);var v=Py,C=QS(i.containerInfo),k=v.focusedElem,D=v.selectionRange;if(C!==k&&k&&k.ownerDocument&&KS(k.ownerDocument.documentElement,k)){if(D!==null&&cg(k)){var I=D.start,Y=D.end;if(Y===void 0&&(Y=I),"selectionStart"in k)k.selectionStart=I,k.selectionEnd=Math.min(Y,k.value.length);else{var Q=k.ownerDocument||document,U=Q&&Q.defaultView||window;if(U.getSelection){var H=U.getSelection(),ve=k.textContent.length,me=Math.min(D.start,ve),Je=D.end===void 0?me:Math.min(D.end,ve);!H.extend&&me>Je&&(C=Je,Je=me,me=C);var z=GS(k,me),P=GS(k,Je);if(z&&P&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var V=Q.createRange();V.setStart(z.node,z.offset),H.removeAllRanges(),me>Je?(H.addRange(V),H.extend(P.node,P.offset)):(V.setEnd(P.node,P.offset),H.addRange(V))}}}}for(Q=[],H=k;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Q.length;k++){var G=Q[k];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Md=!!Ly,Py=Ly=null}finally{Ye=g,q.p=h,F.T=u}}i.current=l,Xt=2}}function cC(){if(Xt===2){Xt=0;var i=bi,l=za,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var h=q.p;q.p=2;var g=Ye;Ye|=4;try{IT(i,l.alternate,l)}finally{Ye=g,q.p=h,F.T=u}}Xt=3}}function uC(){if(Xt===4||Xt===3){Xt=0,s3();var i=bi,l=za,u=Va,h=XT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Xt=5:(Xt=0,za=bi=null,fC(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(vi=null),Hm(u),l=l.stateNode,zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Yl,l,void 0,(l.current.flags&128)===128)}catch{}if(h!==null){l=F.T,g=q.p,q.p=2,F.T=null;try{for(var v=i.onRecoverableError,C=0;C<h.length;C++){var k=h[C];v(k.value,{componentStack:k.stack})}}finally{F.T=l,q.p=g}}(Va&3)!==0&&gd(),Qr(i),g=i.pendingLanes,(u&4194090)!==0&&(g&42)!==0?i===Sy?Ac++:(Ac=0,Sy=i):Ac=0,Nc(0)}}function fC(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,uc(l)))}function gd(i){return lC(),cC(),uC(),dC()}function dC(){if(Xt!==5)return!1;var i=bi,l=by;by=0;var u=Hm(Va),h=F.T,g=q.p;try{q.p=32>u?32:u,F.T=null,u=xy,xy=null;var v=bi,C=Va;if(Xt=0,za=bi=null,Va=0,(Ye&6)!==0)throw Error(r(331));var k=Ye;if(Ye|=4,KT(v.current),YT(v,v.current,C,u),Ye=k,Nc(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Yl,v)}catch{}return!0}finally{q.p=g,F.T=h,fC(i,l)}}function hC(i,l,u){l=nr(u,l),l=Zg(i.stateNode,l,2),i=ci(i,l,2),i!==null&&(Gl(i,2),Qr(i))}function et(i,l,u){if(i.tag===3)hC(i,i,u);else for(;l!==null;){if(l.tag===3){hC(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(vi===null||!vi.has(h))){i=nr(u,i),u=yT(2),h=ci(l,u,2),h!==null&&(vT(u,h,l,i),Gl(h,2),Qr(h));break}}l=l.return}}function _y(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new NL;var g=new Set;h.set(l,g)}else g=h.get(l),g===void 0&&(g=new Set,h.set(l,g));g.has(u)||(my=!0,g.add(u),i=PL.bind(null,i,l,u),l.then(i,i))}function PL(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,nt===i&&(ze&u)===u&&(mt===4||mt===3&&(ze&62914560)===ze&&300>qr()-vy?(Ye&2)===0&&Ia(i,0):gy|=u,Ba===ze&&(Ba=0)),Qr(i)}function pC(i,l){l===0&&(l=uS()),i=wa(i,l),i!==null&&(Gl(i,l),Qr(i))}function BL(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),pC(i,u)}function zL(i,l){var u=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(l),pC(i,u)}function VL(i,l){return zm(i,l)}var yd=null,Ha=null,ky=!1,vd=!1,Ey=!1,xo=0;function Qr(i){i!==Ha&&i.next===null&&(Ha===null?yd=Ha=i:Ha=Ha.next=i),vd=!0,ky||(ky=!0,UL())}function Nc(i,l){if(!Ey&&vd){Ey=!0;do for(var u=!1,h=yd;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var v=0;else{var C=h.suspendedLanes,k=h.pingedLanes;v=(1<<31-Vn(42|i)+1)-1,v&=g&~(C&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,vC(h,v))}else v=ze,v=Cf(h,h===nt?v:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(v&3)===0||Wl(h,v)||(u=!0,vC(h,v));h=h.next}while(u);Ey=!1}}function IL(){mC()}function mC(){vd=ky=!1;var i=0;xo!==0&&(KL()&&(i=xo),xo=0);for(var l=qr(),u=null,h=yd;h!==null;){var g=h.next,v=gC(h,l);v===0?(h.next=null,u===null?yd=g:u.next=g,g===null&&(Ha=u)):(u=h,(i!==0||(v&3)!==0)&&(vd=!0)),h=g}Nc(i)}function gC(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-Vn(v),k=1<<C,D=g[C];D===-1?((k&u)===0||(k&h)!==0)&&(g[C]=d3(k,l)):D<=l&&(i.expiredLanes|=k),v&=~k}if(l=nt,u=ze,u=Cf(i,i===l?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===l&&(We===2||We===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Vm(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Wl(i,u)){if(l=u&-u,l===i.callbackPriority)return l;switch(h!==null&&Vm(h),Hm(u)){case 2:case 8:u=aS;break;case 32:u=Sf;break;case 268435456:u=lS;break;default:u=Sf}return h=yC.bind(null,i),u=zm(u,h),i.callbackPriority=l,i.callbackNode=u,l}return h!==null&&h!==null&&Vm(h),i.callbackPriority=2,i.callbackNode=null,2}function yC(i,l){if(Xt!==0&&Xt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(gd()&&i.callbackNode!==u)return null;var h=ze;return h=Cf(i,i===nt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(ZT(i,h,l),gC(i,qr()),i.callbackNode!=null&&i.callbackNode===u?yC.bind(null,i):null)}function vC(i,l){if(gd())return null;ZT(i,l,!0)}function UL(){XL(function(){(Ye&6)!==0?zm(oS,IL):mC()})}function My(){return xo===0&&(xo=cS()),xo}function bC(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Of(""+i)}function xC(i,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,i.id&&u.setAttribute("form",i.id),l.parentNode.insertBefore(u,l),i=new FormData(i),u.parentNode.removeChild(u),i}function HL(i,l,u,h,g){if(l==="submit"&&u&&u.stateNode===g){var v=bC((g[_n]||null).action),C=h.submitter;C&&(l=(l=C[_n]||null)?bC(l.formAction):C.getAttribute("formAction"),l!==null&&(v=l,C=null));var k=new Rf("action","action",null,h,g);i.push({event:k,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(xo!==0){var D=C?xC(g,C):new FormData(g);Gg(u,{pending:!0,data:D,method:g.method,action:v},null,D)}}else typeof v=="function"&&(k.preventDefault(),D=C?xC(g,C):new FormData(g),Gg(u,{pending:!0,data:D,method:g.method,action:v},v,D))},currentTarget:g}]})}}for(var Oy=0;Oy<hg.length;Oy++){var Ay=hg[Oy],$L=Ay.toLowerCase(),FL=Ay[0].toUpperCase()+Ay.slice(1);Cr($L,"on"+FL)}Cr(ZS,"onAnimationEnd"),Cr(ew,"onAnimationIteration"),Cr(tw,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(aL,"onTransitionRun"),Cr(lL,"onTransitionStart"),Cr(cL,"onTransitionCancel"),Cr(nw,"onTransitionEnd"),da("onMouseEnter",["mouseout","mouseover"]),da("onMouseLeave",["mouseout","mouseover"]),da("onPointerEnter",["pointerout","pointerover"]),da("onPointerLeave",["pointerout","pointerover"]),ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ro("onBeforeInput",["compositionend","keypress","textInput","paste"]),ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function SC(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],g=h.event;h=h.listeners;e:{var v=void 0;if(l)for(var C=h.length-1;0<=C;C--){var k=h[C],D=k.instance,I=k.currentTarget;if(k=k.listener,D!==v&&g.isPropagationStopped())break e;v=k,g.currentTarget=I;try{v(g)}catch(Y){id(Y)}g.currentTarget=null,v=D}else for(C=0;C<h.length;C++){if(k=h[C],D=k.instance,I=k.currentTarget,k=k.listener,D!==v&&g.isPropagationStopped())break e;v=k,g.currentTarget=I;try{v(g)}catch(Y){id(Y)}g.currentTarget=null,v=D}}}}function je(i,l){var u=l[$m];u===void 0&&(u=l[$m]=new Set);var h=i+"__bubble";u.has(h)||(wC(l,i,2,!1),u.add(h))}function Ny(i,l,u){var h=0;l&&(h|=4),wC(u,i,h,l)}var bd="_reactListening"+Math.random().toString(36).slice(2);function Dy(i){if(!i[bd]){i[bd]=!0,mS.forEach(function(u){u!=="selectionchange"&&(qL.has(u)||Ny(u,!1,i),Ny(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[bd]||(l[bd]=!0,Ny("selectionchange",!1,l))}}function wC(i,l,u,h){switch(YC(l)){case 2:var g=vP;break;case 8:g=bP;break;default:g=Yy}u=g.bind(null,l,u,i),g=void 0,!eg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(l,u,{capture:!0,passive:g}):i.addEventListener(l,u,!0):g!==void 0?i.addEventListener(l,u,{passive:g}):i.addEventListener(l,u,!1)}function Ry(i,l,u,h,g){var v=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var k=h.stateNode.containerInfo;if(k===g)break;if(C===4)for(C=h.return;C!==null;){var D=C.tag;if((D===3||D===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;k!==null;){if(C=ca(k),C===null)return;if(D=C.tag,D===5||D===6||D===26||D===27){h=v=C;continue e}k=k.parentNode}}h=h.return}OS(function(){var I=v,Y=Jm(u),Q=[];e:{var U=rw.get(i);if(U!==void 0){var H=Rf,ve=i;switch(i){case"keypress":if(Nf(u)===0)break e;case"keydown":case"keyup":H=V3;break;case"focusin":ve="focus",H=sg;break;case"focusout":ve="blur",H=sg;break;case"beforeblur":case"afterblur":H=sg;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=DS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=E3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=H3;break;case ZS:case ew:case tw:H=A3;break;case nw:H=F3;break;case"scroll":case"scrollend":H=_3;break;case"wheel":H=Y3;break;case"copy":case"cut":case"paste":H=D3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=jS;break;case"toggle":case"beforetoggle":H=G3}var me=(l&4)!==0,Je=!me&&(i==="scroll"||i==="scrollend"),z=me?U!==null?U+"Capture":null:U;me=[];for(var P=I,V;P!==null;){var G=P;if(V=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||V===null||z===null||(G=Xl(P,z),G!=null&&me.push(Rc(P,G,V))),Je)break;P=P.return}0<me.length&&(U=new H(U,ve,null,u,Y),Q.push({event:U,listeners:me}))}}if((l&7)===0){e:{if(U=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",U&&u!==Xm&&(ve=u.relatedTarget||u.fromElement)&&(ca(ve)||ve[la]))break e;if((H||U)&&(U=Y.window===Y?Y:(U=Y.ownerDocument)?U.defaultView||U.parentWindow:window,H?(ve=u.relatedTarget||u.toElement,H=I,ve=ve?ca(ve):null,ve!==null&&(Je=o(ve),me=ve.tag,ve!==Je||me!==5&&me!==27&&me!==6)&&(ve=null)):(H=null,ve=I),H!==ve)){if(me=DS,G="onMouseLeave",z="onMouseEnter",P="mouse",(i==="pointerout"||i==="pointerover")&&(me=jS,G="onPointerLeave",z="onPointerEnter",P="pointer"),Je=H==null?U:Ql(H),V=ve==null?U:Ql(ve),U=new me(G,P+"leave",H,u,Y),U.target=Je,U.relatedTarget=V,G=null,ca(Y)===I&&(me=new me(z,P+"enter",ve,u,Y),me.target=V,me.relatedTarget=Je,G=me),Je=G,H&&ve)t:{for(me=H,z=ve,P=0,V=me;V;V=$a(V))P++;for(V=0,G=z;G;G=$a(G))V++;for(;0<P-V;)me=$a(me),P--;for(;0<V-P;)z=$a(z),V--;for(;P--;){if(me===z||z!==null&&me===z.alternate)break t;me=$a(me),z=$a(z)}me=null}else me=null;H!==null&&TC(Q,U,H,me,!1),ve!==null&&Je!==null&&TC(Q,Je,ve,me,!0)}}e:{if(U=I?Ql(I):window,H=U.nodeName&&U.nodeName.toLowerCase(),H==="select"||H==="input"&&U.type==="file")var le=HS;else if(IS(U))if($S)le=sL;else{le=nL;var De=tL}else H=U.nodeName,!H||H.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?I&&Qm(I.elementType)&&(le=HS):le=rL;if(le&&(le=le(i,I))){US(Q,le,u,Y);break e}De&&De(i,U,I),i==="focusout"&&I&&U.type==="number"&&I.memoizedProps.value!=null&&Km(U,"number",U.value)}switch(De=I?Ql(I):window,i){case"focusin":(IS(De)||De.contentEditable==="true")&&(ba=De,ug=I,ic=null);break;case"focusout":ic=ug=ba=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,XS(Q,u,Y);break;case"selectionchange":if(oL)break;case"keydown":case"keyup":XS(Q,u,Y)}var ue;if(og)e:{switch(i){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else va?zS(i,u)&&(ye="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ye="onCompositionStart");ye&&(LS&&u.locale!=="ko"&&(va||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&va&&(ue=AS()):(ii=Y,tg="value"in ii?ii.value:ii.textContent,va=!0)),De=xd(I,ye),0<De.length&&(ye=new RS(ye,i,null,u,Y),Q.push({event:ye,listeners:De}),ue?ye.data=ue:(ue=VS(u),ue!==null&&(ye.data=ue)))),(ue=Q3?X3(i,u):J3(i,u))&&(ye=xd(I,"onBeforeInput"),0<ye.length&&(De=new RS("onBeforeInput","beforeinput",null,u,Y),Q.push({event:De,listeners:ye}),De.data=ue)),HL(Q,i,I,u,Y)}SC(Q,l)})}function Rc(i,l,u){return{instance:i,listener:l,currentTarget:u}}function xd(i,l){for(var u=l+"Capture",h=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Xl(i,u),g!=null&&h.unshift(Rc(i,g,v)),g=Xl(i,l),g!=null&&h.push(Rc(i,g,v))),i.tag===3)return h;i=i.return}return[]}function $a(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function TC(i,l,u,h,g){for(var v=l._reactName,C=[];u!==null&&u!==h;){var k=u,D=k.alternate,I=k.stateNode;if(k=k.tag,D!==null&&D===h)break;k!==5&&k!==26&&k!==27||I===null||(D=I,g?(I=Xl(u,v),I!=null&&C.unshift(Rc(u,I,D))):g||(I=Xl(u,v),I!=null&&C.push(Rc(u,I,D)))),u=u.return}C.length!==0&&i.push({event:l,listeners:C})}var YL=/\r\n?/g,WL=/\u0000|\uFFFD/g;function CC(i){return(typeof i=="string"?i:""+i).replace(YL,`
`).replace(WL,"")}function _C(i,l){return l=CC(l),CC(i)===l}function Sd(){}function Xe(i,l,u,h,g,v){switch(u){case"children":typeof h=="string"?l==="body"||l==="textarea"&&h===""||ma(i,h):(typeof h=="number"||typeof h=="bigint")&&l!=="body"&&ma(i,""+h);break;case"className":kf(i,"class",h);break;case"tabIndex":kf(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":kf(i,u,h);break;case"style":ES(i,h,v);break;case"data":if(l!=="object"){kf(i,"data",h);break}case"src":case"href":if(h===""&&(l!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Of(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(l!=="input"&&Xe(i,l,"name",g.name,g,null),Xe(i,l,"formEncType",g.formEncType,g,null),Xe(i,l,"formMethod",g.formMethod,g,null),Xe(i,l,"formTarget",g.formTarget,g,null)):(Xe(i,l,"encType",g.encType,g,null),Xe(i,l,"method",g.method,g,null),Xe(i,l,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=Of(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=Sd);break;case"onScroll":h!=null&&je("scroll",i);break;case"onScrollEnd":h!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=Of(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":je("beforetoggle",i),je("toggle",i),_f(i,"popover",h);break;case"xlinkActuate":hs(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":hs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":hs(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":hs(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":hs(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":hs(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":hs(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":hs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":hs(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":_f(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=T3.get(u)||u,_f(i,u,h))}}function jy(i,l,u,h,g,v){switch(u){case"style":ES(i,h,v);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?ma(i,h):(typeof h=="number"||typeof h=="bigint")&&ma(i,""+h);break;case"onScroll":h!=null&&je("scroll",i);break;case"onScrollEnd":h!=null&&je("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),l=u.slice(2,g?u.length-7:void 0),v=i[_n]||null,v=v!=null?v[u]:null,typeof v=="function"&&i.removeEventListener(l,v,g),typeof h=="function")){typeof v!="function"&&v!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(l,h,g);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):_f(i,u,h)}}}function Jt(i,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var h=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var C=u[v];if(C!=null)switch(v){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xe(i,l,v,C,u,null)}}g&&Xe(i,l,"srcSet",u.srcSet,u,null),h&&Xe(i,l,"src",u.src,u,null);return;case"input":je("invalid",i);var k=v=C=g=null,D=null,I=null;for(h in u)if(u.hasOwnProperty(h)){var Y=u[h];if(Y!=null)switch(h){case"name":g=Y;break;case"type":C=Y;break;case"checked":D=Y;break;case"defaultChecked":I=Y;break;case"value":v=Y;break;case"defaultValue":k=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,l));break;default:Xe(i,l,h,Y,u,null)}}TS(i,v,k,D,I,C,g,!1),Ef(i);return;case"select":je("invalid",i),h=C=v=null;for(g in u)if(u.hasOwnProperty(g)&&(k=u[g],k!=null))switch(g){case"value":v=k;break;case"defaultValue":C=k;break;case"multiple":h=k;default:Xe(i,l,g,k,u,null)}l=v,u=C,i.multiple=!!h,l!=null?pa(i,!!h,l,!1):u!=null&&pa(i,!!h,u,!0);return;case"textarea":je("invalid",i),v=g=h=null;for(C in u)if(u.hasOwnProperty(C)&&(k=u[C],k!=null))switch(C){case"value":h=k;break;case"defaultValue":g=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Xe(i,l,C,k,u,null)}_S(i,h,g,v),Ef(i);return;case"option":for(D in u)if(u.hasOwnProperty(D)&&(h=u[D],h!=null))switch(D){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Xe(i,l,D,h,u,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(h=0;h<Dc.length;h++)je(Dc[h],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in u)if(u.hasOwnProperty(I)&&(h=u[I],h!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Xe(i,l,I,h,u,null)}return;default:if(Qm(l)){for(Y in u)u.hasOwnProperty(Y)&&(h=u[Y],h!==void 0&&jy(i,l,Y,h,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(h=u[k],h!=null&&Xe(i,l,k,h,u,null))}function GL(i,l,u,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,k=null,D=null,I=null,Y=null;for(H in u){var Q=u[H];if(u.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=Q;default:h.hasOwnProperty(H)||Xe(i,l,H,null,h,Q)}}for(var U in h){var H=h[U];if(Q=u[U],h.hasOwnProperty(U)&&(H!=null||Q!=null))switch(U){case"type":v=H;break;case"name":g=H;break;case"checked":I=H;break;case"defaultChecked":Y=H;break;case"value":C=H;break;case"defaultValue":k=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,l));break;default:H!==Q&&Xe(i,l,U,H,h,Q)}}Gm(i,C,k,D,I,Y,v,g);return;case"select":H=C=k=U=null;for(v in u)if(D=u[v],u.hasOwnProperty(v)&&D!=null)switch(v){case"value":break;case"multiple":H=D;default:h.hasOwnProperty(v)||Xe(i,l,v,null,h,D)}for(g in h)if(v=h[g],D=u[g],h.hasOwnProperty(g)&&(v!=null||D!=null))switch(g){case"value":U=v;break;case"defaultValue":k=v;break;case"multiple":C=v;default:v!==D&&Xe(i,l,g,v,h,D)}l=k,u=C,h=H,U!=null?pa(i,!!u,U,!1):!!h!=!!u&&(l!=null?pa(i,!!u,l,!0):pa(i,!!u,u?[]:"",!1));return;case"textarea":H=U=null;for(k in u)if(g=u[k],u.hasOwnProperty(k)&&g!=null&&!h.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Xe(i,l,k,null,h,g)}for(C in h)if(g=h[C],v=u[C],h.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":U=g;break;case"defaultValue":H=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Xe(i,l,C,g,h,v)}CS(i,U,H);return;case"option":for(var ve in u)if(U=u[ve],u.hasOwnProperty(ve)&&U!=null&&!h.hasOwnProperty(ve))switch(ve){case"selected":i.selected=!1;break;default:Xe(i,l,ve,null,h,U)}for(D in h)if(U=h[D],H=u[D],h.hasOwnProperty(D)&&U!==H&&(U!=null||H!=null))switch(D){case"selected":i.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Xe(i,l,D,U,h,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in u)U=u[me],u.hasOwnProperty(me)&&U!=null&&!h.hasOwnProperty(me)&&Xe(i,l,me,null,h,U);for(I in h)if(U=h[I],H=u[I],h.hasOwnProperty(I)&&U!==H&&(U!=null||H!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,l));break;default:Xe(i,l,I,U,h,H)}return;default:if(Qm(l)){for(var Je in u)U=u[Je],u.hasOwnProperty(Je)&&U!==void 0&&!h.hasOwnProperty(Je)&&jy(i,l,Je,void 0,h,U);for(Y in h)U=h[Y],H=u[Y],!h.hasOwnProperty(Y)||U===H||U===void 0&&H===void 0||jy(i,l,Y,U,h,H);return}}for(var z in u)U=u[z],u.hasOwnProperty(z)&&U!=null&&!h.hasOwnProperty(z)&&Xe(i,l,z,null,h,U);for(Q in h)U=h[Q],H=u[Q],!h.hasOwnProperty(Q)||U===H||U==null&&H==null||Xe(i,l,Q,U,h,H)}var Ly=null,Py=null;function wd(i){return i.nodeType===9?i:i.ownerDocument}function kC(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EC(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function By(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var zy=null;function KL(){var i=window.event;return i&&i.type==="popstate"?i===zy?!1:(zy=i,!0):(zy=null,!1)}var MC=typeof setTimeout=="function"?setTimeout:void 0,QL=typeof clearTimeout=="function"?clearTimeout:void 0,OC=typeof Promise=="function"?Promise:void 0,XL=typeof queueMicrotask=="function"?queueMicrotask:typeof OC<"u"?function(i){return OC.resolve(null).then(i).catch(JL)}:MC;function JL(i){setTimeout(function(){throw i})}function Si(i){return i==="head"}function AC(i,l){var u=l,h=0,g=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<h&&8>h){u=h;var C=i.ownerDocument;if(u&1&&jc(C.documentElement),u&2&&jc(C.body),u&4)for(u=C.head,jc(u),C=u.firstChild;C;){var k=C.nextSibling,D=C.nodeName;C[Kl]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=k}}if(g===0){i.removeChild(v),Hc(l);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:h=u.charCodeAt(0)-48;else h=0;u=v}while(u);Hc(l)}function Vy(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Vy(u),Fm(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function ZL(i,l,u,h){for(;i.nodeType===1;){var g=u;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Kl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=kr(i.nextSibling),i===null)break}return null}function eP(i,l,u){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=kr(i.nextSibling),i===null))return null;return i}function Iy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function tP(i,l){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")l();else{var h=function(){l(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function kr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var Uy=null;function NC(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}function DC(i,l,u){switch(l=wd(u),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function jc(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Fm(i)}var lr=new Map,RC=new Set;function Td(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Es=q.d;q.d={f:nP,r:rP,D:sP,C:iP,L:oP,m:aP,X:cP,S:lP,M:uP};function nP(){var i=Es.f(),l=pd();return i||l}function rP(i){var l=ua(i);l!==null&&l.tag===5&&l.type==="form"?Zw(l):Es.r(i)}var Fa=typeof document>"u"?null:document;function jC(i,l,u){var h=Fa;if(h&&typeof l=="string"&&l){var g=tr(l);g='link[rel="'+i+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),RC.has(g)||(RC.add(g),i={rel:i,crossOrigin:u,href:l},h.querySelector(g)===null&&(l=h.createElement("link"),Jt(l,"link",i),It(l),h.head.appendChild(l)))}}function sP(i){Es.D(i),jC("dns-prefetch",i,null)}function iP(i,l){Es.C(i,l),jC("preconnect",i,l)}function oP(i,l,u){Es.L(i,l,u);var h=Fa;if(h&&i&&l){var g='link[rel="preload"][as="'+tr(l)+'"]';l==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+tr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+tr(u.imageSizes)+'"]')):g+='[href="'+tr(i)+'"]';var v=g;switch(l){case"style":v=qa(i);break;case"script":v=Ya(i)}lr.has(v)||(i=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:i,as:l},u),lr.set(v,i),h.querySelector(g)!==null||l==="style"&&h.querySelector(Lc(v))||l==="script"&&h.querySelector(Pc(v))||(l=h.createElement("link"),Jt(l,"link",i),It(l),h.head.appendChild(l)))}}function aP(i,l){Es.m(i,l);var u=Fa;if(u&&i){var h=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+tr(h)+'"][href="'+tr(i)+'"]',v=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ya(i)}if(!lr.has(v)&&(i=p({rel:"modulepreload",href:i},l),lr.set(v,i),u.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Pc(v)))return}h=u.createElement("link"),Jt(h,"link",i),It(h),u.head.appendChild(h)}}}function lP(i,l,u){Es.S(i,l,u);var h=Fa;if(h&&i){var g=fa(h).hoistableStyles,v=qa(i);l=l||"default";var C=g.get(v);if(!C){var k={loading:0,preload:null};if(C=h.querySelector(Lc(v)))k.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":l},u),(u=lr.get(v))&&Hy(i,u);var D=C=h.createElement("link");It(D),Jt(D,"link",i),D._p=new Promise(function(I,Y){D.onload=I,D.onerror=Y}),D.addEventListener("load",function(){k.loading|=1}),D.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Cd(C,l,h)}C={type:"stylesheet",instance:C,count:1,state:k},g.set(v,C)}}}function cP(i,l){Es.X(i,l);var u=Fa;if(u&&i){var h=fa(u).hoistableScripts,g=Ya(i),v=h.get(g);v||(v=u.querySelector(Pc(g)),v||(i=p({src:i,async:!0},l),(l=lr.get(g))&&$y(i,l),v=u.createElement("script"),It(v),Jt(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function uP(i,l){Es.M(i,l);var u=Fa;if(u&&i){var h=fa(u).hoistableScripts,g=Ya(i),v=h.get(g);v||(v=u.querySelector(Pc(g)),v||(i=p({src:i,async:!0,type:"module"},l),(l=lr.get(g))&&$y(i,l),v=u.createElement("script"),It(v),Jt(v,"link",i),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},h.set(g,v))}}function LC(i,l,u,h){var g=(g=we.current)?Td(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=qa(u.href),u=fa(g).hoistableStyles,h=u.get(l),h||(h={type:"style",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=qa(u.href);var v=fa(g).hoistableStyles,C=v.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=g.querySelector(Lc(i)))&&!v._p&&(C.instance=v,C.state.loading=5),lr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},lr.set(i,u),v||fP(g,i,u,C.state))),l&&h===null)throw Error(r(528,""));return C}if(l&&h!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ya(u),u=fa(g).hoistableScripts,h=u.get(l),h||(h={type:"script",instance:null,count:0,state:null},u.set(l,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function qa(i){return'href="'+tr(i)+'"'}function Lc(i){return'link[rel="stylesheet"]['+i+"]"}function PC(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function fP(i,l,u,h){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?h.loading=1:(l=i.createElement("link"),h.preload=l,l.addEventListener("load",function(){return h.loading|=1}),l.addEventListener("error",function(){return h.loading|=2}),Jt(l,"link",u),It(l),i.head.appendChild(l))}function Ya(i){return'[src="'+tr(i)+'"]'}function Pc(i){return"script[async]"+i}function BC(i,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var h=i.querySelector('style[data-href~="'+tr(u.href)+'"]');if(h)return l.instance=h,It(h),h;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),It(h),Jt(h,"style",g),Cd(h,u.precedence,i),l.instance=h;case"stylesheet":g=qa(u.href);var v=i.querySelector(Lc(g));if(v)return l.state.loading|=4,l.instance=v,It(v),v;h=PC(u),(g=lr.get(g))&&Hy(h,g),v=(i.ownerDocument||i).createElement("link"),It(v);var C=v;return C._p=new Promise(function(k,D){C.onload=k,C.onerror=D}),Jt(v,"link",h),l.state.loading|=4,Cd(v,u.precedence,i),l.instance=v;case"script":return v=Ya(u.src),(g=i.querySelector(Pc(v)))?(l.instance=g,It(g),g):(h=u,(g=lr.get(v))&&(h=p({},u),$y(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),It(g),Jt(g,"link",h),i.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(h=l.instance,l.state.loading|=4,Cd(h,u.precedence,i));return l.instance}function Cd(i,l,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,v=g,C=0;C<h.length;C++){var k=h[C];if(k.dataset.precedence===l)v=k;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(i,l.firstChild))}function Hy(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function $y(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var _d=null;function zC(i,l,u){if(_d===null){var h=new Map,g=_d=new Map;g.set(u,h)}else g=_d,h=g.get(u),h||(h=new Map,g.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),g=0;g<u.length;g++){var v=u[g];if(!(v[Kl]||v[on]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(l)||"";C=i+C;var k=h.get(C);k?k.push(v):h.set(C,[v])}}return h}function VC(i,l,u){i=i.ownerDocument||i,i.head.insertBefore(u,l==="title"?i.querySelector("head > title"):null)}function dP(i,l,u){if(u===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function IC(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Bc=null;function hP(){}function pP(i,l,u){if(Bc===null)throw Error(r(475));var h=Bc;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=qa(u.href),v=i.querySelector(Lc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=kd.bind(h),i.then(h,h)),l.state.loading|=4,l.instance=v,It(v);return}v=i.ownerDocument||i,u=PC(u),(g=lr.get(g))&&Hy(u,g),v=v.createElement("link"),It(v);var C=v;C._p=new Promise(function(k,D){C.onload=k,C.onerror=D}),Jt(v,"link",u),l.instance=v}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(h.count++,l=kd.bind(h),i.addEventListener("load",l),i.addEventListener("error",l))}}function mP(){if(Bc===null)throw Error(r(475));var i=Bc;return i.stylesheets&&i.count===0&&Fy(i,i.stylesheets),0<i.count?function(l){var u=setTimeout(function(){if(i.stylesheets&&Fy(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u)}}:null}function kd(){if(this.count--,this.count===0){if(this.stylesheets)Fy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ed=null;function Fy(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ed=new Map,l.forEach(gP,i),Ed=null,kd.call(i))}function gP(i,l){if(!(l.state.loading&4)){var u=Ed.get(i);if(u)var h=u.get(null);else{u=new Map,Ed.set(i,u);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),h=C)}h&&u.set(null,h)}g=l.instance,C=g.getAttribute("data-precedence"),v=u.get(C)||h,v===h&&u.set(null,g),u.set(C,g),this.count++,h=kd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),l.state.loading|=4}}var zc={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function yP(i,l,u,h,g,v,C,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Im(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.hiddenUpdates=Im(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function UC(i,l,u,h,g,v,C,k,D,I,Y,Q){return i=new yP(i,l,u,C,k,D,I,Q),l=1,v===!0&&(l|=24),v=Un(3,null,null,l),i.current=v,v.stateNode=i,l=_g(),l.refCount++,i.pooledCache=l,l.refCount++,v.memoizedState={element:h,isDehydrated:u,cache:l},Og(v),i}function HC(i){return i?(i=Ta,i):Ta}function $C(i,l,u,h,g,v){g=HC(g),h.context===null?h.context=g:h.pendingContext=g,h=li(l),h.payload={element:u},v=v===void 0?null:v,v!==null&&(h.callback=v),u=ci(i,h,l),u!==null&&(Yn(u,i,l),pc(u,i,l))}function FC(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function qy(i,l){FC(i,l),(i=i.alternate)&&FC(i,l)}function qC(i){if(i.tag===13){var l=wa(i,67108864);l!==null&&Yn(l,i,67108864),qy(i,67108864)}}var Md=!0;function vP(i,l,u,h){var g=F.T;F.T=null;var v=q.p;try{q.p=2,Yy(i,l,u,h)}finally{q.p=v,F.T=g}}function bP(i,l,u,h){var g=F.T;F.T=null;var v=q.p;try{q.p=8,Yy(i,l,u,h)}finally{q.p=v,F.T=g}}function Yy(i,l,u,h){if(Md){var g=Wy(h);if(g===null)Ry(i,l,h,Od,u),WC(i,h);else if(SP(g,i,l,u,h))h.stopPropagation();else if(WC(i,h),l&4&&-1<xP.indexOf(i)){for(;g!==null;){var v=ua(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=no(v.pendingLanes);if(C!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var D=1<<31-Vn(C);k.entanglements[1]|=D,C&=~D}Qr(v),(Ye&6)===0&&(dd=qr()+500,Nc(0))}}break;case 13:k=wa(v,2),k!==null&&Yn(k,v,2),pd(),qy(v,2)}if(v=Wy(h),v===null&&Ry(i,l,h,Od,u),v===g)break;g=v}g!==null&&h.stopPropagation()}else Ry(i,l,h,null,u)}}function Wy(i){return i=Jm(i),Gy(i)}var Od=null;function Gy(i){if(Od=null,i=ca(i),i!==null){var l=o(i);if(l===null)i=null;else{var u=l.tag;if(u===13){if(i=a(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return Od=i,null}function YC(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(i3()){case oS:return 2;case aS:return 8;case Sf:case o3:return 32;case lS:return 268435456;default:return 32}default:return 32}}var Ky=!1,wi=null,Ti=null,Ci=null,Vc=new Map,Ic=new Map,_i=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WC(i,l){switch(i){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Vc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(l.pointerId)}}function Uc(i,l,u,h,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},l!==null&&(l=ua(l),l!==null&&qC(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),i)}function SP(i,l,u,h,g){switch(l){case"focusin":return wi=Uc(wi,i,l,u,h,g),!0;case"dragenter":return Ti=Uc(Ti,i,l,u,h,g),!0;case"mouseover":return Ci=Uc(Ci,i,l,u,h,g),!0;case"pointerover":var v=g.pointerId;return Vc.set(v,Uc(Vc.get(v)||null,i,l,u,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Ic.set(v,Uc(Ic.get(v)||null,i,l,u,h,g)),!0}return!1}function GC(i){var l=ca(i.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=a(u),l!==null){i.blockedOn=l,p3(i.priority,function(){if(u.tag===13){var h=qn();h=Um(h);var g=wa(u,h);g!==null&&Yn(g,u,h),qy(u,h)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ad(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Wy(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Xm=h,u.target.dispatchEvent(h),Xm=null}else return l=ua(u),l!==null&&qC(l),i.blockedOn=u,!1;l.shift()}return!0}function KC(i,l,u){Ad(i)&&u.delete(l)}function wP(){Ky=!1,wi!==null&&Ad(wi)&&(wi=null),Ti!==null&&Ad(Ti)&&(Ti=null),Ci!==null&&Ad(Ci)&&(Ci=null),Vc.forEach(KC),Ic.forEach(KC)}function Nd(i,l){i.blockedOn===l&&(i.blockedOn=null,Ky||(Ky=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wP)))}var Dd=null;function QC(i){Dd!==i&&(Dd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Dd===i&&(Dd=null);for(var l=0;l<i.length;l+=3){var u=i[l],h=i[l+1],g=i[l+2];if(typeof h!="function"){if(Gy(h||u)===null)continue;break}var v=ua(u);v!==null&&(i.splice(l,3),l-=3,Gg(v,{pending:!0,data:g,method:u.method,action:h},h,g))}}))}function Hc(i){function l(D){return Nd(D,i)}wi!==null&&Nd(wi,i),Ti!==null&&Nd(Ti,i),Ci!==null&&Nd(Ci,i),Vc.forEach(l),Ic.forEach(l);for(var u=0;u<_i.length;u++){var h=_i[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<_i.length&&(u=_i[0],u.blockedOn===null);)GC(u),u.blockedOn===null&&_i.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var g=u[h],v=u[h+1],C=g[_n]||null;if(typeof v=="function")C||QC(u);else if(C){var k=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[_n]||null)k=C.formAction;else if(Gy(g)!==null)continue}else k=C.action;typeof k=="function"?u[h+1]=k:(u.splice(h,3),h-=3),QC(u)}}}function Qy(i){this._internalRoot=i}Rd.prototype.render=Qy.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,h=qn();$C(u,h,i,l,null,null)},Rd.prototype.unmount=Qy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;$C(i.current,2,null,i,null,null),pd(),l[la]=null}};function Rd(i){this._internalRoot=i}Rd.prototype.unstable_scheduleHydration=function(i){if(i){var l=hS();i={blockedOn:null,target:i,priority:l};for(var u=0;u<_i.length&&l!==0&&l<_i[u].priority;u++);_i.splice(u,0,i),u===0&&GC(i)}};var XC=e.version;if(XC!=="19.1.1")throw Error(r(527,XC,"19.1.1"));q.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(l),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var TP={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Yl=jd.inject(TP),zn=jd}catch{}}return Fc.createRoot=function(i,l){if(!s(i))throw Error(r(299));var u=!1,h="",g=hT,v=pT,C=mT,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks)),l=UC(i,1,!1,null,null,u,h,g,v,C,k,null),i[la]=l.current,Dy(i),new Qy(l)},Fc.hydrateRoot=function(i,l,u){if(!s(i))throw Error(r(299));var h=!1,g="",v=hT,C=pT,k=mT,D=null,I=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(D=u.unstable_transitionCallbacks),u.formState!==void 0&&(I=u.formState)),l=UC(i,1,!0,l,u??null,h,g,v,C,k,D,I),l.context=HC(null),u=l.current,h=qn(),h=Um(h),g=li(h),g.callback=null,ci(u,g,h),u=h,l.current.lanes=u,Gl(l,u),Qr(l),i[la]=l.current,Dy(i),new Rd(l)},Fc.version="19.1.1",Fc}var a_;function RP(){if(a_)return Zy.exports;a_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zy.exports=DP(),Zy.exports}var jP=RP(),r0={exports:{}},s0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function LP(){if(l_)return s0;l_=1;var t=Al();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,c=t.useDebugValue;return s0.useSyncExternalStoreWithSelector=function(f,d,p,m,y){var b=s(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=a(function(){function T(O){if(!_){if(_=!0,M=O,O=m(O),y!==void 0&&S.hasValue){var B=S.value;if(y(B,O))return A=B}return A=O}if(B=A,n(M,O))return B;var L=m(O);return y!==void 0&&y(B,L)?(M=O,B):(M=O,A=L)}var _=!1,M,A,N=p===void 0?null:p;return[function(){return T(d())},N===null?void 0:function(){return T(N())}]},[d,p,m,y]);var w=r(f,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),c(w),w},s0}var c_;function PP(){return c_||(c_=1,r0.exports=LP()),r0.exports}var BP=PP();function zP(t){t()}function VP(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zP(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!r||t===null||(r=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var u_={notify(){},get:()=>[]};function IP(t,e){let n,r=u_,s=0,o=!1;function a(w){p();const T=r.subscribe(w);let _=!1;return()=>{_||(_=!0,T(),m())}}function c(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function p(){s++,n||(n=t.subscribe(f),r=VP())}function m(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=u_)}function y(){o||(o=!0,p())}function b(){o&&(o=!1,m())}const S={addNestedSub:a,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:d,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return S}var UP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HP=UP(),$P=()=>typeof navigator<"u"&&navigator.product==="ReactNative",FP=$P(),qP=()=>HP||FP?E.useLayoutEffect:E.useEffect,YP=qP(),WP=Symbol.for("react-redux-context"),GP=typeof globalThis<"u"?globalThis:{};function KP(){if(!E.createContext)return{};const t=GP[WP]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var Gi=KP();function QP(t){const{children:e,context:n,serverState:r,store:s}=t,o=E.useMemo(()=>{const f=IP(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),a=E.useMemo(()=>s.getState(),[s]);YP(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),a!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,a]);const c=n||Gi;return E.createElement(c.Provider,{value:o},e)}var XP=QP;function Yv(t=Gi){return function(){return E.useContext(t)}}var u2=Yv();function f2(t=Gi){const e=t===Gi?u2:Yv(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var JP=f2();function ZP(t=Gi){const e=t===Gi?JP:f2(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var us=ZP(),eB=(t,e)=>t===e;function tB(t=Gi){const e=t===Gi?u2:Yv(t),n=(r,s={})=>{const{equalityFn:o=eB}=typeof s=="function"?{equalityFn:s}:s,a=e(),{store:c,subscription:f,getServerState:d}=a;E.useRef(!0);const p=E.useCallback({[r.name](y){return r(y)}}[r.name],[r]),m=BP.useSyncExternalStoreWithSelector(f.addNestedSub,c.getState,d||c.getState,p,o);return E.useDebugValue(m),m};return Object.assign(n,{withTypes:()=>n}),n}var Gt=tB();function Zt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nB=typeof Symbol=="function"&&Symbol.observable||"@@observable",f_=nB,i0=()=>Math.random().toString(36).substring(7).split("").join("."),rB={INIT:`@@redux/INIT${i0()}`,REPLACE:`@@redux/REPLACE${i0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${i0()}`},Rh=rB;function Wv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Gv(t,e,n){if(typeof t!="function")throw new Error(Zt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zt(1));return n(Gv)(t,e)}let r=t,s=e,o=new Map,a=o,c=0,f=!1;function d(){a===o&&(a=new Map,o.forEach((T,_)=>{a.set(_,T)}))}function p(){if(f)throw new Error(Zt(3));return s}function m(T){if(typeof T!="function")throw new Error(Zt(4));if(f)throw new Error(Zt(5));let _=!0;d();const M=c++;return a.set(M,T),function(){if(_){if(f)throw new Error(Zt(6));_=!1,d(),a.delete(M),o=null}}}function y(T){if(!Wv(T))throw new Error(Zt(7));if(typeof T.type>"u")throw new Error(Zt(8));if(typeof T.type!="string")throw new Error(Zt(17));if(f)throw new Error(Zt(9));try{f=!0,s=r(s,T)}finally{f=!1}return(o=a).forEach(M=>{M()}),T}function b(T){if(typeof T!="function")throw new Error(Zt(10));r=T,y({type:Rh.REPLACE})}function S(){const T=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Zt(11));function M(){const N=_;N.next&&N.next(p())}return M(),{unsubscribe:T(M)}},[f_](){return this}}}return y({type:Rh.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:b,[f_]:S}}function sB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Rh.INIT})>"u")throw new Error(Zt(12));if(typeof n(void 0,{type:Rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function iB(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const a=e[o];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let s;try{sB(n)}catch(o){s=o}return function(a={},c){if(s)throw s;let f=!1;const d={};for(let p=0;p<r.length;p++){const m=r[p],y=n[m],b=a[m],S=y(b,c);if(typeof S>"u")throw c&&c.type,new Error(Zt(14));d[m]=S,f=f||S!==b}return f=f||r.length!==Object.keys(a).length,f?d:a}}function jh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function oB(...t){return e=>(n,r)=>{const s=e(n,r);let o=()=>{throw new Error(Zt(15))};const a={getState:s.getState,dispatch:(f,...d)=>o(f,...d)},c=t.map(f=>f(a));return o=jh(...c)(s.dispatch),{...s,dispatch:o}}}function aB(t){return Wv(t)&&"type"in t&&typeof t.type=="string"}var d2=Symbol.for("immer-nothing"),d_=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state");function Or(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xl=Object.getPrototypeOf;function Go(t){return!!t&&!!t[Qn]}function Gs(t){return t?h2(t)||Array.isArray(t)||!!t[d_]||!!t.constructor?.[d_]||Yp(t)||Wp(t):!1}var lB=Object.prototype.constructor.toString();function h2(t){if(!t||typeof t!="object")return!1;const e=xl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lB}function Lh(t,e){qp(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function qp(t){const e=t[Qn];return e?e.type_:Array.isArray(t)?1:Yp(t)?2:Wp(t)?3:0}function x1(t,e){return qp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function p2(t,e,n){const r=qp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Yp(t){return t instanceof Map}function Wp(t){return t instanceof Set}function Eo(t){return t.copy_||t.base_}function S1(t,e){if(Yp(t))return new Map(t);if(Wp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=h2(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Qn];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const a=s[o],c=r[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(xl(t),r)}else{const r=xl(t);if(r!==null&&n)return{...t};const s=Object.create(r);return Object.assign(s,t)}}function Kv(t,e=!1){return Gp(t)||Go(t)||!Gs(t)||(qp(t)>1&&(t.set=t.add=t.clear=t.delete=uB),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Kv(r,!0))),t}function uB(){Or(2)}function Gp(t){return Object.isFrozen(t)}var fB={};function Ko(t){const e=fB[t];return e||Or(0,t),e}var ku;function m2(){return ku}function dB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function h_(t,e){e&&(Ko("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function w1(t){T1(t),t.drafts_.forEach(hB),t.drafts_=null}function T1(t){t===ku&&(ku=t.parent_)}function p_(t){return ku=dB(ku,t)}function hB(t){const e=t[Qn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function m_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qn].modified_&&(w1(e),Or(4)),Gs(t)&&(t=Ph(e,t),e.parent_||Bh(e,t)),e.patches_&&Ko("Patches").generateReplacementPatches_(n[Qn].base_,t,e.patches_,e.inversePatches_)):t=Ph(e,n,[]),w1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==d2?t:void 0}function Ph(t,e,n){if(Gp(e))return e;const r=e[Qn];if(!r)return Lh(e,(s,o)=>g_(t,r,e,s,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Bh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,a=!1;r.type_===3&&(o=new Set(s),s.clear(),a=!0),Lh(o,(c,f)=>g_(t,r,s,c,f,n,a)),Bh(t,s,!1),n&&t.patches_&&Ko("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function g_(t,e,n,r,s,o,a){if(Go(s)){const c=o&&e&&e.type_!==3&&!x1(e.assigned_,r)?o.concat(r):void 0,f=Ph(t,s,c);if(p2(n,r,f),Go(f))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(Gs(s)&&!Gp(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ph(t,s),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Bh(t,s)}}function Bh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Kv(e,n)}function pB(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:m2(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=Qv;n&&(s=[r],o=Eu);const{revoke:a,proxy:c}=Proxy.revocable(s,o);return r.draft_=c,r.revoke_=a,c}var Qv={get(t,e){if(e===Qn)return t;const n=Eo(t);if(!x1(n,e))return mB(t,n,e);const r=n[e];return t.finalized_||!Gs(r)?r:r===o0(t.base_,e)?(a0(t),t.copy_[e]=_1(r,t)):r},has(t,e){return e in Eo(t)},ownKeys(t){return Reflect.ownKeys(Eo(t))},set(t,e,n){const r=g2(Eo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const s=o0(Eo(t),e),o=s?.[Qn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cB(n,s)&&(n!==void 0||x1(t.base_,e)))return!0;a0(t),C1(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return o0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,a0(t),C1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Eo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Or(11)},getPrototypeOf(t){return xl(t.base_)},setPrototypeOf(){Or(12)}},Eu={};Lh(Qv,(t,e)=>{Eu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Eu.deleteProperty=function(t,e){return Eu.set.call(this,t,e,void 0)};Eu.set=function(t,e,n){return Qv.set.call(this,t[0],e,n,t[0])};function o0(t,e){const n=t[Qn];return(n?Eo(n):t)[e]}function mB(t,e,n){const r=g2(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function g2(t,e){if(!(e in t))return;let n=xl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xl(n)}}function C1(t){t.modified_||(t.modified_=!0,t.parent_&&C1(t.parent_))}function a0(t){t.copy_||(t.copy_=S1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(f=o,...d){return a.produce(f,p=>n.call(this,p,...d))}}typeof n!="function"&&Or(6),r!==void 0&&typeof r!="function"&&Or(7);let s;if(Gs(e)){const o=p_(this),a=_1(e,void 0);let c=!0;try{s=n(a),c=!1}finally{c?w1(o):T1(o)}return h_(o,r),m_(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===d2&&(s=void 0),this.autoFreeze_&&Kv(s,!0),r){const o=[],a=[];Ko("Patches").generateReplacementPatches_(e,s,o,a),r(o,a)}return s}else Or(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...c)=>this.produceWithPatches(a,f=>e(f,...c));let r,s;return[this.produce(e,n,(a,c)=>{r=a,s=c}),r,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gs(t)||Or(8),Go(t)&&(t=yB(t));const e=p_(this),n=_1(t,void 0);return n[Qn].isManual_=!0,T1(e),n}finishDraft(t,e){const n=t&&t[Qn];(!n||!n.isManual_)&&Or(9);const{scope_:r}=n;return h_(r,e),m_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const r=Ko("Patches").applyPatches_;return Go(t)?r(t,e):this.produce(t,s=>r(s,e))}};function _1(t,e){const n=Yp(t)?Ko("MapSet").proxyMap_(t,e):Wp(t)?Ko("MapSet").proxySet_(t,e):pB(t,e);return(e?e.scope_:m2()).drafts_.push(n),n}function yB(t){return Go(t)||Or(10,t),y2(t)}function y2(t){if(!Gs(t)||Gp(t))return t;const e=t[Qn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=S1(t,e.scope_.immer_.useStrictShallowCopy_)}else n=S1(t,!0);return Lh(n,(r,s)=>{p2(n,r,y2(s))}),e&&(e.finalized_=!1),n}var Xn=new gB,v2=Xn.produce;Xn.produceWithPatches.bind(Xn);Xn.setAutoFreeze.bind(Xn);Xn.setUseStrictShallowCopy.bind(Xn);Xn.applyPatches.bind(Xn);Xn.createDraft.bind(Xn);Xn.finishDraft.bind(Xn);function b2(t){return({dispatch:n,getState:r})=>s=>o=>typeof o=="function"?o(n,r,t):s(o)}var vB=b2(),bB=b2,xB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jh:jh.apply(null,arguments)},SB=t=>t&&typeof t.match=="function";function ou(t,e){function n(...r){if(e){let s=e(...r);if(!s)throw new Error(Hs(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>aB(r)&&r.type===t,n}var x2=class eu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,eu.prototype)}static get[Symbol.species](){return eu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new eu(...e[0].concat(this)):new eu(...e.concat(this))}};function y_(t){return Gs(t)?v2(t,()=>{}):t}function Ld(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function wB(t){return typeof t=="boolean"}var TB=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let a=new x2;return n&&(wB(n)?a.push(vB):a.push(bB(n.extraArgument))),a},CB="RTK_autoBatch",v_=t=>e=>{setTimeout(e,t)},_B=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let s=!0,o=!1,a=!1;const c=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:v_(10):t.type==="callback"?t.queueNotification:v_(t.timeout),d=()=>{a=!1,o&&(o=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>s&&p(),y=r.subscribe(m);return c.add(p),()=>{y(),c.delete(p)}},dispatch(p){try{return s=!p?.meta?.[CB],o=!s,o&&(a||(a=!0,f(d))),r.dispatch(p)}finally{s=!0}}})},kB=t=>function(n){const{autoBatch:r=!0}=n??{};let s=new x2(t);return r&&s.push(_B(typeof r=="object"?r:void 0)),s};function EB(t){const e=TB(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:a=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(Wv(n))c=iB(n);else throw new Error(Hs(1));let f;typeof r=="function"?f=r(e):f=e();let d=jh;s&&(d=xB({trace:!1,...typeof s=="object"&&s}));const p=oB(...f),m=kB(p);let y=typeof a=="function"?a(m):m();const b=d(...y);return Gv(c,o,b)}function S2(t){const e={},n=[];let r;const s={addCase(o,a){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(Hs(28));if(c in e)throw new Error(Hs(29));return e[c]=a,s},addMatcher(o,a){return n.push({matcher:o,reducer:a}),s},addDefaultCase(o){return r=o,s}};return t(s),[e,n,r]}function MB(t){return typeof t=="function"}function OB(t,e){let[n,r,s]=S2(e),o;if(MB(t))o=()=>y_(t());else{const c=y_(t);o=()=>c}function a(c=o(),f){let d=[n[f.type],...r.filter(({matcher:p})=>p(f)).map(({reducer:p})=>p)];return d.filter(p=>!!p).length===0&&(d=[s]),d.reduce((p,m)=>{if(m)if(Go(p)){const b=m(p,f);return b===void 0?p:b}else{if(Gs(p))return v2(p,y=>m(y,f));{const y=m(p,f);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},c)}return a.getInitialState=o,a}var AB=(t,e)=>SB(t)?t.match(e):t(e);function NB(...t){return e=>t.some(n=>AB(n,e))}var DB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RB=(t=21)=>{let e="",n=t;for(;n--;)e+=DB[Math.random()*64|0];return e},jB=["name","message","stack","code"],l0=class{constructor(t,e){this.payload=t,this.meta=e}_type},b_=class{constructor(t,e){this.payload=t,this.meta=e}_type},LB=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of jB)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},x_="External signal was aborted",Kp=(()=>{function t(e,n,r){const s=ou(e+"/fulfilled",(f,d,p,m)=>({payload:f,meta:{...m||{},arg:p,requestId:d,requestStatus:"fulfilled"}})),o=ou(e+"/pending",(f,d,p)=>({payload:void 0,meta:{...p||{},arg:d,requestId:f,requestStatus:"pending"}})),a=ou(e+"/rejected",(f,d,p,m,y)=>({payload:m,error:(r&&r.serializeError||LB)(f||"Rejected"),meta:{...y||{},arg:p,requestId:d,rejectedWithValue:!!m,requestStatus:"rejected",aborted:f?.name==="AbortError",condition:f?.name==="ConditionError"}}));function c(f,{signal:d}={}){return(p,m,y)=>{const b=r?.idGenerator?r.idGenerator(f):RB(),S=new AbortController;let w,T;function _(A){T=A,S.abort()}d&&(d.aborted?_(x_):d.addEventListener("abort",()=>_(x_),{once:!0}));const M=async function(){let A;try{let O=r?.condition?.(f,{getState:m,extra:y});if(BB(O)&&(O=await O),O===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const B=new Promise((L,R)=>{w=()=>{R({name:"AbortError",message:T||"Aborted"})},S.signal.addEventListener("abort",w)});p(o(b,f,r?.getPendingMeta?.({requestId:b,arg:f},{getState:m,extra:y}))),A=await Promise.race([B,Promise.resolve(n(f,{dispatch:p,getState:m,extra:y,requestId:b,signal:S.signal,abort:_,rejectWithValue:(L,R)=>new l0(L,R),fulfillWithValue:(L,R)=>new b_(L,R)})).then(L=>{if(L instanceof l0)throw L;return L instanceof b_?s(L.payload,b,f,L.meta):s(L,b,f)})])}catch(O){A=O instanceof l0?a(null,b,f,O.payload,O.meta):a(O,b,f)}finally{w&&S.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&a.match(A)&&A.meta.condition||p(A),A}();return Object.assign(M,{abort:_,requestId:b,arg:f,unwrap(){return M.then(PB)}})}}return Object.assign(c,{pending:o,rejected:a,fulfilled:s,settled:NB(a,s),typePrefix:e})}return t.withTypes=()=>t,t})();function PB(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function BB(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zB=Symbol.for("rtk-slice-createasyncthunk");function VB(t,e){return`${t}/${e}`}function IB({creators:t}={}){const e=t?.asyncThunk?.[zB];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(Hs(11));const a=(typeof r.reducers=="function"?r.reducers(HB()):r.reducers)||{},c=Object.keys(a),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,N){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(Hs(12));if(O in f.sliceCaseReducersByType)throw new Error(Hs(13));return f.sliceCaseReducersByType[O]=N,d},addMatcher(A,N){return f.sliceMatchers.push({matcher:A,reducer:N}),d},exposeAction(A,N){return f.actionCreators[A]=N,d},exposeCaseReducer(A,N){return f.sliceCaseReducersByName[A]=N,d}};c.forEach(A=>{const N=a[A],O={reducerName:A,type:VB(s,A),createNotation:typeof r.reducers=="function"};FB(N)?YB(O,N,d,e):$B(O,N,d)});function p(){const[A={},N=[],O=void 0]=typeof r.extraReducers=="function"?S2(r.extraReducers):[r.extraReducers],B={...A,...f.sliceCaseReducersByType};return OB(r.initialState,L=>{for(let R in B)L.addCase(R,B[R]);for(let R of f.sliceMatchers)L.addMatcher(R.matcher,R.reducer);for(let R of N)L.addMatcher(R.matcher,R.reducer);O&&L.addDefaultCase(O)})}const m=A=>A,y=new Map,b=new WeakMap;let S;function w(A,N){return S||(S=p()),S(A,N)}function T(){return S||(S=p()),S.getInitialState()}function _(A,N=!1){function O(L){let R=L[A];return typeof R>"u"&&N&&(R=Ld(b,O,T)),R}function B(L=m){const R=Ld(y,N,()=>new WeakMap);return Ld(R,L,()=>{const W={};for(const[Z,oe]of Object.entries(r.selectors??{}))W[Z]=UB(oe,L,()=>Ld(b,L,T),N);return W})}return{reducerPath:A,getSelectors:B,get selectors(){return B(O)},selectSlice:O}}const M={name:s,reducer:w,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,..._(o),injectInto(A,{reducerPath:N,...O}={}){const B=N??o;return A.inject({reducerPath:B,reducer:w},O),{...M,..._(B,!0)}}};return M}}function UB(t,e,n,r){function s(o,...a){let c=e(o);return typeof c>"u"&&r&&(c=n()),t(c,...a)}return s.unwrapped=t,s}var Xv=IB();function HB(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function $B({type:t,reducerName:e,createNotation:n},r,s){let o,a;if("reducer"in r){if(n&&!qB(r))throw new Error(Hs(17));o=r.reducer,a=r.prepare}else o=r;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,a?ou(t,a):ou(t))}function FB(t){return t._reducerDefinitionType==="asyncThunk"}function qB(t){return t._reducerDefinitionType==="reducerWithPrepare"}function YB({type:t,reducerName:e},n,r,s){if(!s)throw new Error(Hs(18));const{payloadCreator:o,fulfilled:a,pending:c,rejected:f,settled:d,options:p}=n,m=s(t,o,p);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),c&&r.addCase(m.pending,c),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Pd,pending:c||Pd,rejected:f||Pd,settled:d||Pd})}function Pd(){}function Hs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Jv="persist:",w2="persist/FLUSH",Zv="persist/REHYDRATE",T2="persist/PAUSE",C2="persist/PERSIST",_2="persist/PURGE",k2="persist/REGISTER",WB=-1;function dh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dh=function(n){return typeof n}:dh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dh(t)}function S_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function GB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S_(n,!0).forEach(function(r){KB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QB(t,e,n,r){r.debug;var s=GB({},n);return t&&dh(t)==="object"&&Object.keys(t).forEach(function(o){o!=="_persist"&&e[o]===n[o]&&(s[o]=t[o])}),s}function XB(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],s=t.throttle||0,o="".concat(t.keyPrefix!==void 0?t.keyPrefix:Jv).concat(t.key),a=t.storage,c;t.serialize===!1?c=function(O){return O}:typeof t.serialize=="function"?c=t.serialize:c=JB;var f=t.writeFailHandler||null,d={},p={},m=[],y=null,b=null,S=function(O){Object.keys(O).forEach(function(B){_(B)&&d[B]!==O[B]&&m.indexOf(B)===-1&&m.push(B)}),Object.keys(d).forEach(function(B){O[B]===void 0&&_(B)&&m.indexOf(B)===-1&&d[B]!==void 0&&m.push(B)}),y===null&&(y=setInterval(w,s)),d=O};function w(){if(m.length===0){y&&clearInterval(y),y=null;return}var N=m.shift(),O=r.reduce(function(B,L){return L.in(B,N,d)},d[N]);if(O!==void 0)try{p[N]=c(O)}catch(B){console.error("redux-persist/createPersistoid: error serializing state",B)}else delete p[N];m.length===0&&T()}function T(){Object.keys(p).forEach(function(N){d[N]===void 0&&delete p[N]}),b=a.setItem(o,c(p)).catch(M)}function _(N){return!(n&&n.indexOf(N)===-1&&N!=="_persist"||e&&e.indexOf(N)!==-1)}function M(N){f&&f(N)}var A=function(){for(;m.length!==0;)w();return b||Promise.resolve()};return{update:S,flush:A}}function JB(t){return JSON.stringify(t)}function ZB(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Jv).concat(t.key),r=t.storage;t.debug;var s;return t.deserialize===!1?s=function(a){return a}:typeof t.deserialize=="function"?s=t.deserialize:s=ez,r.getItem(n).then(function(o){if(o)try{var a={},c=s(o);return Object.keys(c).forEach(function(f){a[f]=e.reduceRight(function(d,p){return p.out(d,f,c)},s(c[f]))}),a}catch(f){throw f}else return})}function ez(t){return JSON.parse(t)}function tz(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:Jv).concat(t.key);return e.removeItem(n,nz)}function nz(t){}function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(n,!0).forEach(function(r){rz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t,e){if(t==null)return{};var n=iz(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iz(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}var oz=5e3;function c0(t,e){var n=t.version!==void 0?t.version:WB;t.debug;var r=t.stateReconciler===void 0?QB:t.stateReconciler,s=t.getStoredState||ZB,o=t.timeout!==void 0?t.timeout:oz,a=null,c=!1,f=!0,d=function(m){return m._persist.rehydrated&&a&&!f&&a.update(m),m};return function(p,m){var y=p||{},b=y._persist,S=sz(y,["_persist"]),w=S;if(m.type===C2){var T=!1,_=function(R,W){T||(m.rehydrate(t.key,R,W),T=!0)};if(o&&setTimeout(function(){!T&&_(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},o),f=!1,a||(a=XB(t)),b)return Ms({},e(w,m),{_persist:b});if(typeof m.rehydrate!="function"||typeof m.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return m.register(t.key),s(t).then(function(L){var R=t.migrate||function(W,Z){return Promise.resolve(W)};R(L,n).then(function(W){_(W)},function(W){_(void 0,W)})},function(L){_(void 0,L)}),Ms({},e(w,m),{_persist:{version:n,rehydrated:!1}})}else{if(m.type===_2)return c=!0,m.result(tz(t)),Ms({},e(w,m),{_persist:b});if(m.type===w2)return m.result(a&&a.flush()),Ms({},e(w,m),{_persist:b});if(m.type===T2)f=!0;else if(m.type===Zv){if(c)return Ms({},w,{_persist:Ms({},b,{rehydrated:!0})});if(m.key===t.key){var M=e(w,m),A=m.payload,N=r!==!1&&A!==void 0?r(A,p,M,t):M,O=Ms({},N,{_persist:Ms({},b,{rehydrated:!0})});return d(O)}}}if(!b)return e(p,m);var B=e(w,m);return B===w?p:d(Ms({},B,{_persist:b}))}}function T_(t){return cz(t)||lz(t)||az()}function az(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function lz(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function cz(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function C_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function k1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C_(n,!0).forEach(function(r){uz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C_(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uz(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E2={registry:[],bootstrapped:!1},fz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E2,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case k2:return k1({},e,{registry:[].concat(T_(e.registry),[n.key])});case Zv:var r=e.registry.indexOf(n.key),s=T_(e.registry);return s.splice(r,1),k1({},e,{registry:s,bootstrapped:s.length===0});default:return e}};function dz(t,e,n){var r=Gv(fz,E2,void 0),s=function(f){r.dispatch({type:k2,key:f})},o=function(f,d,p){var m={type:Zv,payload:d,err:p,key:f};t.dispatch(m),r.dispatch(m)},a=k1({},r,{purge:function(){var f=[];return t.dispatch({type:_2,result:function(p){f.push(p)}}),Promise.all(f)},flush:function(){var f=[];return t.dispatch({type:w2,result:function(p){f.push(p)}}),Promise.all(f)},pause:function(){t.dispatch({type:T2})},persist:function(){t.dispatch({type:C2,register:s,rehydrate:o})}});return a.persist(),a}var qc={},Bd={},zd={},__;function hz(){if(__)return zd;__=1,zd.__esModule=!0,zd.default=s;function t(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(c){return typeof c}:t=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(o)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(o){if((typeof self>"u"?"undefined":t(self))!=="object"||!(o in self))return!1;try{var a=self[o],c="redux-persist ".concat(o," test");a.setItem(c,"test"),a.getItem(c),a.removeItem(c)}catch{return!1}return!0}function s(o){var a="".concat(o,"Storage");return r(a)?self[a]:n}return zd}var k_;function pz(){if(k_)return Bd;k_=1,Bd.__esModule=!0,Bd.default=n;var t=e(hz());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var s=(0,t.default)(r);return{getItem:function(a){return new Promise(function(c,f){c(s.getItem(a))})},setItem:function(a,c){return new Promise(function(f,d){f(s.setItem(a,c))})},removeItem:function(a){return new Promise(function(c,f){c(s.removeItem(a))})}}}return Bd}var E_;function mz(){if(E_)return qc;E_=1,qc.__esModule=!0,qc.default=void 0;var t=e(pz());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return qc.default=n,qc}var gz=mz();const yz=Fp(gz);function M2(t,e){return function(){return t.apply(e,arguments)}}const{toString:vz}=Object.prototype,{getPrototypeOf:eb}=Object,{iterator:Qp,toStringTag:O2}=Symbol,Xp=(t=>e=>{const n=vz.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Br=t=>(t=t.toLowerCase(),e=>Xp(e)===t),Jp=t=>e=>typeof e===t,{isArray:Nl}=Array,Sl=Jp("undefined");function Ju(t){return t!==null&&!Sl(t)&&t.constructor!==null&&!Sl(t.constructor)&&jn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const A2=Br("ArrayBuffer");function bz(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&A2(t.buffer),e}const xz=Jp("string"),jn=Jp("function"),N2=Jp("number"),Zu=t=>t!==null&&typeof t=="object",Sz=t=>t===!0||t===!1,hh=t=>{if(Xp(t)!=="object")return!1;const e=eb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(O2 in t)&&!(Qp in t)},wz=t=>{if(!Zu(t)||Ju(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Tz=Br("Date"),Cz=Br("File"),_z=Br("Blob"),kz=Br("FileList"),Ez=t=>Zu(t)&&jn(t.pipe),Mz=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||jn(t.append)&&((e=Xp(t))==="formdata"||e==="object"&&jn(t.toString)&&t.toString()==="[object FormData]"))},Oz=Br("URLSearchParams"),[Az,Nz,Dz,Rz]=["ReadableStream","Request","Response","Headers"].map(Br),jz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ef(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Nl(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Ju(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let c;for(r=0;r<a;r++)c=o[r],e.call(null,t[c],c,t)}}function D2(t,e){if(Ju(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,R2=t=>!Sl(t)&&t!==Ao;function E1(){const{caseless:t,skipUndefined:e}=R2(this)&&this||{},n={},r=(s,o)=>{const a=t&&D2(n,o)||o;hh(n[a])&&hh(s)?n[a]=E1(n[a],s):hh(s)?n[a]=E1({},s):Nl(s)?n[a]=s.slice():(!e||!Sl(s))&&(n[a]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ef(arguments[s],r);return n}const Lz=(t,e,n,{allOwnKeys:r}={})=>(ef(e,(s,o)=>{n&&jn(s)?t[o]=M2(s,n):t[o]=s},{allOwnKeys:r}),t),Pz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bz=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},zz=(t,e,n,r)=>{let s,o,a;const c={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)a=s[o],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=n!==!1&&eb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Vz=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Iz=t=>{if(!t)return null;if(Nl(t))return t;let e=t.length;if(!N2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Uz=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eb(Uint8Array)),Hz=(t,e)=>{const r=(t&&t[Qp]).call(t);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},$z=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Fz=Br("HTMLFormElement"),qz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),M_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Yz=Br("RegExp"),j2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ef(n,(s,o)=>{let a;(a=e(s,o,t))!==!1&&(r[o]=a||s)}),Object.defineProperties(t,r)},Wz=t=>{j2(t,(e,n)=>{if(jn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(jn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Gz=(t,e)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Nl(t)?r(t):r(String(t).split(e)),n},Kz=()=>{},Qz=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Xz(t){return!!(t&&jn(t.append)&&t[O2]==="FormData"&&t[Qp])}const Jz=t=>{const e=new Array(10),n=(r,s)=>{if(Zu(r)){if(e.indexOf(r)>=0)return;if(Ju(r))return r;if(!("toJSON"in r)){e[s]=r;const o=Nl(r)?[]:{};return ef(r,(a,c)=>{const f=n(a,s+1);!Sl(f)&&(o[c]=f)}),e[s]=void 0,o}}return r};return n(t,0)},Zz=Br("AsyncFunction"),e4=t=>t&&(Zu(t)||jn(t))&&jn(t.then)&&jn(t.catch),L2=((t,e)=>t?setImmediate:e?((n,r)=>(Ao.addEventListener("message",({source:s,data:o})=>{s===Ao&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ao.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jn(Ao.postMessage)),t4=typeof queueMicrotask<"u"?queueMicrotask.bind(Ao):typeof process<"u"&&process.nextTick||L2,n4=t=>t!=null&&jn(t[Qp]),$={isArray:Nl,isArrayBuffer:A2,isBuffer:Ju,isFormData:Mz,isArrayBufferView:bz,isString:xz,isNumber:N2,isBoolean:Sz,isObject:Zu,isPlainObject:hh,isEmptyObject:wz,isReadableStream:Az,isRequest:Nz,isResponse:Dz,isHeaders:Rz,isUndefined:Sl,isDate:Tz,isFile:Cz,isBlob:_z,isRegExp:Yz,isFunction:jn,isStream:Ez,isURLSearchParams:Oz,isTypedArray:Uz,isFileList:kz,forEach:ef,merge:E1,extend:Lz,trim:jz,stripBOM:Pz,inherits:Bz,toFlatObject:zz,kindOf:Xp,kindOfTest:Br,endsWith:Vz,toArray:Iz,forEachEntry:Hz,matchAll:$z,isHTMLForm:Fz,hasOwnProperty:M_,hasOwnProp:M_,reduceDescriptors:j2,freezeMethods:Wz,toObjectSet:Gz,toCamelCase:qz,noop:Kz,toFiniteNumber:Qz,findKey:D2,global:Ao,isContextDefined:R2,isSpecCompliantForm:Xz,toJSONObject:Jz,isAsyncFn:Zz,isThenable:e4,setImmediate:L2,asap:t4,isIterable:n4};function Te(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}$.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const P2=Te.prototype,B2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{B2[t]={value:t}});Object.defineProperties(Te,B2);Object.defineProperty(P2,"isAxiosError",{value:!0});Te.from=(t,e,n,r,s,o)=>{const a=Object.create(P2);$.toFlatObject(t,a,function(p){return p!==Error.prototype},d=>d!=="isAxiosError");const c=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return Te.call(a,c,f,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",o&&Object.assign(a,o),a};const r4=null;function M1(t){return $.isPlainObject(t)||$.isArray(t)}function z2(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function O_(t,e,n){return t?t.concat(e).map(function(s,o){return s=z2(s),!n&&o?"["+s+"]":s}).join(n?".":""):e}function s4(t){return $.isArray(t)&&!t.some(M1)}const i4=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function Zp(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,T){return!$.isUndefined(T[w])});const r=n.metaTokens,s=n.visitor||p,o=n.dots,a=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(s))throw new TypeError("visitor must be a function");function d(S){if(S===null)return"";if($.isDate(S))return S.toISOString();if($.isBoolean(S))return S.toString();if(!f&&$.isBlob(S))throw new Te("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(S)||$.isTypedArray(S)?f&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,w,T){let _=S;if(S&&!T&&typeof S=="object"){if($.endsWith(w,"{}"))w=r?w:w.slice(0,-2),S=JSON.stringify(S);else if($.isArray(S)&&s4(S)||($.isFileList(S)||$.endsWith(w,"[]"))&&(_=$.toArray(S)))return w=z2(w),_.forEach(function(A,N){!($.isUndefined(A)||A===null)&&e.append(a===!0?O_([w],N,o):a===null?w:w+"[]",d(A))}),!1}return M1(S)?!0:(e.append(O_(T,w,o),d(S)),!1)}const m=[],y=Object.assign(i4,{defaultVisitor:p,convertValue:d,isVisitable:M1});function b(S,w){if(!$.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+w.join("."));m.push(S),$.forEach(S,function(_,M){(!($.isUndefined(_)||_===null)&&s.call(e,_,$.isString(M)?M.trim():M,w,y))===!0&&b(_,w?w.concat(M):[M])}),m.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return b(t),e}function A_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function tb(t,e){this._pairs=[],t&&Zp(t,this,e)}const V2=tb.prototype;V2.append=function(e,n){this._pairs.push([e,n])};V2.toString=function(e){const n=e?function(r){return e.call(this,r,A_)}:A_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function o4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function I2(t,e,n){if(!e)return t;const r=n&&n.encode||o4;$.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(e,n):o=$.isURLSearchParams(e)?e.toString():new tb(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class N_{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const U2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a4=typeof URLSearchParams<"u"?URLSearchParams:tb,l4=typeof FormData<"u"?FormData:null,c4=typeof Blob<"u"?Blob:null,u4={isBrowser:!0,classes:{URLSearchParams:a4,FormData:l4,Blob:c4},protocols:["http","https","file","blob","url","data"]},nb=typeof window<"u"&&typeof document<"u",O1=typeof navigator=="object"&&navigator||void 0,f4=nb&&(!O1||["ReactNative","NativeScript","NS"].indexOf(O1.product)<0),d4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",h4=nb&&window.location.href||"http://localhost",p4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nb,hasStandardBrowserEnv:f4,hasStandardBrowserWebWorkerEnv:d4,navigator:O1,origin:h4},Symbol.toStringTag,{value:"Module"})),fn={...p4,...u4};function m4(t,e){return Zp(t,new fn.classes.URLSearchParams,{visitor:function(n,r,s,o){return fn.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function g4(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function y4(t){const e={},n=Object.keys(t);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],e[o]=t[o];return e}function H2(t){function e(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),f=o>=n.length;return a=!a&&$.isArray(s)?s.length:a,f?($.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!$.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],o)&&$.isArray(s[a])&&(s[a]=y4(s[a])),!c)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,s)=>{e(g4(r),s,n,0)}),n}return null}function v4(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const tf={transitional:U2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=$.isObject(e);if(o&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return s?JSON.stringify(H2(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return m4(e,this.formSerializer).toString();if((c=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Zp(c?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),v4(e)):e}],transformResponse:[function(e){const n=this.transitional||tf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?Te.from(c,Te.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{tf.headers[t]={}});const b4=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),x4=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&b4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},D_=Symbol("internals");function Yc(t){return t&&String(t).trim().toLowerCase()}function ph(t){return t===!1||t==null?t:$.isArray(t)?t.map(ph):String(t)}function S4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const w4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function u0(t,e,n,r,s){if($.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function T4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function C4(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,o,a){return this[r].call(this,e,s,o,a)},configurable:!0})})}let Ln=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function o(c,f,d){const p=Yc(f);if(!p)throw new Error("header name must be a non-empty string");const m=$.findKey(s,p);(!m||s[m]===void 0||d===!0||d===void 0&&s[m]!==!1)&&(s[m||f]=ph(c))}const a=(c,f)=>$.forEach(c,(d,p)=>o(d,p,f));if($.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if($.isString(e)&&(e=e.trim())&&!w4(e))a(x4(e),n);else if($.isObject(e)&&$.isIterable(e)){let c={},f,d;for(const p of e){if(!$.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[d=p[0]]=(f=c[d])?$.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}a(c,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Yc(e),e){const r=$.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return S4(s);if($.isFunction(n))return n.call(this,s,r);if($.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yc(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||u0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function o(a){if(a=Yc(a),a){const c=$.findKey(r,a);c&&(!n||u0(r,r[c],c,n))&&(delete r[c],s=!0)}}return $.isArray(e)?e.forEach(o):o(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!e||u0(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const n=this,r={};return $.forEach(this,(s,o)=>{const a=$.findKey(r,o);if(a){n[a]=ph(s),delete n[o];return}const c=e?T4(o):String(o).trim();c!==o&&delete n[o],n[c]=ph(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[D_]=this[D_]={accessors:{}}).accessors,s=this.prototype;function o(a){const c=Yc(a);r[c]||(C4(s,a),r[c]=!0)}return $.isArray(e)?e.forEach(o):o(e),this}};Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Ln.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});$.freezeMethods(Ln);function f0(t,e){const n=this||tf,r=e||n,s=Ln.from(r.headers);let o=r.data;return $.forEach(t,function(c){o=c.call(n,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function $2(t){return!!(t&&t.__CANCEL__)}function Dl(t,e,n){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(Dl,Te,{__CANCEL__:!0});function F2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function _4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function k4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,o=0,a;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),p=r[o];a||(a=d),n[s]=f,r[s]=d;let m=o,y=0;for(;m!==s;)y+=n[m++],m=m%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),d-a<e)return;const b=p&&d-p;return b?Math.round(y*1e3/b):void 0}}function E4(t,e){let n=0,r=1e3/e,s,o;const a=(d,p=Date.now())=>{n=p,s=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const p=Date.now(),m=p-n;m>=r?a(d,p):(s=d,o||(o=setTimeout(()=>{o=null,a(s)},r-m)))},()=>s&&a(s)]}const zh=(t,e,n=3)=>{let r=0;const s=k4(50,250);return E4(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,f=a-r,d=s(f),p=a<=c;r=a;const m={loaded:a,total:c,progress:c?a/c:void 0,bytes:f,rate:d||void 0,estimated:d&&c&&p?(c-a)/d:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},n)},R_=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},j_=t=>(...e)=>$.asap(()=>t(...e)),M4=fn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,fn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(fn.origin),fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent)):()=>!0,O4=fn.hasStandardBrowserEnv?{write(t,e,n,r,s,o){const a=[t+"="+encodeURIComponent(e)];$.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),$.isString(r)&&a.push("path="+r),$.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function A4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function N4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function q2(t,e,n){let r=!A4(e);return t&&(r||n==!1)?N4(t,e):e}const L_=t=>t instanceof Ln?{...t}:t;function Qo(t,e){e=e||{};const n={};function r(d,p,m,y){return $.isPlainObject(d)&&$.isPlainObject(p)?$.merge.call({caseless:y},d,p):$.isPlainObject(p)?$.merge({},p):$.isArray(p)?p.slice():p}function s(d,p,m,y){if($.isUndefined(p)){if(!$.isUndefined(d))return r(void 0,d,m,y)}else return r(d,p,m,y)}function o(d,p){if(!$.isUndefined(p))return r(void 0,p)}function a(d,p){if($.isUndefined(p)){if(!$.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function c(d,p,m){if(m in e)return r(d,p);if(m in t)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(d,p,m)=>s(L_(d),L_(p),m,!0)};return $.forEach(Object.keys({...t,...e}),function(p){const m=f[p]||s,y=m(t[p],e[p],p);$.isUndefined(y)&&m!==c||(n[p]=y)}),n}const Y2=t=>{const e=Qo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:c}=e;if(e.headers=a=Ln.from(a),e.url=I2(q2(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),$.isFormData(n)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if($.isFunction(n.getHeaders)){const f=n.getHeaders(),d=["content-type","content-length"];Object.entries(f).forEach(([p,m])=>{d.includes(p.toLowerCase())&&a.set(p,m)})}}if(fn.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(e)),r||r!==!1&&M4(e.url))){const f=s&&o&&O4.read(o);f&&a.set(s,f)}return e},D4=typeof XMLHttpRequest<"u",R4=D4&&function(t){return new Promise(function(n,r){const s=Y2(t);let o=s.data;const a=Ln.from(s.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:d}=s,p,m,y,b,S;function w(){b&&b(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let T=new XMLHttpRequest;T.open(s.method.toUpperCase(),s.url,!0),T.timeout=s.timeout;function _(){if(!T)return;const A=Ln.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),O={data:!c||c==="text"||c==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:A,config:t,request:T};F2(function(L){n(L),w()},function(L){r(L),w()},O),T=null}"onloadend"in T?T.onloadend=_:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(_)},T.onabort=function(){T&&(r(new Te("Request aborted",Te.ECONNABORTED,t,T)),T=null)},T.onerror=function(N){const O=N&&N.message?N.message:"Network Error",B=new Te(O,Te.ERR_NETWORK,t,T);B.event=N||null,r(B),T=null},T.ontimeout=function(){let N=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||U2;s.timeoutErrorMessage&&(N=s.timeoutErrorMessage),r(new Te(N,O.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,T)),T=null},o===void 0&&a.setContentType(null),"setRequestHeader"in T&&$.forEach(a.toJSON(),function(N,O){T.setRequestHeader(O,N)}),$.isUndefined(s.withCredentials)||(T.withCredentials=!!s.withCredentials),c&&c!=="json"&&(T.responseType=s.responseType),d&&([y,S]=zh(d,!0),T.addEventListener("progress",y)),f&&T.upload&&([m,b]=zh(f),T.upload.addEventListener("progress",m),T.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(p=A=>{T&&(r(!A||A.type?new Dl(null,t,T):A),T.abort(),T=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const M=_4(s.url);if(M&&fn.protocols.indexOf(M)===-1){r(new Te("Unsupported protocol "+M+":",Te.ERR_BAD_REQUEST,t));return}T.send(o||null)})},j4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const o=function(d){if(!s){s=!0,c();const p=d instanceof Error?d:this.reason;r.abort(p instanceof Te?p:new Dl(p instanceof Error?p.message:p))}};let a=e&&setTimeout(()=>{a=null,o(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>$.asap(c),f}},L4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},P4=async function*(t,e){for await(const n of B4(t))yield*L4(n,e)},B4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},P_=(t,e,n,r)=>{const s=P4(t,e);let o=0,a,c=f=>{a||(a=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:p}=await s.next();if(d){c(),f.close();return}let m=p.byteLength;if(n){let y=o+=m;n(y)}f.enqueue(new Uint8Array(p))}catch(d){throw c(d),d}},cancel(f){return c(f),s.return()}},{highWaterMark:2})},B_=64*1024,{isFunction:Vd}=$,z4=(({Request:t,Response:e})=>({Request:t,Response:e}))($.global),{ReadableStream:z_,TextEncoder:V_}=$.global,I_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},V4=t=>{t=$.merge.call({skipUndefined:!0},z4,t);const{fetch:e,Request:n,Response:r}=t,s=e?Vd(e):typeof fetch=="function",o=Vd(n),a=Vd(r);if(!s)return!1;const c=s&&Vd(z_),f=s&&(typeof V_=="function"?(S=>w=>S.encode(w))(new V_):async S=>new Uint8Array(await new n(S).arrayBuffer())),d=o&&c&&I_(()=>{let S=!1;const w=new n(fn.origin,{body:new z_,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!w}),p=a&&c&&I_(()=>$.isReadableStream(new r("").body)),m={stream:p&&(S=>S.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(w,T)=>{let _=w&&w[S];if(_)return _.call(w);throw new Te(`Response type '${S}' is not supported`,Te.ERR_NOT_SUPPORT,T)})});const y=async S=>{if(S==null)return 0;if($.isBlob(S))return S.size;if($.isSpecCompliantForm(S))return(await new n(fn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if($.isArrayBufferView(S)||$.isArrayBuffer(S))return S.byteLength;if($.isURLSearchParams(S)&&(S=S+""),$.isString(S))return(await f(S)).byteLength},b=async(S,w)=>{const T=$.toFiniteNumber(S.getContentLength());return T??y(w)};return async S=>{let{url:w,method:T,data:_,signal:M,cancelToken:A,timeout:N,onDownloadProgress:O,onUploadProgress:B,responseType:L,headers:R,withCredentials:W="same-origin",fetchOptions:Z}=Y2(S),oe=e||fetch;L=L?(L+"").toLowerCase():"text";let ce=j4([M,A&&A.toAbortSignal()],N),Pe=null;const Ce=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let xe;try{if(B&&d&&T!=="get"&&T!=="head"&&(xe=await b(R,_))!==0){let K=new n(w,{method:"POST",body:_,duplex:"half"}),se;if($.isFormData(_)&&(se=K.headers.get("content-type"))&&R.setContentType(se),K.body){const[ne,fe]=R_(xe,zh(j_(B)));_=P_(K.body,B_,ne,fe)}}$.isString(W)||(W=W?"include":"omit");const F=o&&"credentials"in n.prototype,q={...Z,signal:ce,method:T.toUpperCase(),headers:R.normalize().toJSON(),body:_,duplex:"half",credentials:F?W:void 0};Pe=o&&new n(w,q);let re=await(o?oe(Pe,Z):oe(w,q));const Ne=p&&(L==="stream"||L==="response");if(p&&(O||Ne&&Ce)){const K={};["status","statusText","headers"].forEach(Be=>{K[Be]=re[Be]});const se=$.toFiniteNumber(re.headers.get("content-length")),[ne,fe]=O&&R_(se,zh(j_(O),!0))||[];re=new r(P_(re.body,B_,ne,()=>{fe&&fe(),Ce&&Ce()}),K)}L=L||"text";let j=await m[$.findKey(m,L)||"text"](re,S);return!Ne&&Ce&&Ce(),await new Promise((K,se)=>{F2(K,se,{data:j,headers:Ln.from(re.headers),status:re.status,statusText:re.statusText,config:S,request:Pe})})}catch(F){throw Ce&&Ce(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,S,Pe),{cause:F.cause||F}):Te.from(F,F&&F.code,S,Pe)}}},I4=new Map,W2=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:s}=e,o=[r,s,n];let a=o.length,c=a,f,d,p=I4;for(;c--;)f=o[c],d=p.get(f),d===void 0&&p.set(f,d=c?new Map:V4(e)),p=d;return d};W2();const A1={http:r4,xhr:R4,fetch:{get:W2}};$.forEach(A1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const U_=t=>`- ${t}`,U4=t=>$.isFunction(t)||t===null||t===!1,G2={getAdapter:(t,e)=>{t=$.isArray(t)?t:[t];const{length:n}=t;let r,s;const o={};for(let a=0;a<n;a++){r=t[a];let c;if(s=r,!U4(r)&&(s=A1[(c=String(r)).toLowerCase()],s===void 0))throw new Te(`Unknown adapter '${c}'`);if(s&&($.isFunction(s)||(s=s.get(e))))break;o[c||"#"+a]=s}if(!s){const a=Object.entries(o).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(U_).join(`
`):" "+U_(a[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:A1};function d0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Dl(null,t)}function H_(t){return d0(t),t.headers=Ln.from(t.headers),t.data=f0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),G2.getAdapter(t.adapter||tf.adapter,t)(t).then(function(r){return d0(t),r.data=f0.call(t,t.transformResponse,r),r.headers=Ln.from(r.headers),r},function(r){return $2(r)||(d0(t),r&&r.response&&(r.response.data=f0.call(t,t.transformResponse,r.response),r.response.headers=Ln.from(r.response.headers))),Promise.reject(r)})}const K2="1.12.2",em={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{em[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const $_={};em.transitional=function(e,n,r){function s(o,a){return"[Axios v"+K2+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(e===!1)throw new Te(s(a," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!$_[a]&&($_[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,c):!0}};em.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function H4(t,e,n){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const o=r[s],a=e[o];if(a){const c=t[o],f=c===void 0||a(c,o,t);if(f!==!0)throw new Te("option "+o+" must be "+f,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}const mh={assertOptions:H4,validators:em},Xr=mh.validators;let Vo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new N_,response:new N_}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Qo(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&mh.assertOptions(r,{silentJSONParsing:Xr.transitional(Xr.boolean),forcedJSONParsing:Xr.transitional(Xr.boolean),clarifyTimeoutError:Xr.transitional(Xr.boolean)},!1),s!=null&&($.isFunction(s)?n.paramsSerializer={serialize:s}:mh.assertOptions(s,{encode:Xr.function,serialize:Xr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),mh.assertOptions(n,{baseUrl:Xr.spelling("baseURL"),withXsrfToken:Xr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&$.merge(o.common,o[n.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=Ln.concat(a,o);const c=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(f=f&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let p,m=0,y;if(!f){const S=[H_.bind(this),void 0];for(S.unshift(...c),S.push(...d),y=S.length,p=Promise.resolve(n);m<y;)p=p.then(S[m++],S[m++]);return p}y=c.length;let b=n;for(;m<y;){const S=c[m++],w=c[m++];try{b=S(b)}catch(T){w.call(this,T);break}}try{p=H_.call(this,b)}catch(S){return Promise.reject(S)}for(m=0,y=d.length;m<y;)p=p.then(d[m++],d[m++]);return p}getUri(e){e=Qo(this.defaults,e);const n=q2(e.baseURL,e.url,e.allowAbsoluteUrls);return I2(n,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){Vo.prototype[e]=function(n,r){return this.request(Qo(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,c){return this.request(Qo(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Vo.prototype[e]=n(),Vo.prototype[e+"Form"]=n(!0)});let $4=class Q2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,c){r.reason||(r.reason=new Dl(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Q2(function(s){e=s}),cancel:e}}};function F4(t){return function(n){return t.apply(null,n)}}function q4(t){return $.isObject(t)&&t.isAxiosError===!0}const N1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(N1).forEach(([t,e])=>{N1[e]=t});function X2(t){const e=new Vo(t),n=M2(Vo.prototype.request,e);return $.extend(n,Vo.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return X2(Qo(t,s))},n}const Tt=X2(tf);Tt.Axios=Vo;Tt.CanceledError=Dl;Tt.CancelToken=$4;Tt.isCancel=$2;Tt.VERSION=K2;Tt.toFormData=Zp;Tt.AxiosError=Te;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=F4;Tt.isAxiosError=q4;Tt.mergeConfig=Qo;Tt.AxiosHeaders=Ln;Tt.formToJSON=t=>H2($.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=G2.getAdapter;Tt.HttpStatusCode=N1;Tt.default=Tt;const{Axios:ole,AxiosError:J2,CanceledError:ale,isCancel:lle,CancelToken:cle,VERSION:ule,all:fle,Cancel:dle,isAxiosError:hle,spread:ple,toFormData:mle,AxiosHeaders:gle,HttpStatusCode:yle,formToJSON:vle,getAdapter:ble,mergeConfig:xle}=Tt,Y4="https://seashell-app-8zxmg.ondigitalocean.app/api",qe=Tt.create({baseURL:Y4,withCredentials:!0,headers:{"Content-Type":"application/json"}}),W4={id:null,user:null,isAuthenticated:!1,hasCompletedOnboarding:!1},Vh=Kp("auth/checkAuth",async(t,{rejectWithValue:e})=>{try{return(await qe.get("/user/check")).data}catch(n){return e(n.response?.data||"Not authenticated")}}),Z2=Xv({name:"auth",initialState:W4,reducers:{loginSuccess:(t,e)=>{t.id=e.payload.id,t.user=e.payload.user,t.isAuthenticated=!0,t.hasCompletedOnboarding=e.payload.hasCompletedOnboarding},logout:t=>{t.id=null,t.user=null,t.isAuthenticated=!1,t.hasCompletedOnboarding=!1},setHasCompletedOnboarding:(t,e)=>{t.hasCompletedOnboarding=e.payload}},extraReducers:t=>{t.addCase(Vh.fulfilled,(e,n)=>{e.id=n.payload.id,e.user=n.payload.user,e.isAuthenticated=n.payload.isAuthenticated,e.hasCompletedOnboarding=n.payload.hasCompletedOnboarding}),t.addCase(Vh.rejected,e=>{e.id=null,e.user=null,e.isAuthenticated=!1,e.hasCompletedOnboarding=!1})}}),{loginSuccess:eO,logout:tO,setHasCompletedOnboarding:G4}=Z2.actions,K4=Z2.reducer;function Q4(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():null}const X4={educationLevel:null,program:null,orientation:null,year:null};async function nO(t){const e={...t,educationLevel:t.educationLevel?.toUpperCase()||null};try{return(await qe.put("/user/preferences",e)).data}catch(n){throw n}}async function rO(){try{const e=(await qe.get("/user/preferences")).data,n=e.userPreference??X4,r={...n,educationLevel:Q4(n.educationLevel)};return{...e,userPreference:r}}catch(t){throw t}}async function J4(){try{return(await qe.get("/onboarding/enums")).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta enums"):new Error("Kunde inte n servern")}}const F_={educationLevel:null,program:null,orientation:null,year:null,subjects:null,gradedSubjects:null,meritValue:null,meritValueBasedOnGoal:null,loading:!1,error:null},h0=Kp("preferences/saveUserPreferences",async(t,{rejectWithValue:e})=>{try{return await nO(t)}catch(n){return e(n.message)}}),gh=Kp("preferences/fetchUserPreferences",async(t,{rejectWithValue:e})=>{try{return await rO()}catch(n){return e(n.message)}}),sO=Xv({name:"userPreferences",initialState:F_,reducers:{setPreferences:(t,e)=>{Object.assign(t,e.payload)},resetPreferences:()=>F_},extraReducers:t=>{t.addCase(h0.pending,e=>{e.loading=!0,e.error=null}).addCase(h0.fulfilled,(e,n)=>{Object.assign(e,n.payload),e.loading=!1}).addCase(h0.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}),t.addCase(gh.pending,e=>{e.loading=!0,e.error=null}).addCase(gh.fulfilled,(e,n)=>{const r={...n.payload.userPreference,educationLevel:n.payload.userPreference?.educationLevel??null};Object.assign(e,r),e.loading=!1}).addCase(gh.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{setPreferences:Rl,resetPreferences:Z4}=sO.actions,e5=sO.reducer;async function t5(){try{return(await qe.get("/user/me")).data}catch(t){throw{message:t.response?.data?.message||"Kunde inte hmta anvndarprofil",status:t.response?.status}}}const n5={profile:null,loading:!1,error:null},au=Kp("profile/fetchUserProfile",async(t,{rejectWithValue:e})=>{try{return await t5()}catch(n){return e(n.message)}}),iO=Xv({name:"profile",initialState:n5,reducers:{clearProfile:t=>{t.profile=null,t.loading=!1,t.error=null}},extraReducers:t=>{t.addCase(au.pending,e=>{e.loading=!0,e.error=null}).addCase(au.fulfilled,(e,n)=>{e.profile=n.payload,e.loading=!1}).addCase(au.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{clearProfile:Sle}=iO.actions,r5=iO.reducer,p0=t=>({key:t,storage:yz}),s5={auth:c0(p0("auth"),K4),profile:c0(p0("profile"),r5),preferences:c0(p0("preferences"),e5)},rb=EB({reducer:s5,middleware:t=>t({serializableCheck:!1})}),i5=dz(rb),o5="_footer_wrt8t_1",a5="_footerLinks_wrt8t_25",q_={footer:o5,footerLinks:a5};function l5(){return x.jsxs("footer",{className:q_.footer,children:[x.jsx("p",{children:" 2025 Stegvis. Alla rttigheter frbehllna."}),x.jsxs("div",{className:q_.footerLinks,children:[x.jsx("a",{href:"/about",children:"Om oss"}),x.jsx("a",{href:"/contact",children:"Kontakt"}),x.jsx("a",{href:"/privacy",children:"Integritetspolicy"})]})]})}const c5="_header_o8cth_1",u5="_logoWrapper_o8cth_79",f5="_text_o8cth_105",d5="_rightHamburgerWrapper_o8cth_121",h5="_routeTitle_o8cth_139",Wc={header:c5,logoWrapper:u5,text:f5,rightHamburgerWrapper:d5,routeTitle:h5};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Y_="popstate";function p5(t={}){function e(r,s){let{pathname:o,search:a,hash:c}=r.location;return D1("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mu(s)}return g5(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m5(){return Math.random().toString(36).substring(2,10)}function W_(t,e){return{usr:t.state,key:t.key,idx:e}}function D1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:n,key:e&&e.key||r||m5()}}function Mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function g5(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,c="POP",f=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function m(){c="POP";let T=p(),_=T==null?null:T-d;d=T,f&&f({action:c,location:w.location,delta:_})}function y(T,_){c="PUSH";let M=D1(w.location,T,_);d=p()+1;let A=W_(M,d),N=w.createHref(M);try{a.pushState(A,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}o&&f&&f({action:c,location:w.location,delta:1})}function b(T,_){c="REPLACE";let M=D1(w.location,T,_);d=p();let A=W_(M,d),N=w.createHref(M);a.replaceState(A,"",N),o&&f&&f({action:c,location:w.location,delta:0})}function S(T){return y5(T)}let w={get action(){return c},get location(){return t(s,a)},listen(T){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Y_,m),f=T,()=>{s.removeEventListener(Y_,m),f=null}},createHref(T){return e(s,T)},createURL:S,encodeLocation(T){let _=S(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:b,go(T){return a.go(T)}};return w}function y5(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Mu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function oO(t,e,n="/"){return v5(t,e,n,!1)}function v5(t,e,n,r){let s=typeof e=="string"?jl(e):e,o=Ks(s.pathname||"/",n);if(o==null)return null;let a=aO(t);b5(a);let c=null;for(let f=0;c==null&&f<a.length;++f){let d=A5(o);c=M5(a[f],d,r)}return c}function aO(t,e=[],n=[],r=""){let s=(o,a,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};f.relativePath.startsWith("/")&&(ut(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=$s([r,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(ut(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),aO(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:k5(d,o.index),routesMeta:p})};return t.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let c of lO(o.path))s(o,a,c)}),e}function lO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=lO(r.join("/")),c=[];return c.push(...a.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...a),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function b5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:E5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var x5=/^:[\w-]+$/,S5=3,w5=2,T5=1,C5=10,_5=-2,G_=t=>t==="*";function k5(t,e){let n=t.split("/"),r=n.length;return n.some(G_)&&(r+=_5),e&&(r+=w5),n.filter(s=>!G_(s)).reduce((s,o)=>s+(x5.test(o)?S5:o===""?T5:C5),r)}function E5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function M5(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",a=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",m=Ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),y=f.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Ih({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),a.push({params:s,pathname:$s([o,m.pathname]),pathnameBase:j5($s([o,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(o=$s([o,m.pathnameBase]))}return a}function Ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=O5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:m},y)=>{if(p==="*"){let S=c[y]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:t}}function O5(t,e=!1,n=!0){Rr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function A5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function N5(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?jl(t):t;return{pathname:n?n.startsWith("/")?n:D5(n,e):e,search:L5(r),hash:P5(s)}}function D5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function m0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sb(t){let e=R5(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ib(t,e,n,r=!1){let s;typeof t=="string"?s=jl(t):(s={...t},ut(!s.pathname||!s.pathname.includes("?"),m0("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),m0("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),m0("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,c;if(a==null)c=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;s.pathname=y.join("/")}c=m>=0?e[m]:"/"}let f=N5(s,c),d=a&&a!=="/"&&a.endsWith("/"),p=(o||a===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var $s=t=>t.join("/").replace(/\/\/+/g,"/"),j5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,P5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var cO=["POST","PUT","PATCH","DELETE"];new Set(cO);var z5=["GET",...cO];new Set(z5);var Ll=E.createContext(null);Ll.displayName="DataRouter";var tm=E.createContext(null);tm.displayName="DataRouterState";E.createContext(!1);var uO=E.createContext({isTransitioning:!1});uO.displayName="ViewTransition";var V5=E.createContext(new Map);V5.displayName="Fetchers";var I5=E.createContext(null);I5.displayName="Await";var zr=E.createContext(null);zr.displayName="Navigation";var nf=E.createContext(null);nf.displayName="Location";var Vr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var ob=E.createContext(null);ob.displayName="RouteError";function U5(t,{relative:e}={}){ut(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(zr),{hash:s,pathname:o,search:a}=rf(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:$s([n,o])),r.createHref({pathname:c,search:a,hash:s})}function Pl(){return E.useContext(nf)!=null}function Ir(){return ut(Pl(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(nf).location}var fO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function dO(t){E.useContext(zr).static||E.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=E.useContext(Vr);return t?t6():H5()}function H5(){ut(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Ll),{basename:e,navigator:n}=E.useContext(zr),{matches:r}=E.useContext(Vr),{pathname:s}=Ir(),o=JSON.stringify(sb(r)),a=E.useRef(!1);return dO(()=>{a.current=!0}),E.useCallback((f,d={})=>{if(Rr(a.current,fO),!a.current)return;if(typeof f=="number"){n.go(f);return}let p=ib(f,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:$s([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,o,s,t])}E.createContext(null);function $5(){let{matches:t}=E.useContext(Vr),e=t[t.length-1];return e?e.params:{}}function rf(t,{relative:e}={}){let{matches:n}=E.useContext(Vr),{pathname:r}=Ir(),s=JSON.stringify(sb(n));return E.useMemo(()=>ib(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function F5(t,e){return hO(t,e)}function hO(t,e,n,r){ut(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(zr),{matches:o}=E.useContext(Vr),a=o[o.length-1],c=a?a.params:{},f=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let _=p&&p.path||"";pO(f,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=Ir(),y;if(e){let _=typeof e=="string"?jl(e):e;ut(d==="/"||_.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${_.pathname}" was given in the \`location\` prop.`),y=_}else y=m;let b=y.pathname||"/",S=b;if(d!=="/"){let _=d.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=oO(t,{pathname:S});Rr(p||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Rr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=K5(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:$s([d,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:$s([d,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&T?E.createElement(nf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function q5(){let t=e6(),e=B5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:s},n):null,a)}var Y5=E.createElement(q5,null),W5=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Vr.Provider,{value:this.props.routeContext},E.createElement(ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G5({routeContext:t,match:e,children:n}){let r=E.useContext(Ll);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Vr.Provider,{value:t},n)}function K5(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n?.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);ut(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let a=!1,c=-1;if(n)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:p,errors:m}=n,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){a=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,d,p)=>{let m,y=!1,b=null,S=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||Y5,a&&(c<0&&p===0?(pO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):c===p&&(y=!0,S=d.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,p+1)),T=()=>{let _;return m?_=b:y?_=S:d.route.Component?_=E.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=f,E.createElement(G5,{match:d,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?E.createElement(W5,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}function ab(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q5(t){let e=E.useContext(Ll);return ut(e,ab(t)),e}function X5(t){let e=E.useContext(tm);return ut(e,ab(t)),e}function J5(t){let e=E.useContext(Vr);return ut(e,ab(t)),e}function lb(t){let e=J5(t),n=e.matches[e.matches.length-1];return ut(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Z5(){return lb("useRouteId")}function e6(){let t=E.useContext(ob),e=X5("useRouteError"),n=lb("useRouteError");return t!==void 0?t:e.errors?.[n]}function t6(){let{router:t}=Q5("useNavigate"),e=lb("useNavigate"),n=E.useRef(!1);return dO(()=>{n.current=!0}),E.useCallback(async(s,o={})=>{Rr(n.current,fO),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var K_={};function pO(t,e,n){!e&&!K_[t]&&(K_[t]=!0,Rr(!1,n))}E.memo(n6);function n6({routes:t,future:e,state:n}){return hO(t,void 0,n,e)}function yh({to:t,replace:e,state:n,relative:r}){ut(Pl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(zr);Rr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Vr),{pathname:a}=Ir(),c=Ur(),f=ib(t,sb(o),a,r==="path"),d=JSON.stringify(f);return E.useEffect(()=>{c(JSON.parse(d),{replace:e,state:n,relative:r})},[c,d,r,e,n]),null}function cn(t){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){ut(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:a,navigator:s,static:o,future:{}}),[a,s,o]);typeof n=="string"&&(n=jl(n));let{pathname:f="/",search:d="",hash:p="",state:m=null,key:y="default"}=n,b=E.useMemo(()=>{let S=Ks(f,a);return S==null?null:{location:{pathname:S,search:d,hash:p,state:m,key:y},navigationType:r}},[a,f,d,p,m,y,r]);return Rr(b!=null,`<Router basename="${a}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(zr.Provider,{value:c},E.createElement(nf.Provider,{children:e,value:b}))}function s6({children:t,location:e}){return F5(R1(t),e)}function R1(t,e=[]){let n=[];return E.Children.forEach(t,(r,s)=>{if(!E.isValidElement(r))return;let o=[...e,s];if(r.type===E.Fragment){n.push.apply(n,R1(r.props.children,o));return}ut(r.type===cn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=R1(r.props.children,o)),n.push(a)}),n}var vh="get",bh="application/x-www-form-urlencoded";function nm(t){return t!=null&&typeof t.tagName=="string"}function i6(t){return nm(t)&&t.tagName.toLowerCase()==="button"}function o6(t){return nm(t)&&t.tagName.toLowerCase()==="form"}function a6(t){return nm(t)&&t.tagName.toLowerCase()==="input"}function l6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function c6(t,e){return t.button===0&&(!e||e==="_self")&&!l6(t)}var Id=null;function u6(){if(Id===null)try{new FormData(document.createElement("form"),0),Id=!1}catch{Id=!0}return Id}var f6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function g0(t){return t!=null&&!f6.has(t)?(Rr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):t}function d6(t,e){let n,r,s,o,a;if(o6(t)){let c=t.getAttribute("action");r=c?Ks(c,e):null,n=t.getAttribute("method")||vh,s=g0(t.getAttribute("enctype"))||bh,o=new FormData(t)}else if(i6(t)||a6(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ks(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||vh,s=g0(t.getAttribute("formenctype"))||g0(c.getAttribute("enctype"))||bh,o=new FormData(c,t),!u6()){let{name:d,type:p,value:m}=t;if(p==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,m)}}else{if(nm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vh,r=null,s=bh,a=t}return o&&s==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function h6(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ks(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function p6(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function g6(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let a=await p6(o,n);return a.links?a.links():[]}return[]}));return x6(r.flat(1).filter(m6).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Q_(t,e,n,r,s,o){let a=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>n[d].pathname!==f.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,d)=>a(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(a(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let m=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function y6(t,e,{includeHydrateFallback:n}={}){return v6(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function v6(t){return[...new Set(t)]}function b6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function x6(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(b6(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function mO(){let t=E.useContext(Ll);return cb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function S6(){let t=E.useContext(tm);return cb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ub=E.createContext(void 0);ub.displayName="FrameworkContext";function gO(){let t=E.useContext(ub);return cb(t,"You must render this element inside a <HydratedRouter> element"),t}function w6(t,e){let n=E.useContext(ub),[r,s]=E.useState(!1),[o,a]=E.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:m}=e,y=E.useRef(null);E.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let w=_=>{_.forEach(M=>{a(M.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),E.useEffect(()=>{if(r){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{s(!0)},S=()=>{s(!1),a(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:Gc(c,b),onBlur:Gc(f,S),onMouseEnter:Gc(d,b),onMouseLeave:Gc(p,S),onTouchStart:Gc(m,b)}]:[!1,y,{}]}function Gc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function T6({page:t,...e}){let{router:n}=mO(),r=E.useMemo(()=>oO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(_6,{page:t,matches:r,...e}):null}function C6(t){let{manifest:e,routeModules:n}=gO(),[r,s]=E.useState([]);return E.useEffect(()=>{let o=!1;return g6(t,e,n).then(a=>{o||s(a)}),()=>{o=!0}},[t,e,n]),r}function _6({page:t,matches:e,...n}){let r=Ir(),{manifest:s,routeModules:o}=gO(),{basename:a}=mO(),{loaderData:c,matches:f}=S6(),d=E.useMemo(()=>Q_(t,e,f,s,r,"data"),[t,e,f,s,r]),p=E.useMemo(()=>Q_(t,e,f,s,r,"assets"),[t,e,f,s,r]),m=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(_=>{let M=s.routes[_.route.id];!M||!M.hasLoader||(!d.some(A=>A.route.id===_.route.id)&&_.route.id in c&&o[_.route.id]?.shouldRevalidate||M.hasClientLoader?w=!0:S.add(_.route.id))}),S.size===0)return[];let T=h6(t,a,"data");return w&&S.size>0&&T.searchParams.set("_routes",e.filter(_=>S.has(_.route.id)).map(_=>_.route.id).join(",")),[T.pathname+T.search]},[a,c,r,s,d,e,t,o]),y=E.useMemo(()=>y6(p,s),[p,s]),b=C6(p);return E.createElement(E.Fragment,null,m.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),y.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),b.map(({key:S,link:w})=>E.createElement("link",{key:S,nonce:n.nonce,...w})))}function k6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yO&&(window.__reactRouterVersion="7.8.0")}catch{}function E6({basename:t,children:e,window:n}){let r=E.useRef();r.current==null&&(r.current=p5({window:n,v5Compat:!0}));let s=r.current,[o,a]=E.useState({action:s.action,location:s.location}),c=E.useCallback(f=>{E.startTransition(()=>a(f))},[a]);return E.useLayoutEffect(()=>s.listen(c),[s,c]),E.createElement(r6,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var vO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rm=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:a,state:c,target:f,to:d,preventScrollReset:p,viewTransition:m,...y},b){let{basename:S}=E.useContext(zr),w=typeof d=="string"&&vO.test(d),T,_=!1;if(typeof d=="string"&&w&&(T=d,yO))try{let W=new URL(window.location.href),Z=d.startsWith("//")?new URL(W.protocol+d):new URL(d),oe=Ks(Z.pathname,S);Z.origin===W.origin&&oe!=null?d=oe+Z.search+Z.hash:_=!0}catch{Rr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=U5(d,{relative:s}),[A,N,O]=w6(r,y),B=N6(d,{replace:a,state:c,target:f,preventScrollReset:p,relative:s,viewTransition:m});function L(W){e&&e(W),W.defaultPrevented||B(W)}let R=E.createElement("a",{...y,...O,href:T||M,onClick:_||o?e:L,ref:k6(b,N),target:f,"data-discover":!w&&n==="render"?"true":void 0});return A&&!w?E.createElement(E.Fragment,null,R,E.createElement(T6,{page:M})):R});rm.displayName="Link";var M6=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:a,viewTransition:c,children:f,...d},p){let m=rf(a,{relative:d.relative}),y=Ir(),b=E.useContext(tm),{navigator:S,basename:w}=E.useContext(zr),T=b!=null&&P6(m)&&c===!0,_=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,M=y.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(M=M.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&w&&(A=Ks(A,w)||A);const N=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=M===_||!s&&M.startsWith(_)&&M.charAt(N)==="/",B=A!=null&&(A===_||!s&&A.startsWith(_)&&A.charAt(_.length)==="/"),L={isActive:O,isPending:B,isTransitioning:T},R=O?e:void 0,W;typeof r=="function"?W=r(L):W=[r,O?"active":null,B?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Z=typeof o=="function"?o(L):o;return E.createElement(rm,{...d,"aria-current":R,className:W,ref:p,style:Z,to:a,viewTransition:c},typeof f=="function"?f(L):f)});M6.displayName="NavLink";var O6=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:a=vh,action:c,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:m,...y},b)=>{let S=j6(),w=L6(c,{relative:d}),T=a.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&vO.test(c),M=A=>{if(f&&f(A),A.defaultPrevented)return;A.preventDefault();let N=A.nativeEvent.submitter,O=N?.getAttribute("formmethod")||a;S(N||A.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:s,state:o,relative:d,preventScrollReset:p,viewTransition:m})};return E.createElement("form",{ref:b,method:T,action:w,onSubmit:r?f:M,...y,"data-discover":!_&&t==="render"?"true":void 0})});O6.displayName="Form";function A6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bO(t){let e=E.useContext(Ll);return ut(e,A6(t)),e}function N6(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:a}={}){let c=Ur(),f=Ir(),d=rf(t,{relative:o});return E.useCallback(p=>{if(c6(p,e)){p.preventDefault();let m=n!==void 0?n:Mu(f)===Mu(d);c(t,{replace:m,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[f,c,d,n,r,e,t,s,o,a])}var D6=0,R6=()=>`__${String(++D6)}__`;function j6(){let{router:t}=bO("useSubmit"),{basename:e}=E.useContext(zr),n=Z5();return E.useCallback(async(r,s={})=>{let{action:o,method:a,encType:c,formData:f,body:d}=d6(r,e);if(s.navigate===!1){let p=s.fetcherKey||R6();await t.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||a,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||a,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function L6(t,{relative:e}={}){let{basename:n}=E.useContext(zr),r=E.useContext(Vr);ut(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...rf(t||".",{relative:e})},a=Ir();if(t==null){o.search=a.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(p=>p==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$s([n,o.pathname])),Mu(o)}function P6(t,{relative:e}={}){let n=E.useContext(uO);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bO("useViewTransitionState"),s=rf(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ks(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ks(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ih(s.pathname,a)!=null||Ih(s.pathname,o)!=null}var B6=c2();const z6=Fp(B6),V6="_statusOverlay_1gw1b_1",I6="_statusModal_1gw1b_29",U6="_loader_1gw1b_71",H6="_checkmark_1gw1b_89",$6="_checkmarkCircle_1gw1b_101",F6="_checkmarkCheck_1gw1b_119",So={statusOverlay:V6,statusModal:I6,loader:U6,checkmark:H6,checkmarkCircle:$6,checkmarkCheck:F6},xO=({active:t,completed:e,loadingText:n="Laddar...",doneText:r="Klart!",icon:s,onComplete:o})=>(E.useEffect(()=>{if(e&&o){const a=setTimeout(()=>{o()},2e3);return()=>clearTimeout(a)}},[e,o]),!t&&!e?null:x.jsx("div",{className:So.statusOverlay,children:x.jsxs("div",{className:`${So.statusModal} ${e?So.completed:""}`,children:[e?x.jsx("div",{className:So.checkmark,children:s||x.jsxs("svg",{viewBox:"0 0 52 52",children:[x.jsx("circle",{className:So.checkmarkCircle,cx:"26",cy:"26",r:"25",fill:"none"}),x.jsx("path",{className:So.checkmarkCheck,fill:"none",d:"M14 27l7 7 16-16"})]})}):x.jsx("div",{className:So.loader}),x.jsx("p",{children:e?r:n})]})}));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),X_=t=>{const e=Y6(t);return e.charAt(0).toUpperCase()+e.slice(1)},SO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),W6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...c},f)=>E.createElement("svg",{ref:f,...G6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:SO("lucide",s),...!o&&!W6(c)&&{"aria-hidden":"true"},...c},[...a.map(([d,p])=>E.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=E.forwardRef(({className:r,...s},o)=>E.createElement(K6,{ref:o,iconNode:e,className:SO(`lucide-${q6(X_(t))}`,`lucide-${t}`,r),...s}));return n.displayName=X_(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M11 9a1 1 0 0 0 1-1V5.061a1 1 0 0 1 1.811-.75l6.836 6.836a1.207 1.207 0 0 1 0 1.707l-6.836 6.835a1 1 0 0 1-1.811-.75V16a1 1 0 0 0-1-1H5a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1z",key:"1232du"}]],X6=ge("arrow-big-right",Q6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Z6=ge("award",J6);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],tV=ge("bold",eV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sm=ge("book-open",nV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],sV=ge("bot",rV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],wO=ge("calendar-1",iV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"m14 18 4 4 4-4",key:"1waygx"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 14v8",key:"irew45"}],["path",{d:"M21 11.354V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.343",key:"bse4f3"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],aV=ge("calendar-arrow-down",oV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m14 18 4-4 4 4",key:"ftkppy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M18 22v-8",key:"su0gjh"}],["path",{d:"M21 11.343V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9",key:"1exg90"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],J_=ge("calendar-arrow-up",lV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uV=ge("calendar",cV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],dV=ge("chart-no-axes-column",fV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],TO=ge("chevron-down",hV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fb=ge("circle-x",pV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]],gV=ge("corner-up-right",mV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],vV=ge("eraser",yV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xV=ge("eye-off",bV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wV=ge("eye",SV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CV=ge("file-text",TV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],kV=ge("folder",_V);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],MV=ge("gem",EV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M12 13V2l8 4-8 4",key:"5wlwwj"}],["path",{d:"M20.561 10.222a9 9 0 1 1-12.55-5.29",key:"1c0wjv"}],["path",{d:"M8.002 9.997a5 5 0 1 0 8.9 2.02",key:"gb1g7m"}]],AV=ge("goal",OV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Uh=ge("graduation-cap",NV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],RV=ge("house",DV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],LV=ge("italic",jV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],BV=ge("layout-dashboard",PV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],VV=ge("layers",zV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],CO=ge("layout-grid",IV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],HV=ge("list-checks",UV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],FV=ge("list-ordered",$V);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]],YV=ge("list-tree",qV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],_O=ge("list",WV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],KV=ge("lock",GV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],XV=ge("log-in",QV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Z_=ge("log-out",JV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],eI=ge("menu",ZV);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"m10 10-6.157 6.162a2 2 0 0 0-.5.833l-1.322 4.36a.5.5 0 0 0 .622.624l4.358-1.323a2 2 0 0 0 .83-.5L14 13.982",key:"bjo8r8"}],["path",{d:"m12.829 7.172 4.359-4.346a1 1 0 1 1 3.986 3.986l-4.353 4.353",key:"16h5ne"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nI=ge("pencil-off",tI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sI=ge("pencil",rI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],oI=ge("play",iI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kO=ge("plus",aI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cI=ge("save",lI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],EO=ge("search",uI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dI=ge("shield",fI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],pI=ge("sliders-horizontal",hI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gI=ge("trash-2",mI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vI=ge("trash",yI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],xI=ge("underline",bI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],wI=ge("user-round-cog",SI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],MO=ge("user-round-pen",TI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],_I=ge("user-round-plus",CI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EI=ge("user",kI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bl=ge("x",MI);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AI=ge("zap",OI);async function NI(t){try{return(await qe.post("/auth/login",t)).data}catch(e){throw{message:e.response?.data?.message||"Inloggning misslyckades",status:e.response?.status}}}async function DI(){try{await qe.post("/auth/logout")}catch(t){throw{message:t.response?.data?.message||"Utloggning misslyckades",status:t.response?.status}}}async function RI(t){try{return(await qe.post("/auth/register",t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Ngot gick fel vid registrering"):new Error("Kunde inte n servern")}}async function jI(t){try{return await DI(),t(tO()),t(Z4()),await i5.purge(),!0}catch(e){return console.error("Logout failed:",e),!1}}function LI(t,e){const[n,r]=E.useState(!1),[s,o]=E.useState(!1);return{loggingOut:n,loggedOut:s,logout:async()=>{r(!0),o(!1);const c=Date.now();if(await jI(t)){const p=Date.now()-c,m=Math.max(2e3-p,0);setTimeout(()=>o(!0),300),setTimeout(()=>{r(!1),e("/logga-in")},m)}else r(!1),alert("Ngot gick fel vid utloggning.")}}}const PI="_container_1u3pv_1",BI="_menuButton_1u3pv_9",zI="_disabledMenuItem_1u3pv_35",VI="_menu_1u3pv_9",II="_open_1u3pv_87",UI="_menuItem_1u3pv_99",HI="_icon_1u3pv_159",Jr={container:PI,menuButton:BI,disabledMenuItem:zI,menu:VI,open:II,menuItem:UI,icon:HI};function $I(){const[t,e]=E.useState(!1),n=Ur(),r=us(),s=E.useRef(null),{loggingOut:o,loggedOut:a,logout:c}=LI(r,n);return E.useEffect(()=>{const f=d=>{s.current&&!s.current.contains(d.target)&&e(!1)};return t?document.addEventListener("mousedown",f):document.removeEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[t]),x.jsxs("div",{className:Jr.container,ref:s,children:[x.jsx("button",{className:Jr.menuButton,onClick:()=>e(!t),children:t?x.jsx(fb,{size:23}):x.jsx(wI,{size:23})}),x.jsxs("nav",{className:`${Jr.menu} ${t?Jr.open:""}`,children:[x.jsxs("button",{onClick:void 0,className:`${Jr.menuItem} ${Jr.disabledMenuItem}`,children:[x.jsx(pI,{className:Jr.icon})," Instllningar"]}),x.jsxs("button",{onClick:c,className:Jr.menuItem,children:[x.jsx(Z_,{className:Jr.icon})," Logga ut"]})]}),x.jsx(xO,{active:o,completed:a,loadingText:"Loggar ut...",doneText:"Vi ses snart igen!",icon:x.jsx(Z_,{size:48,className:Jr.logoutIcon})})]})}function FI(t){const n=decodeURIComponent(t).split("/").filter(Boolean);if(n.length===0)return"Stegvis";switch(n[0]){case"dashboard":return"Dashboard";case"anteckningar":return"Anteckningar";case"studieplaneraren":return"Studieplaneraren";case"instllningar":return"Instllningar";case"mlplaneraren":return"Mlplaneraren";case"deadlines":return"Deadlines";case"min-utbildning":return"Min utbildning";case"abonnemang":return"Abonnemang";case"home":return"Home";case"kom-igang":return"";default:return"Stegvis"}}function qI(){const t=Ir(),e=FI(t.pathname);return x.jsxs("header",{className:Wc.header,children:[x.jsx("div",{className:Wc.logoWrapper,children:x.jsx("div",{className:Wc.text,children:x.jsx("u",{children:"Stegvis"})})}),x.jsx("h2",{className:Wc.routeTitle,children:e}),x.jsx("div",{className:Wc.rightHamburgerWrapper,children:x.jsx($I,{})})]})}function Er({children:t}){const{isAuthenticated:e,hasCompletedOnboarding:n}=Gt(s=>s.auth),r=window.location.pathname;return e?!n&&r!=="/kom-igang"?x.jsx(yh,{to:"/kom-igang",replace:!0}):n&&r==="/kom-igang"?x.jsx(yh,{to:"/hem",replace:!0}):t:x.jsx(yh,{to:"/logga-in",replace:!0})}function Ud({children:t,redirectTo:e="/hem"}){return Gt(r=>r.auth.isAuthenticated)?x.jsx(yh,{to:e,replace:!0}):t}const YI="_loginContainer_vrrdg_13",WI="_googleButton_vrrdg_47",GI="_forgotPassword_vrrdg_107",KI="_errorMessage_vrrdg_177",QI="_bottomText_vrrdg_189",XI="_registerLink_vrrdg_221",JI="_label_vrrdg_251",ZI="_passwordWrapper_vrrdg_271",eU="_togglePassword_vrrdg_325",tU="_loginIcon_vrrdg_353",Wn={loginContainer:YI,googleButton:WI,forgotPassword:GI,errorMessage:KI,bottomText:QI,registerLink:XI,label:JI,passwordWrapper:ZI,togglePassword:eU,loginIcon:tU};var OO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ek=Rn.createContext&&Rn.createContext(OO),nU=["attr","size","title"];function rU(t,e){if(t==null)return{};var n=sU(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}function tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(n),!0).forEach(function(r){iU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iU(t,e,n){return e=oU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oU(t){var e=aU(t,"string");return typeof e=="symbol"?e:e+""}function aU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AO(t){return t&&t.map((e,n)=>Rn.createElement(e.tag,$h({key:n},e.attr),AO(e.child)))}function db(t){return e=>Rn.createElement(lU,Hh({attr:$h({},t.attr)},e),AO(t.child))}function lU(t){var e=n=>{var{attr:r,size:s,title:o}=t,a=rU(t,nU),c=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Rn.createElement("svg",Hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:f,style:$h($h({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Rn.createElement("title",null,o),t.children)};return ek!==void 0?Rn.createElement(ek.Consumer,null,n=>e(n)):e(OO)}function cU(t){return db({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function uU(t){return db({attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"circle",attr:{fill:"#4CAF50",cx:"24",cy:"24",r:"21"},child:[]},{tag:"polygon",attr:{fill:"#CCFF90",points:"34.6,14.6 21,28.2 15.4,22.6 12.6,25.4 21,33.8 37.4,17.4"},child:[]}]})(t)}const NO=()=>{const t=us(),[e,n]=E.useState(""),[r,s]=E.useState(""),[o,a]=E.useState(null),[c,f]=E.useState(!1),d=async m=>{m.preventDefault();const y={email:e,password:r};try{const b=await NI(y);t(eO({id:b.id,user:b.email,hasCompletedOnboarding:b.hasCompletedOnboarding}))}catch(b){a(b.message)}},p=()=>{window.location.href="http://localhost:8080/oauth2/authorization/google"};return x.jsxs("div",{className:Wn.loginContainer,children:[x.jsx(XV,{size:27,className:Wn.loginIcon}),x.jsxs("form",{onSubmit:d,children:[x.jsx("label",{className:Wn.label,children:"E-post"}),x.jsx("div",{className:Wn.passwordWrapper,children:x.jsx("input",{type:"email",placeholder:"username@gmail.com",value:e,onChange:m=>n(m.target.value),required:!0})}),x.jsx("label",{className:Wn.label,children:"Lsenord"}),x.jsxs("div",{className:Wn.passwordWrapper,children:[x.jsx("input",{type:c?"text":"password",placeholder:"Lsenord",value:r,onChange:m=>s(m.target.value),required:!0}),r.length>0&&(c?x.jsx(xV,{size:18,className:Wn.togglePassword,onClick:()=>f(!1),"aria-label":"Dlj lsenord"}):x.jsx(wV,{size:18,className:Wn.togglePassword,onClick:()=>f(!0),"aria-label":"Visa lsenord"}))]}),x.jsx("p",{className:Wn.forgotPassword,children:"Glmt lsenord?"}),x.jsx("div",{className:Wn.errorMessage,children:o}),x.jsx("button",{type:"submit",children:"Logga in"})]}),x.jsxs("button",{className:Wn.googleButton,onClick:p,children:[x.jsx(cU,{size:22,style:{marginRight:"8px"}}),"Logga in med Google"]}),x.jsxs("p",{className:Wn.bottomText,children:["Har du inte ett konto?"," ",x.jsx(rm,{to:"/registrera-dig",className:Wn.registerLink,children:"Registrera dig hr"})]})]})},fU="_registerContainer_1r37u_15",dU="_h1_1r37u_43",hU="_icon_1r37u_57",pU="_nameFields_1r37u_125",mU="_errorMessage_1r37u_201",gU="_bottomText_1r37u_215",yU="_label_1r37u_229",vU="_buttonLink_1r37u_245",cr={registerContainer:fU,h1:dU,icon:hU,nameFields:pU,errorMessage:mU,bottomText:gU,label:yU,buttonLink:vU},bU=()=>{const t=Ur(),[e,n]=E.useState(""),[r,s]=E.useState(""),[o,a]=E.useState(""),[c,f]=E.useState(""),[d,p]=E.useState(""),[m,y]=E.useState(null),b=async S=>{if(S.preventDefault(),c!==d){y("Lsenorden matchar inte.");return}const w={firstname:e,lastname:r,email:o,password:c};try{await RI(w),t("/logga-in")}catch(T){y(T.message)}};return x.jsxs(x.Fragment,{children:[x.jsx("h1",{className:cr.h1,children:"Stegvis"}),x.jsxs("div",{className:cr.registerContainer,children:[x.jsx(_I,{className:cr.icon,size:26}),x.jsxs("form",{onSubmit:b,children:[x.jsxs("div",{className:cr.nameFields,children:[x.jsxs("div",{children:[x.jsx("label",{className:cr.label,htmlFor:"firstname",children:"Frnamn"}),x.jsx("input",{id:"firstname",type:"text",placeholder:"Frnamn",value:e,onChange:S=>n(S.target.value),required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:cr.label,htmlFor:"lastname",children:"Efternamn"}),x.jsx("input",{id:"lastname",type:"text",placeholder:"Efternamn",value:r,onChange:S=>s(S.target.value),required:!0})]})]}),x.jsx("label",{className:cr.label,htmlFor:"email",children:"E-post"}),x.jsx("input",{id:"email",type:"email",placeholder:"E-post",value:o,onChange:S=>a(S.target.value),required:!0}),x.jsx("label",{className:cr.label,htmlFor:"password",children:"Lsenord"}),x.jsx("input",{id:"password",type:"password",placeholder:"Nytt lsenord",value:c,onChange:S=>f(S.target.value),required:!0}),x.jsx("label",{className:cr.label,htmlFor:"repeatPassword",children:"Bekrfta lsenord"}),x.jsx("input",{id:"repeatPassword",type:"password",placeholder:"Bekrfta lsenord",value:d,onChange:S=>p(S.target.value),required:!0}),x.jsx("div",{className:cr.errorMessage,children:m}),x.jsx("button",{type:"submit",children:"G med"})]}),x.jsxs("p",{className:cr.bottomText,children:["Har du redan ett konto? ",x.jsx(rm,{to:"/logga-in",className:cr.buttonLink,children:"Logga in hr"})]})]})]})},xU="_pageContainer_16za7_1",SU="_landingContainer_16za7_21",wU="_leftText_16za7_47",TU="_rightLogin_16za7_59",Hd={pageContainer:xU,landingContainer:SU,leftText:wU,rightLogin:TU};function CU(){return x.jsx("div",{className:Hd.pageContainer,children:x.jsxs("div",{className:Hd.landingContainer,children:[x.jsxs("div",{className:Hd.leftText,children:[x.jsx("h1",{children:"Stegvis"}),x.jsx("p",{children:"Sm steg varje dag leder till stora framgngar"})]}),x.jsx("div",{className:Hd.rightLogin,children:x.jsx(NO,{})})]})})}var zl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_U={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},kU=class{#e=_U;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},No=new kU;function EU(t){setTimeout(t,0)}var Xo=typeof window>"u"||"Deno"in globalThis;function vn(){}function MU(t,e){return typeof t=="function"?t(e):t}function j1(t){return typeof t=="number"&&t>=0&&t!==1/0}function DO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hi(t,e){return typeof t=="function"?t(e):t}function mr(t,e){return typeof t=="function"?t(e):t}function nk(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==hb(a,e.options))return!1}else if(!Ou(e.queryKey,a))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||o&&!o(e))}function rk(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Jo(e.options.mutationKey)!==Jo(o))return!1}else if(!Ou(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function hb(t,e){return(e?.queryKeyHashFn||Jo)(t)}function Jo(t){return JSON.stringify(t,(e,n)=>L1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ou(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ou(t[n],e[n])):!1}var OU=Object.prototype.hasOwnProperty;function RO(t,e){if(t===e)return t;const n=sk(t)&&sk(e);if(!n&&!(L1(t)&&L1(e)))return e;const s=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),a=o.length,c=n?new Array(a):{};let f=0;for(let d=0;d<a;d++){const p=n?d:o[d],m=t[p],y=e[p];if(m===y){c[p]=m,(n?d<s:OU.call(t,p))&&f++;continue}if(m===null||y===null||typeof m!="object"||typeof y!="object"){c[p]=y;continue}const b=RO(m,y);c[p]=b,b===m&&f++}return s===a&&f===s?t:c}function Fh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function sk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function L1(t){if(!ik(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ik(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ik(t){return Object.prototype.toString.call(t)==="[object Object]"}function AU(t){return new Promise(e=>{No.setTimeout(e,t)})}function P1(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?RO(t,e):e}function NU(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function DU(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var pb=Symbol();function jO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===pb?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function LO(t,e){return typeof t=="function"?t(...e):!!t}var RU=class extends zl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Xo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mb=new RU;function B1(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var jU=EU;function LU(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=jU;const o=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},batchCalls:c=>(...f)=>{o(()=>{c(...f)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var zt=LU(),PU=class extends zl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Xo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},qh=new PU;function BU(t){return Math.min(1e3*2**t,3e4)}function PO(t){return(t??"online")==="online"?qh.isOnline():!0}var z1=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function BO(t){let e=!1,n=0,r;const s=B1(),o=()=>s.status!=="pending",a=w=>{if(!o()){const T=new z1(w);y(T),t.onCancel?.(T)}},c=()=>{e=!0},f=()=>{e=!1},d=()=>mb.isFocused()&&(t.networkMode==="always"||qh.isOnline())&&t.canRun(),p=()=>PO(t.networkMode)&&t.canRun(),m=w=>{o()||(r?.(),s.resolve(w))},y=w=>{o()||(r?.(),s.reject(w))},b=()=>new Promise(w=>{r=T=>{(o()||d())&&w(T)},t.onPause?.()}).then(()=>{r=void 0,o()||t.onContinue?.()}),S=()=>{if(o())return;let w;const T=n===0?t.initialPromise:void 0;try{w=T??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(m).catch(_=>{if(o())return;const M=t.retry??(Xo?0:3),A=t.retryDelay??BU,N=typeof A=="function"?A(n,_):A,O=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,_);if(e||!O){y(_);return}n++,t.onFail?.(n,_),AU(N).then(()=>d()?void 0:b()).then(()=>{e?y(_):S()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r?.(),s),cancelRetry:c,continueRetry:f,canStart:p,start:()=>(p()?S():b().then(S),s)}}var zO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),j1(this.gcTime)&&(this.#e=No.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(No.clearTimeout(this.#e),this.#e=void 0)}},zU=class extends zO{#e;#t;#n;#r;#s;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ok(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=ok(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=P1(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(vn).catch(vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>mr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hi(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!DO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const c=jO(this.options,e),d=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#a=!1,this.options.persister?this.options.persister(c,d,this):c(d)},a=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:s};return r(c),c})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#s=BO({initialPromise:e?.initialPromise,fn:a.fetchFn,onCancel:c=>{c instanceof z1&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,f)=>{this.#i({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const c=await this.#s.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof z1){if(c.silent)return this.#s.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...VO(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const s=t.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),zt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function VO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ok(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var VU=class extends zl{constructor(t,e){super(),this.options=e,this.#e=t,this.#i=null,this.#a=B1(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#s;#o;#a;#i;#m;#d;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ak(this.#t,this.options)?this.#f():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V1(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V1(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#S(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Fh(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&lk(this.#t,n,this.options,e)&&this.#f(),this.updateResult(),r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||Hi(this.options.staleTime,this.#t)!==Hi(e.staleTime,this.#t))&&this.#g();const s=this.#y();r&&(this.#t!==n||mr(this.options.enabled,this.#t)!==mr(e.enabled,this.#t)||s!==this.#l)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return UU(this,n)&&(this.#r=n,this.#o=this.options,this.#s=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#f({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#f(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(vn)),e}#g(){this.#x();const t=Hi(this.options.staleTime,this.#t);if(Xo||this.#r.isStale||!j1(t))return;const n=DO(this.#r.dataUpdatedAt,t)+1;this.#c=No.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#S(),this.#l=t,!(Xo||mr(this.options.enabled,this.#t)===!1||!j1(this.#l)||this.#l===0)&&(this.#u=No.setInterval(()=>{(this.options.refetchIntervalInBackground||mb.isFocused())&&this.#f()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#c&&(No.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(No.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,s=this.#r,o=this.#s,a=this.#o,f=t!==n?t.state:this.#n,{state:d}=t;let p={...d},m=!1,y;if(e._optimisticResults){const R=this.hasListeners(),W=!R&&ak(t,e),Z=R&&lk(t,n,e,r);(W||Z)&&(p={...p,...VO(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:S,status:w}=p;y=p.data;let T=!1;if(e.placeholderData!==void 0&&y===void 0&&w==="pending"){let R;s?.isPlaceholderData&&e.placeholderData===a?.placeholderData?(R=s.data,T=!0):R=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,R!==void 0&&(w="success",y=P1(s?.data,R,e),m=!0)}if(e.select&&y!==void 0&&!T)if(s&&y===o?.data&&e.select===this.#m)y=this.#d;else try{this.#m=e.select,y=e.select(y),y=P1(s?.data,y,e),this.#d=y,this.#i=null}catch(R){this.#i=R}this.#i&&(b=this.#i,y=this.#d,S=Date.now(),w="error");const _=p.fetchStatus==="fetching",M=w==="pending",A=w==="error",N=M&&_,O=y!==void 0,L={status:w,fetchStatus:p.fetchStatus,isPending:M,isSuccess:w==="success",isError:A,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:_,isRefetching:_&&!M,isLoadingError:A&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&O,isStale:gb(t,e),refetch:this.refetch,promise:this.#a,isEnabled:mr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const R=oe=>{L.status==="error"?oe.reject(L.error):L.data!==void 0&&oe.resolve(L.data)},W=()=>{const oe=this.#a=L.promise=B1();R(oe)},Z=this.#a;switch(Z.status){case"pending":t.queryHash===n.queryHash&&R(Z);break;case"fulfilled":(L.status==="error"||L.data!==Z.value)&&W();break;case"rejected":(L.status!=="error"||L.error!==Z.reason)&&W();break}}return L}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#s=this.#t.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#t),Fh(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(a=>{const c=a;return this.#r[c]!==t[c]&&o.has(c)})};this.#T({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#T(t){zt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function IU(t,e){return mr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ak(t,e){return IU(t,e)||t.state.data!==void 0&&V1(t,e,e.refetchOnMount)}function V1(t,e,n){if(mr(e.enabled,t)!==!1&&Hi(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gb(t,e)}return!1}function lk(t,e,n,r){return(t!==e||mr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gb(t,n)}function gb(t,e){return mr(e.enabled,t)!==!1&&t.isStaleByTime(Hi(e.staleTime,t))}function UU(t,e){return!Fh(t.getCurrentResult(),e)}function ck(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},f=0;const d=async()=>{let p=!1;const m=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=jO(e.options,e.fetchOptions),b=async(S,w,T)=>{if(p)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const M=(()=>{const B={client:e.client,queryKey:e.queryKey,pageParam:w,direction:T?"backward":"forward",meta:e.options.meta};return m(B),B})(),A=await y(M),{maxPages:N}=e.options,O=T?DU:NU;return{pages:O(S.pages,A,N),pageParams:O(S.pageParams,w,N)}};if(s&&o.length){const S=s==="backward",w=S?HU:uk,T={pages:o,pageParams:a},_=w(r,T);c=await b(T,_,S)}else{const S=t??o.length;do{const w=f===0?a[0]??r.initialPageParam:uk(r,c);if(f>0&&w==null)break;c=await b(c,w),f++}while(f<S)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function uk(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function HU(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var $U=class extends zO{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||IO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=BO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),zt.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function IO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var FU=class extends zl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new $U({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=$d(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=$d(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=$d(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(s=>s.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=$d(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>rk(e,n))}findAll(t={}){return this.getAll().filter(e=>rk(t,e))}notify(t){zt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zt.batch(()=>Promise.all(t.map(e=>e.continue().catch(vn))))}};function $d(t){return t.options.scope?.id}var qU=class extends zl{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Fh(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Jo(n.mutationKey)!==Jo(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#s(){const e=this.#n?.state??IO();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){zt.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},YU=class extends zl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,s=e.queryHash??hb(r,e);let o=this.get(s);return o||(o=new zU({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>nk(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>nk(t,n)):e}notify(t){zt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},WU=class{#e;#t;#n;#r;#s;#o;#a;#i;constructor(t={}){this.#e=t.queryCache||new YU,this.#t=t.mutationCache||new FU,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=mb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=qh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Hi(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,a=MU(e,o);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return zt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=zt.batch(()=>this.#e.findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(vn).catch(vn)}invalidateQueries(t,e={}){return zt.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=zt.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(vn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Hi(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vn).catch(vn)}fetchInfiniteQuery(t){return t.behavior=ck(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vn).catch(vn)}ensureInfiniteQueryData(t){return t.behavior=ck(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Jo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Ou(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(Jo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(r=>{Ou(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hb(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===pb&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},UO=E.createContext(void 0),Cn=t=>{const e=E.useContext(UO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},GU=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(UO.Provider,{value:t,children:e})),HO=E.createContext(!1),KU=()=>E.useContext(HO);HO.Provider;function QU(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var XU=E.createContext(QU()),JU=()=>E.useContext(XU),ZU=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},eH=t=>{E.useEffect(()=>{t.clearReset()},[t])},tH=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||LO(n,[t.error,r])),nH=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},rH=(t,e)=>t.isLoading&&t.isFetching&&!e,sH=(t,e)=>t?.suspense&&e.isPending,fk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function iH(t,e,n){const r=KU(),s=JU(),o=Cn(),a=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",nH(a),ZU(a,s),eH(s);const c=!o.getQueryCache().get(a.queryHash),[f]=E.useState(()=>new e(o,a)),d=f.getOptimisticResult(a),p=!r&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(m=>{const y=p?f.subscribe(zt.batchCalls(m)):vn;return f.updateResult(),y},[f,p]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),E.useEffect(()=>{f.setOptions(a)},[a,f]),sH(a,d))throw fk(a,f,s);if(tH({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(a,d),a.experimental_prefetchInRender&&!Xo&&rH(d,r)&&(c?fk(a,f,s):o.getQueryCache().get(a.queryHash)?.promise)?.catch(vn).finally(()=>{f.updateResult()}),a.notifyOnChangeProps?d:f.trackResult(d)}function Hr(t,e){return iH(t,VU)}function $r(t,e){const n=Cn(),[r]=E.useState(()=>new qU(n,t));E.useEffect(()=>{r.setOptions(t)},[r,t]);const s=E.useSyncExternalStore(E.useCallback(a=>r.subscribe(zt.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=E.useCallback((a,c)=>{r.mutate(a,c).catch(vn)},[r]);if(s.error&&LO(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}async function oH(){try{return(await qe.get("/skolverket/programs")).data.programs}catch(t){if(t instanceof J2){const e=t.response?.data?.message||t.message||"Kunde inte hmta program";throw new Error(e)}throw new Error("Kunde inte n servern")}}async function aH(t){try{return(await qe.get(`/skolverket/programs/${t}/subjects`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta mnen fr program"):new Error("Kunde inte n servern")}}function $O(){return Hr({queryKey:["programs"],queryFn:oH,staleTime:1e3*60*5})}function lH(){return Hr({queryKey:["userPreferenceEnums"],queryFn:J4,staleTime:1e3*60*5})}function cH(){return Hr({queryKey:["userPreferences"],queryFn:rO,staleTime:3e5})}function uH(){const t=Cn();return $r({mutationFn:e=>nO(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})},onError:e=>{console.error("Failed to set user preferences:",e)}})}const fH="_sidebar_1qlrb_1",dH="_nav_1qlrb_23",hH="_iconButton_1qlrb_35",pH="_add_1qlrb_61",mH="_iconTextButton_1qlrb_71",gH="_selected_1qlrb_107",yH="_navText_1qlrb_123",vH="_addText_1qlrb_211",ur={sidebar:fH,nav:dH,iconButton:hH,add:pH,iconTextButton:mH,selected:gH,navText:yH,addText:vH};function bH({onEdit:t,userPrefs:e,availableOrientations:n}){const[r,s]=E.useState(null),o=({icon:a,text:c,iconClass:f,onClick:d,id:p,disableSelect:m=!1,textColorClass:y})=>x.jsxs("button",{className:`${ur.iconTextButton} ${!m&&r===p?ur.selected:""}`,onClick:()=>{m||s(p??null),d?.()},disabled:m,children:[x.jsx("span",{className:`${ur.iconButton} ${f??""}`,children:a}),x.jsx("span",{className:`${ur.navText} ${y??""}`,children:c})]});return x.jsx("aside",{className:ur.sidebar,children:x.jsxs("nav",{className:ur.nav,children:[x.jsx(o,{icon:x.jsx(MO,{size:20}),text:"Min utbildning",iconClass:ur.add,id:"edit",disableSelect:!0,textColorClass:ur.addText,onClick:t}),x.jsx(o,{icon:x.jsx(Uh,{size:20}),text:e.educationLevel||"",iconClass:ur.educationLevelIcon,disableSelect:!0}),x.jsx(o,{icon:x.jsx(sm,{size:20}),text:e.program?`${e.program.name} (${e.program.code})`:"",iconClass:ur.fieldOfStudyIcon,disableSelect:!0}),n&&n.length>0&&x.jsx(o,{icon:x.jsx(VV,{size:20}),text:e.orientation?`${e.orientation.name} (${e.orientation.code})`:"",iconClass:ur.orientationIcon,disableSelect:!0}),x.jsx(o,{icon:x.jsx(uV,{size:20}),text:e.year?.toString()||"",iconClass:ur.yearIcon,disableSelect:!0})]})})}function xH(){const[t,e]=E.useState(null),n=E.useRef(null);return E.useEffect(()=>{const s=o=>{n.current&&!n.current.contains(o.target)&&e(null)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]),{open:t,toggle:s=>e(o=>o===s?null:s),ref:n,setOpen:e}}function SH(t,e,n){if(!n)return t;const r=e.toLowerCase();return t.filter(s=>s.name.toLowerCase().startsWith(r)||s.code.toLowerCase().startsWith(r))}const wH=["Skolniv"];function FO(t,e,n,r){return E.useCallback(s=>{const o=Array.isArray(s)?s:[s];if(o.some(a=>wH.includes(a))){e(o.length===1?o[0]:o);return}if(n){const a=Array.isArray(t)?[...t]:t?[t]:[];o.forEach(c=>{const f=a.indexOf(c);f>-1?a.splice(f,1):a.push(c)}),e(a)}else e(o[0]);r&&r(o[0])},[t,e,n,r])}const TH="_buttonContainer_1wpon_1",CH="_row_1wpon_23",_H="_title_1wpon_41",kH="_container_1wpon_59",EH="_button_1wpon_1",MH="_selected_1wpon_127",OH="_unselected_1wpon_147",AH="_current_1wpon_171",NH="_scrollable_1wpon_179",DH="_programContainer_1wpon_209",RH="_searchWrapper_1wpon_217",jH="_searchSelected_1wpon_239",LH="_searchInput_1wpon_247",PH="_clearButton_1wpon_283",BH="_dropdown_1wpon_309",zH="_courseButton_1wpon_329",VH="_userSelected_1wpon_365",IH="_courseInnerButton_1wpon_385",UH="_courseLabel_1wpon_403",HH="_courseCheck_1wpon_413",$H="_disabledCourse_1wpon_425",FH="_allGraded_1wpon_441",qH="_allGradedGreen_1wpon_471",YH="_green_1wpon_491",WH="_selectedGreen_1wpon_503",GH="_unselectedGreen_1wpon_525",KH="_partiallyGraded_1wpon_557",Ke={buttonContainer:TH,row:CH,title:_H,container:kH,button:EH,selected:MH,unselected:OH,current:AH,scrollable:NH,programContainer:DH,searchWrapper:RH,searchSelected:jH,searchInput:LH,clearButton:PH,dropdown:BH,courseButton:zH,userSelected:VH,courseInnerButton:IH,courseLabel:UH,courseCheck:HH,disabledCourse:$H,allGraded:FH,allGradedGreen:qH,green:YH,selectedGreen:WH,unselectedGreen:GH,partiallyGraded:KH};function QH({name:t,selected:e,onClick:n,disabled:r,className:s}){return x.jsx("button",{onClick:n,disabled:r,className:`${Ke.button}  ${s??""}`,children:t})}function XH({option:t,isOpen:e,onClose:n,isSelected:r,onCourseSelect:s}){const a=Gt(f=>f.preferences)?.gradedSubjects??[],c=E.useRef(null);return E.useEffect(()=>{function f(d){c.current&&!c.current.contains(d.target)&&n?.()}return e&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[e,n]),!t.courses||!e?null:x.jsx("div",{ref:c,className:Ke.dropdown,role:"list",children:t.courses.map(f=>{const d=a.some(y=>y.courseCode===f.code),p=`${f.name} (${f.code}, ${f.points??0} p)`,m=[Ke.courseButton,d?Ke.disabledCourse:"",r(f.code)&&!d?Ke.userSelected:""].join(" ").trim();return x.jsx("div",{className:m,children:x.jsxs("button",{type:"button",className:Ke.courseInnerButton,onClick:()=>{d||(s?.(f.code,Number(f.points??0)),n?.())},disabled:d,"aria-disabled":d,children:[x.jsx("span",{className:Ke.courseLabel,children:p}),d&&x.jsx("span",{className:Ke.courseCheck,children:""})]})},f.code)})})}function JH({option:t,isSelected:e,handleSelect:n,toggle:r,open:s,current:o=!1,onCourseSelect:a,variant:c="default"}){const d=Gt(_=>_.preferences)?.gradedSubjects??[],p=t.courses?t.courses.filter(_=>d.some(M=>M.courseCode===_.code)).length:0,m=t.courses?.length??0,y=m>0&&p===m,b=p>0&&p<m,S=()=>e(t.code)?!0:t.courses?t.courses.some(_=>e(_.code))||y:!1,w=[o?Ke.current:"",S()?c==="green"?Ke.selectedGreen:Ke.selected:c==="green"?Ke.unselectedGreen:Ke.unselected,y?c==="green"?Ke.allGradedGreen:Ke.allGraded:b?Ke.partiallyGraded:""].filter(Boolean).join(" "),T=t.courses&&m>0?`${t.name} (${p}/${m})`:t.name;return x.jsxs("div",{className:Ke.optionWrapper,children:[x.jsx(QH,{name:T,selected:S(),onClick:()=>t.courses?r(t.name):n(t.code),className:w}),x.jsx(XH,{option:t,isOpen:s===t.name,isSelected:e,onCourseSelect:a})]})}function ZH({title:t,options:e,selected:n,onSelect:r,onCourseSelect:s,multiple:o=!1,searchable:a=!1,searchValue:c,onSearchChange:f,currentGrade:d=null,variant:p="default"}){const[m,y]=E.useState(""),b=c??m,S=f??y,w=E.useRef(null),{open:T,toggle:_,ref:M}=xH(),A=SH(e,b,a),N=a&&b.trim()===""&&n?e.filter(oe=>Array.isArray(n)?n.includes(oe.code):oe.code===n):A,O=oe=>n?(Array.isArray(n)?n:[n]).includes(oe):!1,B=FO(n,r,o,_),L=oe=>{B(oe),a&&(S(""),w.current?.blur())},[R,W]=E.useState(!1),Z=a&&(b.trim()!==""||R);return x.jsx("div",{ref:M,className:`${Ke.buttonContainer} ${p==="green"?Ke.green:""}`,children:x.jsxs("div",{className:Ke.row,children:[x.jsx("div",{className:Ke.title,children:t}),a&&x.jsxs("div",{className:`${Ke.searchWrapper} ${Z?Ke.searchSelected:""}`,children:[x.jsx("span",{className:Ke.searchIconWrapper,children:x.jsx(EO,{size:18})}),x.jsx("input",{ref:w,placeholder:"Sk",value:b,onChange:oe=>S(oe.target.value),className:Ke.searchInput,onFocus:()=>W(!0),onBlur:()=>W(!1)}),b&&x.jsx("span",{className:Ke.clearButton,onClick:()=>S(""),children:x.jsx(fb,{size:18})})]}),x.jsx("div",{className:`${Ke.container} ${a?Ke.scrollable:""} ${t==="Program"?Ke.programContainer:""}`,children:N.map(oe=>{const ce=oe.code===d;return x.jsx(JH,{option:oe,isSelected:O,handleSelect:L,toggle:_,open:T,current:ce,onCourseSelect:s,variant:p},oe.code)})})]})})}function zs({title:t,options:e,selected:n,onSelect:r,onCourseSelect:s,searchable:o=!1,searchValue:a,onSearchChange:c,currentGrade:f,multiple:d,variant:p="default"}){return x.jsx(ZH,{title:t,options:e,selected:n,onSelect:r??(()=>{}),onCourseSelect:s,searchable:o,searchValue:a,onSearchChange:c,currentGrade:f,multiple:d,variant:p})}function e$({localPrefs:t,enums:e,programs:n,orientations:r,updateField:s,handleSelect:o}){const[a,c]=E.useState(""),f=E.useMemo(()=>a?n.filter(d=>d.name.toLowerCase().includes(a.toLowerCase())||d.code.toLowerCase().includes(a.toLowerCase())):t.program?n.filter(d=>d.code===t.program?.code):[],[n,a,t.program?.code]);return x.jsxs(x.Fragment,{children:[x.jsx(zs,{title:"Skolniv",options:e.educationLevels.map(d=>({name:d,code:d})),selected:t.educationLevel,onSelect:o}),n.length>0&&x.jsx(zs,{title:"Program",options:f.map(d=>({name:`${d.name} (${d.code})`,code:d.code})),selected:t.program?.code??null,searchable:!0,searchValue:a,onSearchChange:c,onSelect:d=>{const p=n.find(m=>m.code===d);s("program",p??null)}}),r.length>0&&x.jsx(zs,{title:"Inriktning",options:r.map(d=>({name:d.name,code:d.code})),selected:t.orientation?.code??null,onSelect:d=>{const p=r.find(m=>m.code===d);s("orientation",p??null)}}),x.jsx(zs,{title:"r",options:e.year.map((d,p)=>({name:`${p+1}`,code:`${p+1}`})),selected:t.year?`${t.year}`:null,onSelect:d=>s("year",Number(typeof d=="string"?d:d[0]))})]})}const t$="_wrapper_1vwhp_1",n$="_content_1vwhp_15",r$="_onboardingContainer_1vwhp_31",s$="_title_1vwhp_61",i$="_hint_1vwhp_73",o$="_headerRow_1vwhp_89",a$="_continueAction_1vwhp_153",l$="_disabled_1vwhp_179",c$="_resetAction_1vwhp_217",Os={wrapper:t$,content:n$,onboardingContainer:r$,title:s$,hint:i$,headerRow:o$,continueAction:a$,disabled:l$,resetAction:c$};function qO({title:t="Kom igng med Stegvis",hint:e,redirectPath:n}){const r=Ur(),s=us(),o=Gt(ce=>ce.profile.profile),a=Gt(ce=>ce.preferences),c=o?.firstname??"",{data:f,isLoading:d,error:p}=$O(),{data:m,isLoading:y,error:b}=lH(),{data:S,isLoading:w,error:T}=cH(),{mutate:_}=uH(),[M,A]=E.useState({educationLevel:a.educationLevel||S?.userPreference?.educationLevel||"Gymnasiet",program:a.program||S?.userPreference?.program||null,orientation:a.orientation||S?.userPreference?.orientation||null,year:a.year||S?.userPreference?.year||null}),[N,O]=E.useState({saving:!1,saved:!1});E.useEffect(()=>{S?.userPreference&&A(ce=>({educationLevel:ce.educationLevel||S.userPreference.educationLevel||"Gymnasiet",program:ce.program||S.userPreference.program||null,orientation:ce.orientation||S.userPreference.orientation||null,year:ce.year||S.userPreference.year||0}))},[S]);const B=(ce,Pe)=>{A(Ce=>({...Ce,[ce]:Pe,...ce==="program"?{orientation:null}:{}}))},L=E.useMemo(()=>{if(!M.program)return[];const ce=f?.find(Pe=>`${Pe.name} (${Pe.code})`==`${M.program?.name} (${M.program?.code})`);return ce?.orientations?ce.orientations.map(Pe=>({name:Pe.name,code:Pe.code,points:Number(Pe.points)})):[]},[f,M.program]),R=FO(M.educationLevel,ce=>B("educationLevel",Array.isArray(ce)?ce[0]:ce),!1),W=!!(M.educationLevel&&M.program&&M.year&&(L.length===0||M.orientation)),Z=()=>{O({saving:!0,saved:!1});const ce=M.program?{code:M.program.code,name:M.program.name}:null,Pe=M.orientation?{code:M.orientation.code,name:M.orientation.name,points:M.orientation.points}:null,Ce={educationLevel:M.educationLevel,program:ce,orientation:Pe,year:M.year};_(Ce,{onSuccess:()=>{s(Rl(Ce)),s(G4(!0)),O({saving:!1,saved:!0});let xe="";Ce.year===1?xe="/studieplaneraren/amnen-kurser":Ce.year===2||Ce.year===3?xe="/studieplaneraren/avklarade-amnen-kurser":xe=n??"/hem",setTimeout(()=>{r(xe),O({saving:!1,saved:!1})},1e3)},onError:xe=>{console.error("Failed to save user preferences:",xe),O({saving:!1,saved:!1})}})},oe=()=>{A({educationLevel:"Gymnasiet",program:null,orientation:null,year:null})};return w||d||y?x.jsx("p",{children:"Laddar..."}):T||p||b?x.jsxs("p",{children:["Ett fel intrffade: ",String(T||p||b)]}):x.jsxs("div",{className:Os.wrapper,children:[x.jsx(bH,{userPrefs:M,availableOrientations:L}),x.jsx("div",{className:Os.content,children:x.jsxs("div",{className:Os.onboardingContainer,children:[x.jsxs("div",{className:Os.headerRow,children:[x.jsx("h1",{className:Os.title,children:t}),x.jsxs("div",{className:`${Os.continueAction} ${W?"":Os.disabled}`,onClick:()=>{W&&Z()},children:[x.jsx(X6,{size:25}),n?"Fortstt":"Spara ndringar"]})]}),x.jsx("p",{className:Os.hint,children:e??`Hej ${c}! Lt oss anpassa din upplevelse.`}),x.jsx("div",{style:{width:"100%",textAlign:"left",marginTop:"12px",marginBottom:"5px"},children:x.jsxs("button",{type:"button",className:Os.resetAction,onClick:oe,children:[x.jsx(vV,{size:16})," Rensa"]})}),m&&x.jsx(e$,{localPrefs:M,enums:m,programs:f??[],orientations:L,updateField:B,handleSelect:R})]})}),x.jsx(xO,{active:N.saving||N.saved,completed:N.saved,loadingText:"Sparar preferenser...",doneText:"Preferenser sparade!"})]})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var YO;function te(){return YO.apply(null,arguments)}function u$(t){YO=t}function jr(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Io(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ue(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yb(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ue(t,e))return!1;return!0}function An(t){return t===void 0}function Qs(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function sf(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function WO(t,e){var n=[],r,s=t.length;for(r=0;r<s;++r)n.push(e(t[r],r));return n}function Bi(t,e){for(var n in e)Ue(e,n)&&(t[n]=e[n]);return Ue(e,"toString")&&(t.toString=e.toString),Ue(e,"valueOf")&&(t.valueOf=e.valueOf),t}function fs(t,e,n,r){return gA(t,e,n,r,!0).utc()}function f$(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(t){return t._pf==null&&(t._pf=f$()),t._pf}var I1;Array.prototype.some?I1=Array.prototype.some:I1=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function vb(t){var e=null,n=!1,r=t._d&&!isNaN(t._d.getTime());if(r&&(e=ke(t),n=I1.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r;return t._isValid}function im(t){var e=fs(NaN);return t!=null?Bi(ke(e),t):ke(e).userInvalidated=!0,e}var dk=te.momentProperties=[],y0=!1;function bb(t,e){var n,r,s,o=dk.length;if(An(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),An(e._i)||(t._i=e._i),An(e._f)||(t._f=e._f),An(e._l)||(t._l=e._l),An(e._strict)||(t._strict=e._strict),An(e._tzm)||(t._tzm=e._tzm),An(e._isUTC)||(t._isUTC=e._isUTC),An(e._offset)||(t._offset=e._offset),An(e._pf)||(t._pf=ke(e)),An(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)r=dk[n],s=e[r],An(s)||(t[r]=s);return t}function of(t){bb(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),y0===!1&&(y0=!0,te.updateOffset(this),y0=!1)}function Lr(t){return t instanceof of||t!=null&&t._isAMomentObject!=null}function GO(t){te.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function wr(t,e){var n=!0;return Bi(function(){if(te.deprecationHandler!=null&&te.deprecationHandler(null,t),n){var r=[],s,o,a,c=arguments.length;for(o=0;o<c;o++){if(s="",typeof arguments[o]=="object"){s+=`
[`+o+"] ";for(a in arguments[0])Ue(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[o];r.push(s)}GO(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var hk={};function KO(t,e){te.deprecationHandler!=null&&te.deprecationHandler(t,e),hk[t]||(GO(e),hk[t]=!0)}te.suppressDeprecationWarnings=!1;te.deprecationHandler=null;function ds(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function d$(t){var e,n;for(n in t)Ue(t,n)&&(e=t[n],ds(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function U1(t,e){var n=Bi({},t),r;for(r in e)Ue(e,r)&&(Io(t[r])&&Io(e[r])?(n[r]={},Bi(n[r],t[r]),Bi(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ue(t,r)&&!Ue(e,r)&&Io(t[r])&&(n[r]=Bi({},n[r]));return n}function xb(t){t!=null&&this.set(t)}var H1;Object.keys?H1=Object.keys:H1=function(t){var e,n=[];for(e in t)Ue(t,e)&&n.push(e);return n};var h$={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function p$(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return ds(r)?r.call(e,n):r}function as(t,e,n){var r=""+Math.abs(t),s=e-r.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Sb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,v0={},pl={};function he(t,e,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),t&&(pl[t]=s),e&&(pl[e[0]]=function(){return as(s.apply(this,arguments),e[1],e[2])}),n&&(pl[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function m$(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function g$(t){var e=t.match(Sb),n,r;for(n=0,r=e.length;n<r;n++)pl[e[n]]?e[n]=pl[e[n]]:e[n]=m$(e[n]);return function(s){var o="",a;for(a=0;a<r;a++)o+=ds(e[a])?e[a].call(s,t):e[a];return o}}function xh(t,e){return t.isValid()?(e=QO(e,t.localeData()),v0[e]=v0[e]||g$(e),v0[e](t)):t.localeData().invalidDate()}function QO(t,e){var n=5;function r(s){return e.longDateFormat(s)||s}for(Fd.lastIndex=0;n>=0&&Fd.test(t);)t=t.replace(Fd,r),Fd.lastIndex=0,n-=1;return t}var y$={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function v$(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(Sb).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var b$="Invalid date";function x$(){return this._invalidDate}var S$="%d",w$=/\d{1,2}/;function T$(t){return this._ordinal.replace("%d",t)}var C$={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function _$(t,e,n,r){var s=this._relativeTime[n];return ds(s)?s(t,e,n,r):s.replace(/%d/i,t)}function k$(t,e){var n=this._relativeTime[t>0?"future":"past"];return ds(n)?n(e):n.replace(/%s/i,e)}var pk={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Tr(t){return typeof t=="string"?pk[t]||pk[t.toLowerCase()]:void 0}function wb(t){var e={},n,r;for(r in t)Ue(t,r)&&(n=Tr(r),n&&(e[n]=t[r]));return e}var E$={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function M$(t){var e=[],n;for(n in t)Ue(t,n)&&e.push({unit:n,priority:E$[n]});return e.sort(function(r,s){return r.priority-s.priority}),e}var XO=/\d/,Jn=/\d\d/,JO=/\d{3}/,Tb=/\d{4}/,om=/[+-]?\d{6}/,it=/\d\d?/,ZO=/\d\d\d\d?/,eA=/\d\d\d\d\d\d?/,am=/\d{1,3}/,Cb=/\d{1,4}/,lm=/[+-]?\d{1,6}/,Vl=/\d+/,cm=/[+-]?\d+/,O$=/Z|[+-]\d\d:?\d\d/gi,um=/Z|[+-]\d\d(?::?\d\d)?/gi,A$=/[+-]?\d+(\.\d{1,3})?/,af=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Il=/^[1-9]\d?/,_b=/^([1-9]\d|\d)/,Yh;Yh={};function ae(t,e,n){Yh[t]=ds(e)?e:function(r,s){return r&&n?n:e}}function N$(t,e){return Ue(Yh,t)?Yh[t](e._strict,e._locale):new RegExp(D$(t))}function D$(t){return Fs(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,s,o){return n||r||s||o}))}function Fs(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Le(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=yr(e)),n}var $1={};function Ze(t,e){var n,r=e,s;for(typeof t=="string"&&(t=[t]),Qs(e)&&(r=function(o,a){a[e]=Le(o)}),s=t.length,n=0;n<s;n++)$1[t[n]]=r}function lf(t,e){Ze(t,function(n,r,s,o){s._w=s._w||{},e(n,s._w,s,o)})}function R$(t,e,n){e!=null&&Ue($1,t)&&$1[t](e,n._a,n,t)}function fm(t){return t%4===0&&t%100!==0||t%400===0}var pn=0,Vs=1,rs=2,Vt=3,Nr=4,Is=5,Do=6,j$=7,L$=8;he("Y",0,0,function(){var t=this.year();return t<=9999?as(t,4):"+"+t});he(0,["YY",2],0,function(){return this.year()%100});he(0,["YYYY",4],0,"year");he(0,["YYYYY",5],0,"year");he(0,["YYYYYY",6,!0],0,"year");ae("Y",cm);ae("YY",it,Jn);ae("YYYY",Cb,Tb);ae("YYYYY",lm,om);ae("YYYYYY",lm,om);Ze(["YYYYY","YYYYYY"],pn);Ze("YYYY",function(t,e){e[pn]=t.length===2?te.parseTwoDigitYear(t):Le(t)});Ze("YY",function(t,e){e[pn]=te.parseTwoDigitYear(t)});Ze("Y",function(t,e){e[pn]=parseInt(t,10)});function lu(t){return fm(t)?366:365}te.parseTwoDigitYear=function(t){return Le(t)+(Le(t)>68?1900:2e3)};var tA=Ul("FullYear",!0);function P$(){return fm(this.year())}function Ul(t,e){return function(n){return n!=null?(nA(this,t,n),te.updateOffset(this,e),this):Au(this,t)}}function Au(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function nA(t,e,n){var r,s,o,a,c;if(!(!t.isValid()||isNaN(n))){switch(r=t._d,s=t._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,a=t.month(),c=t.date(),c=c===29&&a===1&&!fm(o)?28:c,s?r.setUTCFullYear(o,a,c):r.setFullYear(o,a,c)}}function B$(t){return t=Tr(t),ds(this[t])?this[t]():this}function z$(t,e){if(typeof t=="object"){t=wb(t);var n=M$(t),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](t[n[r].unit])}else if(t=Tr(t),ds(this[t]))return this[t](e);return this}function V$(t,e){return(t%e+e)%e}var Mt;Array.prototype.indexOf?Mt=Array.prototype.indexOf:Mt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function kb(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=V$(e,12);return t+=(e-n)/12,n===1?fm(t)?29:28:31-n%7%2}he("M",["MM",2],"Mo",function(){return this.month()+1});he("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});he("MMMM",0,0,function(t){return this.localeData().months(this,t)});ae("M",it,Il);ae("MM",it,Jn);ae("MMM",function(t,e){return e.monthsShortRegex(t)});ae("MMMM",function(t,e){return e.monthsRegex(t)});Ze(["M","MM"],function(t,e){e[Vs]=Le(t)-1});Ze(["MMM","MMMM"],function(t,e,n,r){var s=n._locale.monthsParse(t,r,n._strict);s!=null?e[Vs]=s:ke(n).invalidMonth=t});var I$="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rA="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),sA=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,U$=af,H$=af;function $$(t,e){return t?jr(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||sA).test(e)?"format":"standalone"][t.month()]:jr(this._months)?this._months:this._months.standalone}function F$(t,e){return t?jr(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[sA.test(e)?"format":"standalone"][t.month()]:jr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function q$(t,e,n){var r,s,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=fs([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?e==="MMM"?(s=Mt.call(this._shortMonthsParse,a),s!==-1?s:null):(s=Mt.call(this._longMonthsParse,a),s!==-1?s:null):e==="MMM"?(s=Mt.call(this._shortMonthsParse,a),s!==-1?s:(s=Mt.call(this._longMonthsParse,a),s!==-1?s:null)):(s=Mt.call(this._longMonthsParse,a),s!==-1?s:(s=Mt.call(this._shortMonthsParse,a),s!==-1?s:null))}function Y$(t,e,n){var r,s,o;if(this._monthsParseExact)return q$.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=fs([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function iA(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Le(e);else if(e=t.localeData().monthsParse(e),!Qs(e))return t}var n=e,r=t.date();return r=r<29?r:Math.min(r,kb(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function oA(t){return t!=null?(iA(this,t),te.updateOffset(this,!0),this):Au(this,"Month")}function W$(){return kb(this.year(),this.month())}function G$(t){return this._monthsParseExact?(Ue(this,"_monthsRegex")||aA.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ue(this,"_monthsShortRegex")||(this._monthsShortRegex=U$),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function K$(t){return this._monthsParseExact?(Ue(this,"_monthsRegex")||aA.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ue(this,"_monthsRegex")||(this._monthsRegex=H$),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function aA(){function t(f,d){return d.length-f.length}var e=[],n=[],r=[],s,o,a,c;for(s=0;s<12;s++)o=fs([2e3,s]),a=Fs(this.monthsShort(o,"")),c=Fs(this.months(o,"")),e.push(a),n.push(c),r.push(c),r.push(a);e.sort(t),n.sort(t),r.sort(t),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Q$(t,e,n,r,s,o,a){var c;return t<100&&t>=0?(c=new Date(t+400,e,n,r,s,o,a),isFinite(c.getFullYear())&&c.setFullYear(t)):c=new Date(t,e,n,r,s,o,a),c}function Nu(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Wh(t,e,n){var r=7+e-n,s=(7+Nu(t,0,r).getUTCDay()-e)%7;return-s+r-1}function lA(t,e,n,r,s){var o=(7+n-r)%7,a=Wh(t,r,s),c=1+7*(e-1)+o+a,f,d;return c<=0?(f=t-1,d=lu(f)+c):c>lu(t)?(f=t+1,d=c-lu(t)):(f=t,d=c),{year:f,dayOfYear:d}}function Du(t,e,n){var r=Wh(t.year(),e,n),s=Math.floor((t.dayOfYear()-r-1)/7)+1,o,a;return s<1?(a=t.year()-1,o=s+qs(a,e,n)):s>qs(t.year(),e,n)?(o=s-qs(t.year(),e,n),a=t.year()+1):(a=t.year(),o=s),{week:o,year:a}}function qs(t,e,n){var r=Wh(t,e,n),s=Wh(t+1,e,n);return(lu(t)-r+s)/7}he("w",["ww",2],"wo","week");he("W",["WW",2],"Wo","isoWeek");ae("w",it,Il);ae("ww",it,Jn);ae("W",it,Il);ae("WW",it,Jn);lf(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Le(t)});function X$(t){return Du(t,this._week.dow,this._week.doy).week}var J$={dow:0,doy:6};function Z$(){return this._week.dow}function e8(){return this._week.doy}function t8(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function n8(t){var e=Du(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}he("d",0,"do","day");he("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});he("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});he("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});he("e",0,0,"weekday");he("E",0,0,"isoWeekday");ae("d",it);ae("e",it);ae("E",it);ae("dd",function(t,e){return e.weekdaysMinRegex(t)});ae("ddd",function(t,e){return e.weekdaysShortRegex(t)});ae("dddd",function(t,e){return e.weekdaysRegex(t)});lf(["dd","ddd","dddd"],function(t,e,n,r){var s=n._locale.weekdaysParse(t,r,n._strict);s!=null?e.d=s:ke(n).invalidWeekday=t});lf(["d","e","E"],function(t,e,n,r){e[r]=Le(t)});function r8(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function s8(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Eb(t,e){return t.slice(e,7).concat(t.slice(0,e))}var i8="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),cA="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),o8="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),a8=af,l8=af,c8=af;function u8(t,e){var n=jr(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Eb(n,this._week.dow):t?n[t.day()]:n}function f8(t){return t===!0?Eb(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function d8(t){return t===!0?Eb(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function h8(t,e,n){var r,s,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=fs([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?e==="dddd"?(s=Mt.call(this._weekdaysParse,a),s!==-1?s:null):e==="ddd"?(s=Mt.call(this._shortWeekdaysParse,a),s!==-1?s:null):(s=Mt.call(this._minWeekdaysParse,a),s!==-1?s:null):e==="dddd"?(s=Mt.call(this._weekdaysParse,a),s!==-1||(s=Mt.call(this._shortWeekdaysParse,a),s!==-1)?s:(s=Mt.call(this._minWeekdaysParse,a),s!==-1?s:null)):e==="ddd"?(s=Mt.call(this._shortWeekdaysParse,a),s!==-1||(s=Mt.call(this._weekdaysParse,a),s!==-1)?s:(s=Mt.call(this._minWeekdaysParse,a),s!==-1?s:null)):(s=Mt.call(this._minWeekdaysParse,a),s!==-1||(s=Mt.call(this._weekdaysParse,a),s!==-1)?s:(s=Mt.call(this._shortWeekdaysParse,a),s!==-1?s:null))}function p8(t,e,n){var r,s,o;if(this._weekdaysParseExact)return h8.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=fs([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function m8(t){if(!this.isValid())return t!=null?this:NaN;var e=Au(this,"Day");return t!=null?(t=r8(t,this.localeData()),this.add(t-e,"d")):e}function g8(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function y8(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=s8(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function v8(t){return this._weekdaysParseExact?(Ue(this,"_weekdaysRegex")||Mb.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ue(this,"_weekdaysRegex")||(this._weekdaysRegex=a8),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function b8(t){return this._weekdaysParseExact?(Ue(this,"_weekdaysRegex")||Mb.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ue(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=l8),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function x8(t){return this._weekdaysParseExact?(Ue(this,"_weekdaysRegex")||Mb.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ue(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=c8),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Mb(){function t(p,m){return m.length-p.length}var e=[],n=[],r=[],s=[],o,a,c,f,d;for(o=0;o<7;o++)a=fs([2e3,1]).day(o),c=Fs(this.weekdaysMin(a,"")),f=Fs(this.weekdaysShort(a,"")),d=Fs(this.weekdays(a,"")),e.push(c),n.push(f),r.push(d),s.push(c),s.push(f),s.push(d);e.sort(t),n.sort(t),r.sort(t),s.sort(t),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ob(){return this.hours()%12||12}function S8(){return this.hours()||24}he("H",["HH",2],0,"hour");he("h",["hh",2],0,Ob);he("k",["kk",2],0,S8);he("hmm",0,0,function(){return""+Ob.apply(this)+as(this.minutes(),2)});he("hmmss",0,0,function(){return""+Ob.apply(this)+as(this.minutes(),2)+as(this.seconds(),2)});he("Hmm",0,0,function(){return""+this.hours()+as(this.minutes(),2)});he("Hmmss",0,0,function(){return""+this.hours()+as(this.minutes(),2)+as(this.seconds(),2)});function uA(t,e){he(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}uA("a",!0);uA("A",!1);function fA(t,e){return e._meridiemParse}ae("a",fA);ae("A",fA);ae("H",it,_b);ae("h",it,Il);ae("k",it,Il);ae("HH",it,Jn);ae("hh",it,Jn);ae("kk",it,Jn);ae("hmm",ZO);ae("hmmss",eA);ae("Hmm",ZO);ae("Hmmss",eA);Ze(["H","HH"],Vt);Ze(["k","kk"],function(t,e,n){var r=Le(t);e[Vt]=r===24?0:r});Ze(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});Ze(["h","hh"],function(t,e,n){e[Vt]=Le(t),ke(n).bigHour=!0});Ze("hmm",function(t,e,n){var r=t.length-2;e[Vt]=Le(t.substr(0,r)),e[Nr]=Le(t.substr(r)),ke(n).bigHour=!0});Ze("hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[Vt]=Le(t.substr(0,r)),e[Nr]=Le(t.substr(r,2)),e[Is]=Le(t.substr(s)),ke(n).bigHour=!0});Ze("Hmm",function(t,e,n){var r=t.length-2;e[Vt]=Le(t.substr(0,r)),e[Nr]=Le(t.substr(r))});Ze("Hmmss",function(t,e,n){var r=t.length-4,s=t.length-2;e[Vt]=Le(t.substr(0,r)),e[Nr]=Le(t.substr(r,2)),e[Is]=Le(t.substr(s))});function w8(t){return(t+"").toLowerCase().charAt(0)==="p"}var T8=/[ap]\.?m?\.?/i,C8=Ul("Hours",!0);function _8(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var dA={calendar:h$,longDateFormat:y$,invalidDate:b$,ordinal:S$,dayOfMonthOrdinalParse:w$,relativeTime:C$,months:I$,monthsShort:rA,week:J$,weekdays:i8,weekdaysMin:o8,weekdaysShort:cA,meridiemParse:T8},lt={},Kc={},Ru;function k8(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function mk(t){return t&&t.toLowerCase().replace("_","-")}function E8(t){for(var e=0,n,r,s,o;e<t.length;){for(o=mk(t[e]).split("-"),n=o.length,r=mk(t[e+1]),r=r?r.split("-"):null;n>0;){if(s=dm(o.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&k8(o,r)>=n-1)break;n--}e++}return Ru}function M8(t){return!!(t&&t.match("^[^/\\\\]*$"))}function dm(t){var e=null,n;if(lt[t]===void 0&&typeof Dh<"u"&&Dh&&Dh.exports&&M8(t))try{e=Ru._abbr,n=require,n("./locale/"+t),$i(e)}catch{lt[t]=null}return lt[t]}function $i(t,e){var n;return t&&(An(e)?n=Zs(t):n=Ab(t,e),n?Ru=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ru._abbr}function Ab(t,e){if(e!==null){var n,r=dA;if(e.abbr=t,lt[t]!=null)KO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=lt[t]._config;else if(e.parentLocale!=null)if(lt[e.parentLocale]!=null)r=lt[e.parentLocale]._config;else if(n=dm(e.parentLocale),n!=null)r=n._config;else return Kc[e.parentLocale]||(Kc[e.parentLocale]=[]),Kc[e.parentLocale].push({name:t,config:e}),null;return lt[t]=new xb(U1(r,e)),Kc[t]&&Kc[t].forEach(function(s){Ab(s.name,s.config)}),$i(t),lt[t]}else return delete lt[t],null}function O8(t,e){if(e!=null){var n,r,s=dA;lt[t]!=null&&lt[t].parentLocale!=null?lt[t].set(U1(lt[t]._config,e)):(r=dm(t),r!=null&&(s=r._config),e=U1(s,e),r==null&&(e.abbr=t),n=new xb(e),n.parentLocale=lt[t],lt[t]=n),$i(t)}else lt[t]!=null&&(lt[t].parentLocale!=null?(lt[t]=lt[t].parentLocale,t===$i()&&$i(t)):lt[t]!=null&&delete lt[t]);return lt[t]}function Zs(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ru;if(!jr(t)){if(e=dm(t),e)return e;t=[t]}return E8(t)}function A8(){return H1(lt)}function Nb(t){var e,n=t._a;return n&&ke(t).overflow===-2&&(e=n[Vs]<0||n[Vs]>11?Vs:n[rs]<1||n[rs]>kb(n[pn],n[Vs])?rs:n[Vt]<0||n[Vt]>24||n[Vt]===24&&(n[Nr]!==0||n[Is]!==0||n[Do]!==0)?Vt:n[Nr]<0||n[Nr]>59?Nr:n[Is]<0||n[Is]>59?Is:n[Do]<0||n[Do]>999?Do:-1,ke(t)._overflowDayOfYear&&(e<pn||e>rs)&&(e=rs),ke(t)._overflowWeeks&&e===-1&&(e=j$),ke(t)._overflowWeekday&&e===-1&&(e=L$),ke(t).overflow=e),t}var N8=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,D8=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R8=/Z|[+-]\d\d(?::?\d\d)?/,qd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],b0=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],j8=/^\/?Date\((-?\d+)/i,L8=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,P8={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function hA(t){var e,n,r=t._i,s=N8.exec(r)||D8.exec(r),o,a,c,f,d=qd.length,p=b0.length;if(s){for(ke(t).iso=!0,e=0,n=d;e<n;e++)if(qd[e][1].exec(s[1])){a=qd[e][0],o=qd[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(s[3]){for(e=0,n=p;e<n;e++)if(b0[e][1].exec(s[3])){c=(s[2]||" ")+b0[e][0];break}if(c==null){t._isValid=!1;return}}if(!o&&c!=null){t._isValid=!1;return}if(s[4])if(R8.exec(s[4]))f="Z";else{t._isValid=!1;return}t._f=a+(c||"")+(f||""),Rb(t)}else t._isValid=!1}function B8(t,e,n,r,s,o){var a=[z8(t),rA.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return o&&a.push(parseInt(o,10)),a}function z8(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function V8(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function I8(t,e,n){if(t){var r=cA.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return ke(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function U8(t,e,n){if(t)return P8[t];if(e)return 0;var r=parseInt(n,10),s=r%100,o=(r-s)/100;return o*60+s}function pA(t){var e=L8.exec(V8(t._i)),n;if(e){if(n=B8(e[4],e[3],e[2],e[5],e[6],e[7]),!I8(e[1],n,t))return;t._a=n,t._tzm=U8(e[8],e[9],e[10]),t._d=Nu.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ke(t).rfc2822=!0}else t._isValid=!1}function H8(t){var e=j8.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(hA(t),t._isValid===!1)delete t._isValid;else return;if(pA(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:te.createFromInputFallback(t)}te.createFromInputFallback=wr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function nl(t,e,n){return t??e??n}function $8(t){var e=new Date(te.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Db(t){var e,n,r=[],s,o,a;if(!t._d){for(s=$8(t),t._w&&t._a[rs]==null&&t._a[Vs]==null&&F8(t),t._dayOfYear!=null&&(a=nl(t._a[pn],s[pn]),(t._dayOfYear>lu(a)||t._dayOfYear===0)&&(ke(t)._overflowDayOfYear=!0),n=Nu(a,0,t._dayOfYear),t._a[Vs]=n.getUTCMonth(),t._a[rs]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=s[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Vt]===24&&t._a[Nr]===0&&t._a[Is]===0&&t._a[Do]===0&&(t._nextDay=!0,t._a[Vt]=0),t._d=(t._useUTC?Nu:Q$).apply(null,r),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Vt]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==o&&(ke(t).weekdayMismatch=!0)}}function F8(t){var e,n,r,s,o,a,c,f,d;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,a=4,n=nl(e.GG,t._a[pn],Du(st(),1,4).year),r=nl(e.W,1),s=nl(e.E,1),(s<1||s>7)&&(f=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,d=Du(st(),o,a),n=nl(e.gg,t._a[pn],d.year),r=nl(e.w,d.week),e.d!=null?(s=e.d,(s<0||s>6)&&(f=!0)):e.e!=null?(s=e.e+o,(e.e<0||e.e>6)&&(f=!0)):s=o),r<1||r>qs(n,o,a)?ke(t)._overflowWeeks=!0:f!=null?ke(t)._overflowWeekday=!0:(c=lA(n,r,s,o,a),t._a[pn]=c.year,t._dayOfYear=c.dayOfYear)}te.ISO_8601=function(){};te.RFC_2822=function(){};function Rb(t){if(t._f===te.ISO_8601){hA(t);return}if(t._f===te.RFC_2822){pA(t);return}t._a=[],ke(t).empty=!0;var e=""+t._i,n,r,s,o,a,c=e.length,f=0,d,p;for(s=QO(t._f,t._locale).match(Sb)||[],p=s.length,n=0;n<p;n++)o=s[n],r=(e.match(N$(o,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&ke(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),f+=r.length),pl[o]?(r?ke(t).empty=!1:ke(t).unusedTokens.push(o),R$(o,r,t)):t._strict&&!r&&ke(t).unusedTokens.push(o);ke(t).charsLeftOver=c-f,e.length>0&&ke(t).unusedInput.push(e),t._a[Vt]<=12&&ke(t).bigHour===!0&&t._a[Vt]>0&&(ke(t).bigHour=void 0),ke(t).parsedDateParts=t._a.slice(0),ke(t).meridiem=t._meridiem,t._a[Vt]=q8(t._locale,t._a[Vt],t._meridiem),d=ke(t).era,d!==null&&(t._a[pn]=t._locale.erasConvertYear(d,t._a[pn])),Db(t),Nb(t)}function q8(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function Y8(t){var e,n,r,s,o,a,c=!1,f=t._f.length;if(f===0){ke(t).invalidFormat=!0,t._d=new Date(NaN);return}for(s=0;s<f;s++)o=0,a=!1,e=bb({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[s],Rb(e),vb(e)&&(a=!0),o+=ke(e).charsLeftOver,o+=ke(e).unusedTokens.length*10,ke(e).score=o,c?o<r&&(r=o,n=e):(r==null||o<r||a)&&(r=o,n=e,a&&(c=!0));Bi(t,n||e)}function W8(t){if(!t._d){var e=wb(t._i),n=e.day===void 0?e.date:e.day;t._a=WO([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Db(t)}}function G8(t){var e=new of(Nb(mA(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function mA(t){var e=t._i,n=t._f;return t._locale=t._locale||Zs(t._l),e===null||n===void 0&&e===""?im({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Lr(e)?new of(Nb(e)):(sf(e)?t._d=e:jr(n)?Y8(t):n?Rb(t):K8(t),vb(t)||(t._d=null),t))}function K8(t){var e=t._i;An(e)?t._d=new Date(te.now()):sf(e)?t._d=new Date(e.valueOf()):typeof e=="string"?H8(t):jr(e)?(t._a=WO(e.slice(0),function(n){return parseInt(n,10)}),Db(t)):Io(e)?W8(t):Qs(e)?t._d=new Date(e):te.createFromInputFallback(t)}function gA(t,e,n,r,s){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Io(t)&&yb(t)||jr(t)&&t.length===0)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=n,o._i=t,o._f=e,o._strict=r,G8(o)}function st(t,e,n,r){return gA(t,e,n,r,!1)}var Q8=wr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=st.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:im()}),X8=wr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=st.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:im()});function yA(t,e){var n,r;if(e.length===1&&jr(e[0])&&(e=e[0]),!e.length)return st();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function J8(){var t=[].slice.call(arguments,0);return yA("isBefore",t)}function Z8(){var t=[].slice.call(arguments,0);return yA("isAfter",t)}var eF=function(){return Date.now?Date.now():+new Date},Qc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tF(t){var e,n=!1,r,s=Qc.length;for(e in t)if(Ue(t,e)&&!(Mt.call(Qc,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<s;++r)if(t[Qc[r]]){if(n)return!1;parseFloat(t[Qc[r]])!==Le(t[Qc[r]])&&(n=!0)}return!0}function nF(){return this._isValid}function rF(){return Fr(NaN)}function hm(t){var e=wb(t),n=e.year||0,r=e.quarter||0,s=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,c=e.hour||0,f=e.minute||0,d=e.second||0,p=e.millisecond||0;this._isValid=tF(e),this._milliseconds=+p+d*1e3+f*6e4+c*1e3*60*60,this._days=+a+o*7,this._months=+s+r*3+n*12,this._data={},this._locale=Zs(),this._bubble()}function Sh(t){return t instanceof hm}function F1(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function sF(t,e,n){var r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0,a;for(a=0;a<r;a++)Le(t[a])!==Le(e[a])&&o++;return o+s}function vA(t,e){he(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+as(~~(n/60),2)+e+as(~~n%60,2)})}vA("Z",":");vA("ZZ","");ae("Z",um);ae("ZZ",um);Ze(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=jb(um,t)});var iF=/([\+\-]|\d\d)/gi;function jb(t,e){var n=(e||"").match(t),r,s,o;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(iF)||["-",0,0],o=+(s[1]*60)+Le(s[2]),o===0?0:s[0]==="+"?o:-o)}function Lb(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(Lr(t)||sf(t)?t.valueOf():st(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),te.updateOffset(n,!1),n):st(t).local()}function q1(t){return-Math.round(t._d.getTimezoneOffset())}te.updateOffset=function(){};function oF(t,e,n){var r=this._offset||0,s;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=jb(um,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(s=q1(this)),this._offset=t,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?SA(this,Fr(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:q1(this)}function aF(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function lF(t){return this.utcOffset(0,t)}function cF(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(q1(this),"m")),this}function uF(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=jb(O$,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function fF(t){return this.isValid()?(t=t?st(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function dF(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hF(){if(!An(this._isDSTShifted))return this._isDSTShifted;var t={},e;return bb(t,this),t=mA(t),t._a?(e=t._isUTC?fs(t._a):st(t._a),this._isDSTShifted=this.isValid()&&sF(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function pF(){return this.isValid()?!this._isUTC:!1}function mF(){return this.isValid()?this._isUTC:!1}function bA(){return this.isValid()?this._isUTC&&this._offset===0:!1}var gF=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,yF=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fr(t,e){var n=t,r=null,s,o,a;return Sh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Qs(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=gF.exec(t))?(s=r[1]==="-"?-1:1,n={y:0,d:Le(r[rs])*s,h:Le(r[Vt])*s,m:Le(r[Nr])*s,s:Le(r[Is])*s,ms:Le(F1(r[Do]*1e3))*s}):(r=yF.exec(t))?(s=r[1]==="-"?-1:1,n={y:wo(r[2],s),M:wo(r[3],s),w:wo(r[4],s),d:wo(r[5],s),h:wo(r[6],s),m:wo(r[7],s),s:wo(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=vF(st(n.from),st(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),o=new hm(n),Sh(t)&&Ue(t,"_locale")&&(o._locale=t._locale),Sh(t)&&Ue(t,"_isValid")&&(o._isValid=t._isValid),o}Fr.fn=hm.prototype;Fr.invalid=rF;function wo(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function gk(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function vF(t,e){var n;return t.isValid()&&e.isValid()?(e=Lb(e,t),t.isBefore(e)?n=gk(t,e):(n=gk(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function xA(t,e){return function(n,r){var s,o;return r!==null&&!isNaN(+r)&&(KO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),s=Fr(n,r),SA(this,s,t),this}}function SA(t,e,n,r){var s=e._milliseconds,o=F1(e._days),a=F1(e._months);t.isValid()&&(r=r??!0,a&&iA(t,Au(t,"Month")+a*n),o&&nA(t,"Date",Au(t,"Date")+o*n),s&&t._d.setTime(t._d.valueOf()+s*n),r&&te.updateOffset(t,o||a))}var bF=xA(1,"add"),xF=xA(-1,"subtract");function wA(t){return typeof t=="string"||t instanceof String}function SF(t){return Lr(t)||sf(t)||wA(t)||Qs(t)||TF(t)||wF(t)||t===null||t===void 0}function wF(t){var e=Io(t)&&!yb(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,o,a=r.length;for(s=0;s<a;s+=1)o=r[s],n=n||Ue(t,o);return e&&n}function TF(t){var e=jr(t),n=!1;return e&&(n=t.filter(function(r){return!Qs(r)&&wA(t)}).length===0),e&&n}function CF(t){var e=Io(t)&&!yb(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,o;for(s=0;s<r.length;s+=1)o=r[s],n=n||Ue(t,o);return e&&n}function _F(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function kF(t,e){arguments.length===1&&(arguments[0]?SF(arguments[0])?(t=arguments[0],e=void 0):CF(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||st(),r=Lb(n,this).startOf("day"),s=te.calendarFormat(this,r)||"sameElse",o=e&&(ds(e[s])?e[s].call(this,n):e[s]);return this.format(o||this.localeData().calendar(s,this,st(n)))}function EF(){return new of(this)}function MF(t,e){var n=Lr(t)?t:st(t);return this.isValid()&&n.isValid()?(e=Tr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function OF(t,e){var n=Lr(t)?t:st(t);return this.isValid()&&n.isValid()?(e=Tr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function AF(t,e,n,r){var s=Lr(t)?t:st(t),o=Lr(e)?e:st(e);return this.isValid()&&s.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(o,n):!this.isAfter(o,n))):!1}function NF(t,e){var n=Lr(t)?t:st(t),r;return this.isValid()&&n.isValid()?(e=Tr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function DF(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function RF(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function jF(t,e,n){var r,s,o;if(!this.isValid())return NaN;if(r=Lb(t,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=Tr(e),e){case"year":o=wh(this,r)/12;break;case"month":o=wh(this,r);break;case"quarter":o=wh(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-s)/864e5;break;case"week":o=(this-r-s)/6048e5;break;default:o=this-r}return n?o:yr(o)}function wh(t,e){if(t.date()<e.date())return-wh(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),s,o;return e-r<0?(s=t.clone().add(n-1,"months"),o=(e-r)/(r-s)):(s=t.clone().add(n+1,"months"),o=(e-r)/(s-r)),-(n+o)||0}te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function LF(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function PF(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?xh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ds(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",xh(n,"Z")):xh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function BF(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,s,o;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(n+r+s+o)}function zF(t){t||(t=this.isUtc()?te.defaultFormatUtc:te.defaultFormat);var e=xh(this,t);return this.localeData().postformat(e)}function VF(t,e){return this.isValid()&&(Lr(t)&&t.isValid()||st(t).isValid())?Fr({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function IF(t){return this.from(st(),t)}function UF(t,e){return this.isValid()&&(Lr(t)&&t.isValid()||st(t).isValid())?Fr({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function HF(t){return this.to(st(),t)}function TA(t){var e;return t===void 0?this._locale._abbr:(e=Zs(t),e!=null&&(this._locale=e),this)}var CA=wr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function _A(){return this._locale}var Gh=1e3,ml=60*Gh,Kh=60*ml,kA=(365*400+97)*24*Kh;function gl(t,e){return(t%e+e)%e}function EA(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-kA:new Date(t,e,n).valueOf()}function MA(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-kA:Date.UTC(t,e,n)}function $F(t){var e,n;if(t=Tr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?MA:EA,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=gl(e+(this._isUTC?0:this.utcOffset()*ml),Kh);break;case"minute":e=this._d.valueOf(),e-=gl(e,ml);break;case"second":e=this._d.valueOf(),e-=gl(e,Gh);break}return this._d.setTime(e),te.updateOffset(this,!0),this}function FF(t){var e,n;if(t=Tr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?MA:EA,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Kh-gl(e+(this._isUTC?0:this.utcOffset()*ml),Kh)-1;break;case"minute":e=this._d.valueOf(),e+=ml-gl(e,ml)-1;break;case"second":e=this._d.valueOf(),e+=Gh-gl(e,Gh)-1;break}return this._d.setTime(e),te.updateOffset(this,!0),this}function qF(){return this._d.valueOf()-(this._offset||0)*6e4}function YF(){return Math.floor(this.valueOf()/1e3)}function WF(){return new Date(this.valueOf())}function GF(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function KF(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function QF(){return this.isValid()?this.toISOString():null}function XF(){return vb(this)}function JF(){return Bi({},ke(this))}function ZF(){return ke(this).overflow}function e7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}he("N",0,0,"eraAbbr");he("NN",0,0,"eraAbbr");he("NNN",0,0,"eraAbbr");he("NNNN",0,0,"eraName");he("NNNNN",0,0,"eraNarrow");he("y",["y",1],"yo","eraYear");he("y",["yy",2],0,"eraYear");he("y",["yyy",3],0,"eraYear");he("y",["yyyy",4],0,"eraYear");ae("N",Pb);ae("NN",Pb);ae("NNN",Pb);ae("NNNN",f7);ae("NNNNN",d7);Ze(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var s=n._locale.erasParse(t,r,n._strict);s?ke(n).era=s:ke(n).invalidEra=t});ae("y",Vl);ae("yy",Vl);ae("yyy",Vl);ae("yyyy",Vl);ae("yo",h7);Ze(["y","yy","yyy","yyyy"],pn);Ze(["yo"],function(t,e,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[pn]=n._locale.eraYearOrdinalParse(t,s):e[pn]=parseInt(t,10)});function t7(t,e){var n,r,s,o=this._eras||Zs("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":s=te(o[n].since).startOf("day"),o[n].since=s.valueOf();break}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=te(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf();break}}return o}function n7(t,e,n){var r,s,o=this.eras(),a,c,f;for(t=t.toUpperCase(),r=0,s=o.length;r<s;++r)if(a=o[r].name.toUpperCase(),c=o[r].abbr.toUpperCase(),f=o[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(c===t)return o[r];break;case"NNNN":if(a===t)return o[r];break;case"NNNNN":if(f===t)return o[r];break}else if([a,c,f].indexOf(t)>=0)return o[r]}function r7(t,e){var n=t.since<=t.until?1:-1;return e===void 0?te(t.since).year():te(t.since).year()+(e-t.offset)*n}function s7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function i7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function o7(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function a7(){var t,e,n,r,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(n=s[t].since<=s[t].until?1:-1,r=this.clone().startOf("day").valueOf(),s[t].since<=r&&r<=s[t].until||s[t].until<=r&&r<=s[t].since)return(this.year()-te(s[t].since).year())*n+s[t].offset;return this.year()}function l7(t){return Ue(this,"_erasNameRegex")||Bb.call(this),t?this._erasNameRegex:this._erasRegex}function c7(t){return Ue(this,"_erasAbbrRegex")||Bb.call(this),t?this._erasAbbrRegex:this._erasRegex}function u7(t){return Ue(this,"_erasNarrowRegex")||Bb.call(this),t?this._erasNarrowRegex:this._erasRegex}function Pb(t,e){return e.erasAbbrRegex(t)}function f7(t,e){return e.erasNameRegex(t)}function d7(t,e){return e.erasNarrowRegex(t)}function h7(t,e){return e._eraYearOrdinalRegex||Vl}function Bb(){var t=[],e=[],n=[],r=[],s,o,a,c,f,d=this.eras();for(s=0,o=d.length;s<o;++s)a=Fs(d[s].name),c=Fs(d[s].abbr),f=Fs(d[s].narrow),e.push(a),t.push(c),n.push(f),r.push(a),r.push(c),r.push(f);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}he(0,["gg",2],0,function(){return this.weekYear()%100});he(0,["GG",2],0,function(){return this.isoWeekYear()%100});function pm(t,e){he(0,[t,t.length],0,e)}pm("gggg","weekYear");pm("ggggg","weekYear");pm("GGGG","isoWeekYear");pm("GGGGG","isoWeekYear");ae("G",cm);ae("g",cm);ae("GG",it,Jn);ae("gg",it,Jn);ae("GGGG",Cb,Tb);ae("gggg",Cb,Tb);ae("GGGGG",lm,om);ae("ggggg",lm,om);lf(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Le(t)});lf(["gg","GG"],function(t,e,n,r){e[r]=te.parseTwoDigitYear(t)});function p7(t){return OA.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function m7(t){return OA.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function g7(){return qs(this.year(),1,4)}function y7(){return qs(this.isoWeekYear(),1,4)}function v7(){var t=this.localeData()._week;return qs(this.year(),t.dow,t.doy)}function b7(){var t=this.localeData()._week;return qs(this.weekYear(),t.dow,t.doy)}function OA(t,e,n,r,s){var o;return t==null?Du(this,r,s).year:(o=qs(t,r,s),e>o&&(e=o),x7.call(this,t,e,n,r,s))}function x7(t,e,n,r,s){var o=lA(t,e,n,r,s),a=Nu(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}he("Q",0,"Qo","quarter");ae("Q",XO);Ze("Q",function(t,e){e[Vs]=(Le(t)-1)*3});function S7(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}he("D",["DD",2],"Do","date");ae("D",it,Il);ae("DD",it,Jn);ae("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ze(["D","DD"],rs);Ze("Do",function(t,e){e[rs]=Le(t.match(it)[0])});var AA=Ul("Date",!0);he("DDD",["DDDD",3],"DDDo","dayOfYear");ae("DDD",am);ae("DDDD",JO);Ze(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Le(t)});function w7(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}he("m",["mm",2],0,"minute");ae("m",it,_b);ae("mm",it,Jn);Ze(["m","mm"],Nr);var T7=Ul("Minutes",!1);he("s",["ss",2],0,"second");ae("s",it,_b);ae("ss",it,Jn);Ze(["s","ss"],Is);var C7=Ul("Seconds",!1);he("S",0,0,function(){return~~(this.millisecond()/100)});he(0,["SS",2],0,function(){return~~(this.millisecond()/10)});he(0,["SSS",3],0,"millisecond");he(0,["SSSS",4],0,function(){return this.millisecond()*10});he(0,["SSSSS",5],0,function(){return this.millisecond()*100});he(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});he(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});he(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});he(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ae("S",am,XO);ae("SS",am,Jn);ae("SSS",am,JO);var zi,NA;for(zi="SSSS";zi.length<=9;zi+="S")ae(zi,Vl);function _7(t,e){e[Do]=Le(("0."+t)*1e3)}for(zi="S";zi.length<=9;zi+="S")Ze(zi,_7);NA=Ul("Milliseconds",!1);he("z",0,0,"zoneAbbr");he("zz",0,0,"zoneName");function k7(){return this._isUTC?"UTC":""}function E7(){return this._isUTC?"Coordinated Universal Time":""}var ee=of.prototype;ee.add=bF;ee.calendar=kF;ee.clone=EF;ee.diff=jF;ee.endOf=FF;ee.format=zF;ee.from=VF;ee.fromNow=IF;ee.to=UF;ee.toNow=HF;ee.get=B$;ee.invalidAt=ZF;ee.isAfter=MF;ee.isBefore=OF;ee.isBetween=AF;ee.isSame=NF;ee.isSameOrAfter=DF;ee.isSameOrBefore=RF;ee.isValid=XF;ee.lang=CA;ee.locale=TA;ee.localeData=_A;ee.max=X8;ee.min=Q8;ee.parsingFlags=JF;ee.set=z$;ee.startOf=$F;ee.subtract=xF;ee.toArray=GF;ee.toObject=KF;ee.toDate=WF;ee.toISOString=PF;ee.inspect=BF;typeof Symbol<"u"&&Symbol.for!=null&&(ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ee.toJSON=QF;ee.toString=LF;ee.unix=YF;ee.valueOf=qF;ee.creationData=e7;ee.eraName=s7;ee.eraNarrow=i7;ee.eraAbbr=o7;ee.eraYear=a7;ee.year=tA;ee.isLeapYear=P$;ee.weekYear=p7;ee.isoWeekYear=m7;ee.quarter=ee.quarters=S7;ee.month=oA;ee.daysInMonth=W$;ee.week=ee.weeks=t8;ee.isoWeek=ee.isoWeeks=n8;ee.weeksInYear=v7;ee.weeksInWeekYear=b7;ee.isoWeeksInYear=g7;ee.isoWeeksInISOWeekYear=y7;ee.date=AA;ee.day=ee.days=m8;ee.weekday=g8;ee.isoWeekday=y8;ee.dayOfYear=w7;ee.hour=ee.hours=C8;ee.minute=ee.minutes=T7;ee.second=ee.seconds=C7;ee.millisecond=ee.milliseconds=NA;ee.utcOffset=oF;ee.utc=lF;ee.local=cF;ee.parseZone=uF;ee.hasAlignedHourOffset=fF;ee.isDST=dF;ee.isLocal=pF;ee.isUtcOffset=mF;ee.isUtc=bA;ee.isUTC=bA;ee.zoneAbbr=k7;ee.zoneName=E7;ee.dates=wr("dates accessor is deprecated. Use date instead.",AA);ee.months=wr("months accessor is deprecated. Use month instead",oA);ee.years=wr("years accessor is deprecated. Use year instead",tA);ee.zone=wr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",aF);ee.isDSTShifted=wr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hF);function M7(t){return st(t*1e3)}function O7(){return st.apply(null,arguments).parseZone()}function DA(t){return t}var He=xb.prototype;He.calendar=p$;He.longDateFormat=v$;He.invalidDate=x$;He.ordinal=T$;He.preparse=DA;He.postformat=DA;He.relativeTime=_$;He.pastFuture=k$;He.set=d$;He.eras=t7;He.erasParse=n7;He.erasConvertYear=r7;He.erasAbbrRegex=c7;He.erasNameRegex=l7;He.erasNarrowRegex=u7;He.months=$$;He.monthsShort=F$;He.monthsParse=Y$;He.monthsRegex=K$;He.monthsShortRegex=G$;He.week=X$;He.firstDayOfYear=e8;He.firstDayOfWeek=Z$;He.weekdays=u8;He.weekdaysMin=d8;He.weekdaysShort=f8;He.weekdaysParse=p8;He.weekdaysRegex=v8;He.weekdaysShortRegex=b8;He.weekdaysMinRegex=x8;He.isPM=w8;He.meridiem=_8;function Qh(t,e,n,r){var s=Zs(),o=fs().set(r,e);return s[n](o,t)}function RA(t,e,n){if(Qs(t)&&(e=t,t=void 0),t=t||"",e!=null)return Qh(t,e,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Qh(t,r,n,"month");return s}function zb(t,e,n,r){typeof t=="boolean"?(Qs(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Qs(e)&&(n=e,e=void 0),e=e||"");var s=Zs(),o=t?s._week.dow:0,a,c=[];if(n!=null)return Qh(e,(n+o)%7,r,"day");for(a=0;a<7;a++)c[a]=Qh(e,(a+o)%7,r,"day");return c}function A7(t,e){return RA(t,e,"months")}function N7(t,e){return RA(t,e,"monthsShort")}function D7(t,e,n){return zb(t,e,n,"weekdays")}function R7(t,e,n){return zb(t,e,n,"weekdaysShort")}function j7(t,e,n){return zb(t,e,n,"weekdaysMin")}$i("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Le(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});te.lang=wr("moment.lang is deprecated. Use moment.locale instead.",$i);te.langData=wr("moment.langData is deprecated. Use moment.localeData instead.",Zs);var As=Math.abs;function L7(){var t=this._data;return this._milliseconds=As(this._milliseconds),this._days=As(this._days),this._months=As(this._months),t.milliseconds=As(t.milliseconds),t.seconds=As(t.seconds),t.minutes=As(t.minutes),t.hours=As(t.hours),t.months=As(t.months),t.years=As(t.years),this}function jA(t,e,n,r){var s=Fr(e,n);return t._milliseconds+=r*s._milliseconds,t._days+=r*s._days,t._months+=r*s._months,t._bubble()}function P7(t,e){return jA(this,t,e,1)}function B7(t,e){return jA(this,t,e,-1)}function yk(t){return t<0?Math.floor(t):Math.ceil(t)}function z7(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,s,o,a,c,f;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=yk(Y1(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,s=yr(t/1e3),r.seconds=s%60,o=yr(s/60),r.minutes=o%60,a=yr(o/60),r.hours=a%24,e+=yr(a/24),f=yr(LA(e)),n+=f,e-=yk(Y1(f)),c=yr(n/12),n%=12,r.days=e,r.months=n,r.years=c,this}function LA(t){return t*4800/146097}function Y1(t){return t*146097/4800}function V7(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Tr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+LA(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Y1(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function ei(t){return function(){return this.as(t)}}var PA=ei("ms"),I7=ei("s"),U7=ei("m"),H7=ei("h"),$7=ei("d"),F7=ei("w"),q7=ei("M"),Y7=ei("Q"),W7=ei("y"),G7=PA;function K7(){return Fr(this)}function Q7(t){return t=Tr(t),this.isValid()?this[t+"s"]():NaN}function sa(t){return function(){return this.isValid()?this._data[t]:NaN}}var X7=sa("milliseconds"),J7=sa("seconds"),Z7=sa("minutes"),e9=sa("hours"),t9=sa("days"),n9=sa("months"),r9=sa("years");function s9(){return yr(this.days()/7)}var Ps=Math.round,al={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function i9(t,e,n,r,s){return s.relativeTime(e||1,!!n,t,r)}function o9(t,e,n,r){var s=Fr(t).abs(),o=Ps(s.as("s")),a=Ps(s.as("m")),c=Ps(s.as("h")),f=Ps(s.as("d")),d=Ps(s.as("M")),p=Ps(s.as("w")),m=Ps(s.as("y")),y=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||c<=1&&["h"]||c<n.h&&["hh",c]||f<=1&&["d"]||f<n.d&&["dd",f];return n.w!=null&&(y=y||p<=1&&["w"]||p<n.w&&["ww",p]),y=y||d<=1&&["M"]||d<n.M&&["MM",d]||m<=1&&["y"]||["yy",m],y[2]=e,y[3]=+t>0,y[4]=r,i9.apply(null,y)}function a9(t){return t===void 0?Ps:typeof t=="function"?(Ps=t,!0):!1}function l9(t,e){return al[t]===void 0?!1:e===void 0?al[t]:(al[t]=e,t==="s"&&(al.ss=e-1),!0)}function c9(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=al,s,o;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},al,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),o=o9(this,!n,r,s),n&&(o=s.pastFuture(+this,o)),s.postformat(o)}var x0=Math.abs;function Wa(t){return(t>0)-(t<0)||+t}function mm(){if(!this.isValid())return this.localeData().invalidDate();var t=x0(this._milliseconds)/1e3,e=x0(this._days),n=x0(this._months),r,s,o,a,c=this.asSeconds(),f,d,p,m;return c?(r=yr(t/60),s=yr(r/60),t%=60,r%=60,o=yr(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",f=c<0?"-":"",d=Wa(this._months)!==Wa(c)?"-":"",p=Wa(this._days)!==Wa(c)?"-":"",m=Wa(this._milliseconds)!==Wa(c)?"-":"",f+"P"+(o?d+o+"Y":"")+(n?d+n+"M":"")+(e?p+e+"D":"")+(s||r||t?"T":"")+(s?m+s+"H":"")+(r?m+r+"M":"")+(t?m+a+"S":"")):"P0D"}var Ve=hm.prototype;Ve.isValid=nF;Ve.abs=L7;Ve.add=P7;Ve.subtract=B7;Ve.as=V7;Ve.asMilliseconds=PA;Ve.asSeconds=I7;Ve.asMinutes=U7;Ve.asHours=H7;Ve.asDays=$7;Ve.asWeeks=F7;Ve.asMonths=q7;Ve.asQuarters=Y7;Ve.asYears=W7;Ve.valueOf=G7;Ve._bubble=z7;Ve.clone=K7;Ve.get=Q7;Ve.milliseconds=X7;Ve.seconds=J7;Ve.minutes=Z7;Ve.hours=e9;Ve.days=t9;Ve.weeks=s9;Ve.months=n9;Ve.years=r9;Ve.humanize=c9;Ve.toISOString=mm;Ve.toString=mm;Ve.toJSON=mm;Ve.locale=TA;Ve.localeData=_A;Ve.toIsoString=wr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",mm);Ve.lang=CA;he("X",0,0,"unix");he("x",0,0,"valueOf");ae("x",cm);ae("X",A$);Ze("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});Ze("x",function(t,e,n){n._d=new Date(Le(t))});//! moment.js
te.version="2.30.1";u$(st);te.fn=ee;te.min=J8;te.max=Z8;te.now=eF;te.utc=fs;te.unix=M7;te.months=A7;te.isDate=sf;te.locale=$i;te.invalid=im;te.duration=Fr;te.isMoment=Lr;te.weekdays=D7;te.parseZone=O7;te.localeData=Zs;te.isDuration=Sh;te.monthsShort=N7;te.weekdaysMin=j7;te.defineLocale=Ab;te.updateLocale=O8;te.locales=A8;te.weekdaysShort=R7;te.normalizeUnits=Tr;te.relativeTimeRounding=a9;te.relativeTimeThreshold=l9;te.calendarFormat=_F;te.prototype=ee;te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const u9="_calendarWrapper_1etwz_1",f9="_simpleWeekGrid_1etwz_23",d9="_dayCard_1etwz_35",h9="_dayHeader_1etwz_53",p9="_dayEvents_1etwz_81",m9="_eventCard_1etwz_93",g9="_eventType_1etwz_133",y9="_daysLeft_1etwz_145",Ei={calendarWrapper:u9,simpleWeekGrid:f9,dayCard:d9,dayHeader:h9,dayEvents:p9,eventCard:m9,eventType:g9,daysLeft:y9};function v9({events:t}){const e=te(),n=["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],r=[...t].sort((s,o)=>te(s.start).diff(te(o.start))).filter(s=>te(s.start).diff(e,"days")>=0);return x.jsx("div",{className:Ei.calendarWrapper,children:x.jsx("div",{className:Ei.simpleWeekGrid,children:r.map(s=>{const o=te(s.start),a=o.diff(e,"days");return x.jsxs("div",{className:Ei.dayCard,children:[x.jsxs("div",{className:Ei.dayHeader,children:[n[o.day()]," ",o.format("D/M")]}),x.jsx("div",{className:Ei.dayEvents,children:x.jsxs("div",{className:Ei.eventCard,children:[x.jsx("strong",{children:s.subject}),x.jsxs("div",{className:Ei.eventType,children:[s.type," (",o.format("HH:mm"),"-",te(s.end).format("HH:mm"),")"]}),x.jsx("div",{className:Ei.daysLeft,children:a===0?"Idag":`${a} dagar kvar`})]})})]},s.id)})})})}const b9="/calender/task";async function x9(){try{return(await qe.get(`${b9}`)).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta tasks"):new Error("Kunde inte n servern")}}const S9="_containerWrapper_1i4d4_1",w9={containerWrapper:S9};function T9(t){return t.map(e=>{const n=e.deadline.replace("Z",""),r=te(n).toDate(),s=te(n).add(1,"hour").toDate();return{id:e.id,subject:e.subject||"Ingen rubrik",type:e.type||"Oknt",start:r,end:s,status:e.pastDue?"overdue":e.daysLeft<=0?"completed":"pending"}})}function C9(){const[t,e]=E.useState([]),n=E.useCallback(async()=>{try{const r=await x9();e(T9(r)),console.log("Uppgifter hmtade:",r)}catch(r){console.error("Fel vid hmtning av uppgifter:",r),e([])}},[]);return E.useEffect(()=>{n()},[n]),x.jsxs("div",{className:w9.containerWrapper,children:[x.jsx(v9,{events:t}),x.jsx("div",{})]})}function _9(){return x.jsx(x.Fragment,{children:x.jsx("div",{children:x.jsx(qO,{title:"",hint:""})})})}const cf="/notes";async function k9(t){try{return(await qe.post(`${cf}`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte lgga till note"):new Error("Kunde inte n servern")}}async function E9(t){try{return(await qe.get(`${cf}/filter`,{params:t})).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta notes"):new Error("Kunde inte n servern")}}async function M9(t){try{return(await qe.get(`${cf}/${t}`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta note"):new Error("Kunde inte n servern")}}async function O9(t){try{return(await qe.delete(`${cf}/${t}`)).data}catch(e){if(e.response)throw new Error(e.response.data?.message||"Kunde inte radera note")}throw new Error("Kunde inte n servern")}async function A9(t,e){try{return(await qe.put(`${cf}/${e}`,t)).data}catch(n){if(n.response)throw new Error(n.response.data?.message||"Kunde inte redigera note")}throw new Error("Kunde inte n servern")}async function N9(t,e){try{return(await qe.put(`/notes/${t}/optimize`,e)).data}catch(n){throw n.response?new Error(n.response.data?.message||"Kunde inte optimera anteckningen"):new Error("Kunde inte n servern")}}async function D9(t){try{return(await qe.post(`/quiz/note/${t}/generate`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte generera quiz fr anteckningen"):new Error("Kunde inte n servern")}}function R9(t){const e=t?Object.fromEntries(Object.entries(t).filter(([n,r])=>r!==""&&r!==void 0)):void 0;return Hr({queryKey:["notes",e],queryFn:()=>E9(e)})}const j9="_buttonContainer_m6nfx_1",L9="_selected_m6nfx_45",P9="_roundCheckbox_m6nfx_53",B9="_subjectBanner_m6nfx_135",z9="_subjectCircle_m6nfx_161",V9="_notePreview_m6nfx_173",I9="_date_m6nfx_193",U9="_notesList_m6nfx_207",H9="_divider_m6nfx_225",$9="_headerTitle_m6nfx_255",F9="_notesListWrapper_m6nfx_283",q9="_iconButton_m6nfx_349",Y9="_selectAllRow_m6nfx_379",Ft={buttonContainer:j9,selected:L9,roundCheckbox:P9,subjectBanner:B9,subjectCircle:z9,notePreview:V9,date:I9,notesList:U9,divider:H9,headerTitle:$9,notesListWrapper:F9,iconButton:q9,selectAllRow:Y9};function W9(t){if(!t)return"-";const e=new Date(t),n=e.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}),r=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${n}, ${r}`}function G9(t){if(!t)return"";const r=new DOMParser().parseFromString(t,"text/html").body,s=[];r.childNodes.forEach(f=>{if(f.nodeType===Node.ELEMENT_NODE){const d=f;if(/H[1-6]/.test(d.tagName)){const p=d.textContent?.trim()||"";p&&s.push(`<strong>${p}</strong>`)}else{const p=d.textContent?.trim()||"";p&&s.push(p)}}else if(f.nodeType===Node.TEXT_NODE){const d=f.textContent?.trim()||"";d&&s.push(d)}});const o=s.join(" "),a=o.split(/\s+/);return a.length>10?a.slice(0,6).join(" ")+"":o}const S0={};function uf(t){if(S0[t])return S0[t];let e=0;for(let c=0;c<t.length;c++)e=t.charCodeAt(c)+((e<<5)-e);let n=Math.abs(e)%400;(n>=0&&n<=20||n>=400&&n<=360)&&(n=(n+30)%360);const r=100+Math.abs(e)%100,s=30+Math.abs(e)%5,o=.3+Math.abs(e)%30/60,a=`hsla(${n}, ${r}%, ${s}%, ${o})`;return S0[t]=a,a}function K9({filter:t,selectedCategory:e,onSelectNote:n}){const{data:r,isLoading:s,error:o}=R9(t),[a,c]=E.useState(new Set),f=e||t?.subject||"Alla",d=S=>{const w=new Set(a);w.has(S)?w.delete(S):w.add(S),c(w)},p=()=>{r&&(a.size===r.length?c(new Set):c(new Set(r.map(S=>S.id))))},m=()=>{alert("Ta bort dessa IDs: "+Array.from(a).join(", ")),c(new Set)},y=()=>{alert("Flytta dessa IDs: "+Array.from(a).join(", "))};if(s)return x.jsx("p",{children:"Laddar anteckningar..."});if(o)return x.jsx("p",{className:Ft.error,children:o.message});const b=r&&a.size===r.length;return x.jsxs("div",{className:Ft.notesListWrapper,children:[x.jsx("h2",{className:Ft.headerTitle,children:f}),x.jsxs("div",{className:Ft.notesList,children:[r&&r.length>0&&x.jsxs("div",{className:`${Ft.buttonContainer} ${Ft.selectAllRow}`,children:[x.jsx("div",{children:x.jsx("input",{type:"checkbox",checked:b,onChange:p,className:Ft.roundCheckbox})}),x.jsx("div",{className:Ft.notePreview,children:x.jsx("strong",{children:"Markera alla"})}),x.jsx("div",{style:{display:"flex",gap:"8px"},children:a.size>0&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:m,className:Ft.iconButton,children:x.jsx(gI,{size:18})}),x.jsx("button",{onClick:y,className:Ft.iconButton,children:x.jsx(gV,{size:18})})]})})]}),r?.map((S,w)=>x.jsxs("div",{style:{width:"100%"},children:[x.jsxs("div",{className:`${Ft.buttonContainer} ${a.has(S.id)?Ft.selected:""}`,style:{cursor:n?"pointer":"default"},onClick:()=>n?.(S.id),children:[x.jsx("div",{onClick:T=>T.stopPropagation(),children:x.jsx("input",{type:"checkbox",checked:a.has(S.id),onChange:()=>d(S.id),className:Ft.roundCheckbox})}),x.jsx("div",{className:Ft.notePreview,dangerouslySetInnerHTML:{__html:G9(S.note)}}),x.jsx("p",{className:Ft.date,children:W9(S.dateTime)}),S.subject&&x.jsxs("div",{className:Ft.subjectBanner,children:[x.jsx("span",{className:Ft.subjectCircle,style:{backgroundColor:uf(S.subject)}}),S.subject]})]}),w<r.length-0&&x.jsx("div",{className:Ft.divider})]},S.id))]})]})}const Q9="_wrapper_okjnv_1",X9="_title_okjnv_21",J9="_container_okjnv_39",Z9="_button_okjnv_69",eq="_selected_okjnv_123",tq="_unselected_okjnv_143",nq="_colorCircle_okjnv_167",To={wrapper:Q9,title:X9,container:J9,button:Z9,selected:eq,unselected:tq,colorCircle:nq};function ju({title:t,options:e,selected:n,onSelect:r,collapsed:s=!1}){const o=s?n?[n]:[]:e||[];return x.jsxs("div",{className:To.wrapper,children:[t&&x.jsx("h4",{className:To.title,children:t}),x.jsx("div",{className:To.container,children:o.map(a=>{const c=uf(a),f=n===a,d=s?{maxWidth:"fit-content",border:"1px solid #ffffffff",backgroundColor:"rgba(255, 255, 255, 1)",color:"black",borderRadius:"50px",padding:"12px 24px",display:"inline-flex",alignItems:"center",gap:"0.5rem",cursor:"default",position:"absolute",left:"-20px",top:"-10px"}:{};return x.jsxs("button",{onClick:()=>!s&&r(a),className:`${To.button} ${f?To.selected:To.unselected}`,style:s?d:void 0,disabled:s,children:[x.jsx("span",{className:To.colorCircle,style:{backgroundColor:c}}),a]},a)})})]})}var w0={exports:{}},T0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk;function rq(){if(vk)return T0;vk=1;var t=Al();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function c(m,y){var b=y(),S=r({inst:{value:b,getSnapshot:y}}),w=S[0].inst,T=S[1];return o(function(){w.value=b,w.getSnapshot=y,f(w)&&T({inst:w})},[m,b,y]),s(function(){return f(w)&&T({inst:w}),m(function(){f(w)&&T({inst:w})})},[m]),a(b),b}function f(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!n(m,b)}catch{return!0}}function d(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return T0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,T0}var bk;function BA(){return bk||(bk=1,w0.exports=rq()),w0.exports}var zA=BA();function en(t){this.content=t}en.prototype={constructor:en,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),o=r.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new en(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new en(n)},addToStart:function(t,e){return new en([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new en(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),o=r.find(t);return s.splice(o==-1?s.length:o,0,e,n),new en(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=en.from(t),t.size?new en(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=en.from(t),t.size?new en(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=en.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};en.from=function(t){if(t instanceof en)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new en(e)};function VA(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),o=e.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let a=0;s.text[a]==o.text[a];a++)n++;return n}if(s.content.size||o.content.size){let a=VA(s.content,o.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function IA(t,e,n,r){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let a=t.child(--s),c=e.child(--o),f=a.nodeSize;if(a==c){n-=f,r-=f;continue}if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let d=0,p=Math.min(a.text.length,c.text.length);for(;d<p&&a.text[a.text.length-d-1]==c.text[c.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let d=IA(a.content,c.content,n-1,r-1);if(d)return d}n-=f,r-=f}}class X{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,o){for(let a=0,c=0;c<n;a++){let f=this.content[a],d=c+f.nodeSize;if(d>e&&r(f,s+c,o||null,a)!==!1&&f.content.size){let p=c+1;f.nodesBetween(Math.max(0,e-p),Math.min(f.content.size,n-p),r,s+p)}c=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let o="",a=!0;return this.nodesBetween(e,n,(c,f)=>{let d=c.isText?c.text.slice(Math.max(e,f)-f,n-f):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&d||c.isTextblock)&&r&&(a?a=!1:o+=r),o+=d},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new X(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let o=0,a=0;a<n;o++){let c=this.content[o],f=a+c.nodeSize;f>e&&((a<e||f>n)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,n-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,n-a-1))),r.push(c),s+=c.nodeSize),a=f}return new X(r,s)}cutByIndex(e,n){return e==n?X.empty:e==0&&n==this.content.length?this:new X(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new X(s,o)}addToStart(e){return new X([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new X(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return VA(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return IA(this,e,n,r)}findIndex(e){if(e==0)return Yd(0,e);if(e==this.size)return Yd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e?Yd(n+1,o):Yd(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return X.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new X(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return X.empty;let n,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new X(n||e,r)}static from(e){if(!e)return X.empty;if(e instanceof X)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new X([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}X.empty=new X([],0);const C0={index:0,offset:0};function Yd(t,e){return C0.index=t,C0.offset=e,C0}function Xh(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Xh(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Xh(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let tt=class W1{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xh(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return W1.none;if(e instanceof W1)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};tt.none=[];class Jh extends Error{}class ie{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=HA(this.content,e+this.openStart,n);return r&&new ie(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ie(UA(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ie.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ie(X.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new ie(e,r,s)}}ie.empty=new ie(X.empty,0,0);function UA(t,e,n){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:c}=t.findIndex(n);if(s==e||o.isText){if(c!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(UA(o.content,e-s-1,n-s-1)))}function HA(t,e,n,r){let{index:s,offset:o}=t.findIndex(e),a=t.maybeChild(s);if(o==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=HA(a.content,e-o-1,n,a);return c&&t.replaceChild(s,a.copy(c))}function sq(t,e,n){if(n.openStart>t.depth)throw new Jh("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Jh("Inconsistent open depths");return $A(t,e,n,0)}function $A(t,e,n,r){let s=t.index(r),o=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=$A(t,e,n,r+1);return o.copy(o.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,c=a.content;return Ho(a,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=iq(n,t);return Ho(o,qA(t,a,c,e,r))}else return Ho(o,Zh(t,e,r))}function FA(t,e){if(!e.type.compatibleContent(t.type))throw new Jh("Cannot join "+e.type.name+" onto "+t.type.name)}function G1(t,e,n){let r=t.node(n);return FA(r,e.node(n)),r}function Uo(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function cu(t,e,n,r){let s=(e||t).node(n),o=0,a=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Uo(t.nodeAfter,r),o++));for(let c=o;c<a;c++)Uo(s.child(c),r);e&&e.depth==n&&e.textOffset&&Uo(e.nodeBefore,r)}function Ho(t,e){return t.type.checkContent(e),t.copy(e)}function qA(t,e,n,r,s){let o=t.depth>s&&G1(t,e,s+1),a=r.depth>s&&G1(n,r,s+1),c=[];return cu(null,t,s,c),o&&a&&e.index(s)==n.index(s)?(FA(o,a),Uo(Ho(o,qA(t,e,n,r,s+1)),c)):(o&&Uo(Ho(o,Zh(t,e,s+1)),c),cu(e,n,s,c),a&&Uo(Ho(a,Zh(n,r,s+1)),c)),cu(r,null,s,c),new X(c)}function Zh(t,e,n){let r=[];if(cu(null,t,n,r),t.depth>n){let s=G1(t,e,n+1);Uo(Ho(s,Zh(t,e,n+1)),r)}return cu(e,null,n,r),new X(r)}function iq(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(X.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Lu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return tt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!s||!o[a].isInSet(s.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new ep(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let a=e;;){let{index:c,offset:f}=a.content.findIndex(o),d=o-f;if(r.push(a,c,s+f),!d||(a=a.child(c),a.isText))break;o=d-1,s+=f+1}return new Lu(n,r,o)}static resolveCached(e,n){let r=xk.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else xk.set(e,r=new oq);let s=r.elts[r.i]=Lu.resolve(e,n);return r.i=(r.i+1)%aq,s}}class oq{constructor(){this.elts=[],this.i=0}}const aq=12,xk=new WeakMap;class ep{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const lq=Object.create(null);let Fi=class K1{constructor(e,n,r,s=tt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||X.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Xh(this.attrs,n||e.defaultAttrs||lq)&&tt.sameSet(this.marks,r||tt.none)}copy(e=null){return e==this.content?this:new K1(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new K1(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ie.empty;let s=this.resolve(e),o=this.resolve(n),a=r?0:s.sharedDepth(n),c=s.start(a),d=s.node(a).content.cut(s.pos-c,o.pos-c);return new ie(d,s.depth-a,o.depth-a)}replace(e,n,r){return sq(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Lu.resolveCached(this,e)}resolveNoCache(e){return Lu.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),YA(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=X.empty,s=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,o),c=a&&a.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let f=s;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=tt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!tt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=X.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,r);return o.type.checkAttrs(o.attrs),o}};Fi.prototype.text=void 0;class tp extends Fi{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):YA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new tp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new tp(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function YA(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Zo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new cq(e,n);if(r.next==null)return Zo.empty;let s=WA(r);r.next&&r.err("Unexpected trailing text");let o=gq(mq(s));return yq(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function o(a,c){let f=a.matchFragment(e,r);if(f&&(!n||f.validEnd))return X.from(c.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:p,next:m}=a.next[d];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=o(m,c.concat(p));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let a=[];for(let c=s;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:c,next:f}=o.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||f.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}Zo.empty=new Zo(!0);class cq{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function WA(t){let e=[];do e.push(uq(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function uq(t){let e=[];do e.push(fq(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function fq(t){let e=pq(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=dq(t,e);else break;return e}function Sk(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function dq(t,e){let n=Sk(t),r=n;return t.eat(",")&&(t.next!="}"?r=Sk(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function hq(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let o in n){let a=n[o];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function pq(t){if(t.eat("(")){let e=WA(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=hq(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mq(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function r(a,c,f){let d={term:f,to:c};return e[a].push(d),d}function s(a,c){a.forEach(f=>f.to=c)}function o(a,c){if(a.type=="choice")return a.exprs.reduce((f,d)=>f.concat(o(d,c)),[]);if(a.type=="seq")for(let f=0;;f++){let d=o(a.exprs[f],c);if(f==a.exprs.length-1)return d;s(d,c=n())}else if(a.type=="star"){let f=n();return r(c,f),s(o(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=n();return s(o(a.expr,c),f),s(o(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(c)].concat(o(a.expr,c));if(a.type=="range"){let f=c;for(let d=0;d<a.min;d++){let p=n();s(o(a.expr,f),p),f=p}if(a.max==-1)s(o(a.expr,f),f);else for(let d=a.min;d<a.max;d++){let p=n();r(f,p),s(o(a.expr,f),p),f=p}return[r(f)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function GA(t,e){return e-t}function wk(t,e){let n=[];return r(e),n.sort(GA);function r(s){let o=t[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let a=0;a<o.length;a++){let{term:c,to:f}=o[a];!c&&n.indexOf(f)==-1&&r(f)}}}function gq(t){let e=Object.create(null);return n(wk(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:c,to:f})=>{if(!c)return;let d;for(let p=0;p<s.length;p++)s[p][0]==c&&(d=s[p][1]);wk(t,f).forEach(p=>{d||s.push([c,d=[]]),d.indexOf(p)==-1&&d.push(p)})})});let o=e[r.join(",")]=new Zo(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let c=s[a][1].sort(GA);o.next.push({type:s[a][0],next:e[c.join(",")]||n(c)})}return o}}function yq(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],o=!s.validEnd,a=[];for(let c=0;c<s.next.length;c++){let{type:f,next:d}=s.next[c];a.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(d)==-1&&r.push(d)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function KA(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function QA(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let o=t[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function XA(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function JA(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new bq(t,r,e[r]);return n}let Tk=class ZA{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=JA(e,r.attrs),this.defaultAttrs=KA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Zo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:QA(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fi(this,this.computeAttrs(e),X.from(n),tt.setFrom(r))}createChecked(e=null,n,r){return n=X.from(n),this.checkContent(n),new Fi(this,this.computeAttrs(e),n,tt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=X.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(X.empty,!0);return o?new Fi(this,e,n.append(o),tt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){XA(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:tt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,a)=>r[o]=new ZA(o,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function vq(t,e,n){let r=n.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class bq{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?vq(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class gm{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=JA(e,s.attrs),this.excluded=null;let o=KA(this.attrs);this.instance=o?new tt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new tt(this,QA(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((o,a)=>r[o]=new gm(o,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){XA(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class eN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=en.from(e.nodes),n.marks=en.from(e.marks||{}),this.nodes=Tk.compile(this.spec.nodes,this),this.marks=gm.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],a=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=Zo.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?Ck(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:Ck(this,a.split(" "))}this.nodeFromJSON=s=>Fi.fromJSON(this,s),this.markFromJSON=s=>tt.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tk){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new tp(r,r.defaultAttrs,e,tt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Ck(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],o=t.marks[s],a=o;if(o)n.push(o);else for(let c in t.marks){let f=t.marks[c];(s=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function xq(t){return t.tag!=null}function Sq(t){return t.style!=null}let uu=class Q1{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(xq(s))this.tags.push(s);else if(Sq(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new kk(this,n,!1);return r.addAll(e,tt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new kk(this,n,!0);return r.addAll(e,tt.none,n.from,n.to),ie.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(Cq(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let a=this.styles[o],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(a.getAttrs){let f=a.getAttrs(n);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let o=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let c=n[a];if((c.priority==null?50:c.priority)<o)break}n.splice(a,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(a=>{r(a=Ek(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(a=>{r(a=Ek(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Q1(e,Q1.schemaRules(e)))}};const tN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wq={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},nN={ol:!0,ul:!0},Pu=1,X1=2,fu=4;function _k(t,e,n){return e!=null?(e?Pu:0)|(e==="full"?X1:0):t&&t.whitespace=="pre"?Pu|X1:n&~fu}class Wd{constructor(e,n,r,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=tt.none,this.match=o||(a&fu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(X.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Pu)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=X.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(X.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!tN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class kk{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,a=_k(null,n.preserveWhitespace,0)|(r?fu:0);s?o=new Wd(s.type,s.attrs,tt.none,!0,n.topMatch||s.type.contentMatch,a):r?o=new Wd(null,null,tt.none,!0,null,a):o=new Wd(e.schema.topNodeType,null,tt.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,o=s.options&X1?"full":this.localPreserveWS||(s.options&Pu)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;nN.hasOwnProperty(a)&&this.parser.normalizeLists&&Tq(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(f?f.ignore:wq.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let d,p=this.needsBlock;if(tN.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),d=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=f&&f.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),d&&this.sync(o),this.needsBlock=p}else{let d=this.readStyles(e,n);d&&this.addElementByRule(e,f,d,f.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],a=r.getPropertyValue(o);if(a)for(let c=void 0;;){let f=this.parser.matchStyle(o,a,this,c);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(d=>!f.clearMark(d)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)c=f;else break}}return n}addElementByRule(e,n,r,s){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(a,n.attrs||null,r,n.preserveWhitespace);f&&(o=!0,r=f)}else{let f=this.parser.schema.marks[n.mark];r=r.concat(f.create(n.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,r,s){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];a!=c;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,n);this.findAtPoint(e,o)}findPlace(e,n,r){let s,o;for(let a=this.open,c=0;a>=0;a--){let f=this.nodes[a],d=f.findWrapping(e);if(d&&(!s||s.length>d.length+c)&&(s=d,o=f,!d.length))break;if(f.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=tt.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):Mk(c.type,e.type))&&(a=c.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,s)),o}enterInner(e,n,r,s=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=_k(e,o,a.options);a.options&fu&&a.content.length==0&&(c|=fu);let f=tt.none;return r=r.filter(d=>(a.type?a.type.allowsMarkType(d.type):Mk(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new Wd(e,n,f,s,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Pu)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),a=(c,f)=>{for(;c>=0;c--){let d=n[c];if(d==""){if(c==n.length-1||c==0)continue;for(;f>=o;f--)if(a(c-1,f))return!0;return!1}else{let p=f>0||f==0&&s?this.nodes[f].type:r&&f>=o?r.node(f-o).type:null;if(!p||p.name!=d&&!p.isInGroup(d))return!1;f--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Tq(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&nN.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Cq(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ek(t){let e={};for(let n in t)e[n]=t[n];return e}function Mk(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let o=[],a=c=>{o.push(c);for(let f=0;f<c.edgeCount;f++){let{type:d,next:p}=c.edge(f);if(d==e||o.indexOf(p)<0&&a(p))return!0}};if(a(s.contentMatch))return!0}}class ia{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=_0(n).createDocumentFragment());let s=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let c=0,f=0;for(;c<o.length&&f<a.marks.length;){let d=a.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(o[c][0])||d.type.spec.spanning===!1)break;c++,f++}for(;c<o.length;)s=o.pop()[1];for(;f<a.marks.length;){let d=a.marks[f++],p=this.serializeMark(d,a.isInline,n);p&&(o.push([d,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Th(_0(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Th(_0(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return Th(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ia(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Ok(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Ok(e.marks)}}function Ok(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function _0(t){return t.document||window.document}const Ak=new WeakMap;function _q(t){let e=Ak.get(t);return e===void 0&&Ak.set(t,e=kq(t)),e}function kq(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function Th(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=_q(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let c,f=n?t.createElementNS(n,s):t.createElement(s),d=e[1],p=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){p=2;for(let m in d)if(d[m]!=null){let y=m.indexOf(" ");y>0?f.setAttributeNS(m.slice(0,y),m.slice(y+1),d[m]):m=="style"&&f.style?f.style.cssText=d[m]:f.setAttribute(m,d[m])}}for(let m=p;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:b,contentDOM:S}=Th(t,y,n,r);if(f.appendChild(b),S){if(c)throw new RangeError("Multiple content holes");c=S}}}return{dom:f,contentDOM:c}}const rN=65535,sN=Math.pow(2,16);function Eq(t,e){return t+e*sN}function Nk(t){return t&rN}function Mq(t){return(t-(t&rN))/sN}const iN=1,oN=2,Ch=4,aN=8;class J1{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&aN)>0}get deletedBefore(){return(this.delInfo&(iN|Ch))>0}get deletedAfter(){return(this.delInfo&(oN|Ch))>0}get deletedAcross(){return(this.delInfo&Ch)>0}}class Gn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Gn.empty)return Gn.empty}recover(e){let n=0,r=Nk(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Mq(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?s:0);if(f>e)break;let d=this.ranges[c+o],p=this.ranges[c+a],m=f+d;if(e<=m){let y=d?e==f?-1:e==m?1:n:n,b=f+s+(y<0?0:p);if(r)return b;let S=e==(n<0?f:m)?null:Eq(c/3,e-f),w=e==f?oN:e==m?iN:Ch;return(n<0?e!=f:e!=m)&&(w|=aN),new J1(b,w,S)}s+=p-d}return r?e+s:new J1(e+s,0,null)}touches(e,n){let r=0,s=Nk(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let f=this.ranges[c]-(this.inverted?r:0);if(f>e)break;let d=this.ranges[c+o],p=f+d;if(e<=p&&c==s*3)return!0;r+=this.ranges[c+a]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?o:0),f=a+(this.inverted?0:o),d=this.ranges[s+n],p=this.ranges[s+r];e(c,c+d,f,f+p),o+=p-d}}invert(){return new Gn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Gn.empty:new Gn(e<0?[0,-e,0]:[0,0,e])}}Gn.empty=new Gn([]);class Bu{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Bu(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Bu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],c=a.mapResult(e,n);if(c.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new J1(e,s,null)}}const k0=Object.create(null);class mn{getMap(){return Gn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=k0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in k0)throw new RangeError("Duplicate use of step JSON ID "+e);return k0[e]=n,n.prototype.jsonID=e,n}}class Dt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Dt(e,null)}static fail(e){return new Dt(null,e)}static fromReplace(e,n,r,s){try{return Dt.ok(e.replace(n,r,s))}catch(o){if(o instanceof Jh)return Dt.fail(o.message);throw o}}}function Vb(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(Vb(o.content,e,o))),o.isInline&&(o=e(o,n,s)),r.push(o)}return X.fromArray(r)}class Vi extends mn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new ie(Vb(n.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return Dt.fromReplace(e,this.from,this.to,o)}invert(){return new Dr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vi(n.from,n.to,e.markFromJSON(n.mark))}}mn.jsonID("addMark",Vi);class Dr extends mn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ie(Vb(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Dt.fromReplace(e,this.from,this.to,r)}invert(){return new Vi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Dr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Dr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Dr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Dr(n.from,n.to,e.markFromJSON(n.mark))}}mn.jsonID("removeMark",Dr);class Ii extends mn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Dt.fromReplace(e,this.pos,this.pos+1,new ie(X.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Ii(this.pos,n.marks[s]);return new Ii(this.pos,this.mark)}}return new ea(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ii(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ii(n.pos,e.markFromJSON(n.mark))}}mn.jsonID("addNodeMark",Ii);class ea extends mn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Dt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Dt.fromReplace(e,this.pos,this.pos+1,new ie(X.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ii(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ea(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ea(n.pos,e.markFromJSON(n.mark))}}mn.jsonID("removeNodeMark",ea);class qt extends mn{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Z1(e,this.from,this.to)?Dt.fail("Structure replace would overwrite content"):Dt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Gn([this.from,this.to-this.from,this.slice.size])}invert(e){return new qt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new qt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof qt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ie.empty:new ie(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new qt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ie.empty:new ie(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new qt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new qt(n.from,n.to,ie.fromJSON(e,n.slice),!!n.structure)}}mn.jsonID("replace",qt);class Yt extends mn{constructor(e,n,r,s,o,a,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=a,this.structure=c}apply(e){if(this.structure&&(Z1(e,this.from,this.gapFrom)||Z1(e,this.gapTo,this.to)))return Dt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Dt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Dt.fromReplace(e,this.from,this.to,r):Dt.fail("Content does not fit in gap")}getMap(){return new Gn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Yt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new Yt(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Yt(n.from,n.to,n.gapFrom,n.gapTo,ie.fromJSON(e,n.slice),n.insert,!!n.structure)}}mn.jsonID("replaceAround",Yt);function Z1(t,e,n){let r=t.resolve(e),s=n-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function Oq(t,e,n,r){let s=[],o=[],a,c;t.doc.nodesBetween(e,n,(f,d,p)=>{if(!f.isInline)return;let m=f.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(d,e),b=Math.min(d+f.nodeSize,n),S=r.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(S)||(a&&a.to==y&&a.mark.eq(m[w])?a.to=b:s.push(a=new Dr(y,b,m[w])));c&&c.to==y?c.to=b:o.push(c=new Vi(y,b,r))}}),s.forEach(f=>t.step(f)),o.forEach(f=>t.step(f))}function Aq(t,e,n,r){let s=[],o=0;t.doc.nodesBetween(e,n,(a,c)=>{if(!a.isInline)return;o++;let f=null;if(r instanceof gm){let d=a.marks,p;for(;p=r.isInSet(d);)(f||(f=[])).push(p),d=p.removeFromSet(d)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let d=Math.min(c+a.nodeSize,n);for(let p=0;p<f.length;p++){let m=f[p],y;for(let b=0;b<s.length;b++){let S=s[b];S.step==o-1&&m.eq(s[b].style)&&(y=S)}y?(y.to=d,y.step=o):s.push({style:m,from:Math.max(c,e),to:d,step:o})}}}),s.forEach(a=>t.step(new Dr(a.from,a.to,a.style)))}function Ib(t,e,n,r=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),a=[],c=e+1;for(let f=0;f<o.childCount;f++){let d=o.child(f),p=c+d.nodeSize,m=r.matchType(d.type);if(!m)a.push(new qt(c,p,ie.empty));else{r=m;for(let y=0;y<d.marks.length;y++)n.allowsMarkType(d.marks[y].type)||t.step(new Dr(c,p,d.marks[y]));if(s&&d.isText&&n.whitespace!="pre"){let y,b=/\r?\n|\r/g,S;for(;y=b.exec(d.text);)S||(S=new ie(X.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),a.push(new qt(c+y.index,c+y.index+y[0].length,S))}}c=p}if(!r.validEnd){let f=r.fillBefore(X.empty,!0);t.replace(c,c,new ie(f,0,0))}for(let f=a.length-1;f>=0;f--)t.step(a[f])}function Nq(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Hl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),o=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(o,a,n))return r;if(r==0||s.type.spec.isolating||!Nq(s,o,a))break}return null}function Dq(t,e,n){let{$from:r,$to:s,depth:o}=e,a=r.before(o+1),c=s.after(o+1),f=a,d=c,p=X.empty,m=0;for(let S=o,w=!1;S>n;S--)w||r.index(S)>0?(w=!0,p=X.from(r.node(S).copy(p)),m++):f--;let y=X.empty,b=0;for(let S=o,w=!1;S>n;S--)w||s.after(S+1)<s.end(S)?(w=!0,y=X.from(s.node(S).copy(y)),b++):d++;t.step(new Yt(f,d,a,c,new ie(p.append(y),m,b),p.size-m,!0))}function Ub(t,e,n=null,r=t){let s=Rq(t,e),o=s&&jq(r,e);return o?s.map(Dk).concat({type:e,attrs:n}).concat(o.map(Dk)):null}function Dk(t){return{type:t,attrs:null}}function Rq(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,s,a)?o:null}function jq(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let d=r;f&&d<s;d++)f=f.matchType(n.child(d).type);return!f||!f.validEnd?null:a}function Lq(t,e,n){let r=X.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let c=n[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=X.from(n[a].type.create(n[a].attrs,r))}let s=e.start,o=e.end;t.step(new Yt(s,o,s,o,new ie(r,0,0),n.length,!0))}function Pq(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(a,c)=>{let f=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,f)&&Bq(t.doc,t.mapping.slice(o).map(c),r)){let d=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!S?d=!1:!b&&S&&(d=!0)}d===!1&&cN(t,a,c,o),Ib(t,t.mapping.slice(o).map(c,1),r,void 0,d===null);let p=t.mapping.slice(o),m=p.map(c,1),y=p.map(c+a.nodeSize,1);return t.step(new Yt(m,y,m+1,y-1,new ie(X.from(r.create(f,null,a.marks)),0,0),1,!0)),d===!0&&lN(t,a,c,o),!1}})}function lN(t,e,n,r){e.forEach((s,o)=>{if(s.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(s.text);){let f=t.mapping.slice(r).map(n+1+o+a.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function cN(t,e,n,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+o);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function Bq(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function zq(t,e,n,r,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Yt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ie(X.from(a),0,0),1,!0))}function Ys(t,e,n=1,r){let s=t.resolve(e),o=s.depth-n,a=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let d=s.depth-1,p=n-2;d>o;d--,p--){let m=s.node(d),y=s.index(d);if(m.type.spec.isolating)return!1;let b=m.content.cutByIndex(y,m.childCount),S=r&&r[p+1];S&&(b=b.replaceChild(0,S.type.create(S.attrs)));let w=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!w.type.validContent(b))return!1}let c=s.indexAfter(o),f=r&&r[0];return s.node(o).canReplaceWith(c,c,f?f.type:s.node(o+1).type)}function Vq(t,e,n=1,r){let s=t.doc.resolve(e),o=X.empty,a=X.empty;for(let c=s.depth,f=s.depth-n,d=n-1;c>f;c--,d--){o=X.from(s.node(c).copy(o));let p=r&&r[d];a=X.from(p?p.type.create(p.attrs,a):s.node(c).copy(a))}t.step(new qt(e,e,new ie(o.append(a),n,n),!0))}function Zi(t,e){let n=t.resolve(e),r=n.index();return uN(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Iq(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),a=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function uN(t,e){return!!(t&&e&&!t.isLeaf&&Iq(t,e))}function ym(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let o,a,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(s+1),c++,a=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),a=r.node(s+1)),o&&!o.isTextblock&&uN(o,a)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Uq(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),a=o.node().type;if(s&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(s);p&&!m?r=!1:!p&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);cN(t,p.node(),p.before(),c)}a.inlineContent&&Ib(t,e+n-1,a,o.node().contentMatchAt(o.index()),r==null);let f=t.mapping.slice(c),d=f.map(e-n);if(t.step(new qt(d,f.map(e+n,-1),ie.empty,!0)),r===!0){let p=t.doc.resolve(d);lN(t,p.node(),p.before(),t.steps.length)}return t}function Hq(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function fN(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(c>0?1:0),d=r.node(a),p=!1;if(o==1)p=d.canReplace(f,f,s);else{let m=d.contentMatchAt(f).findWrapping(s.firstChild.type);p=m&&d.canReplaceWith(f,f,m[0])}if(p)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function vm(t,e,n=e,r=ie.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),o=t.resolve(n);return dN(s,o,r)?new qt(e,n,r):new $q(s,o,r).fit()}function dN(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class $q{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=X.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=X.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,a=r.depth,c=s.depth;for(;a&&c&&o.childCount==1;)o=o.firstChild.content,a--,c--;let f=new ie(o,a,c);return e>-1?new Yt(r.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||r.pos!=this.$to.pos?new qt(r.pos,s.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=E0(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let a=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:f,match:d}=this.frontier[c],p,m=null;if(n==1&&(a?d.matchType(a.type)||(m=d.fillBefore(X.from(a),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:m};if(n==2&&a&&(p=d.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&d.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=E0(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ie(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=E0(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new ie(tu(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new ie(tu(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let w=0;w<o.length;w++)this.openFrontierNode(o[w]);let a=this.unplaced,c=r?r.content:a.content,f=a.openStart-e,d=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let w=0;w<s.childCount;w++)p.push(s.child(w));m=m.matchFragment(s)}let b=c.size+e-(a.content.size-a.openEnd);for(;d<c.childCount;){let w=c.child(d),T=m.matchType(w.type);if(!T)break;d++,(d>1||f==0||w.content.size)&&(m=T,p.push(hN(w.mark(y.allowedMarks(w.marks)),d==1?f:0,d==c.childCount?b:-1)))}let S=d==c.childCount;S||(b=-1),this.placed=nu(this.placed,n,X.from(p)),this.frontier[n].match=m,S&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,T=c;w<b;w++){let _=T.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),T=_.content}this.unplaced=S?e==0?ie.empty:new ie(tu(a.content,e-1,1),e-1,b<0?a.openEnd:e-1):new ie(tu(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!M0(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=M0(e,n,s,r,o);if(a){for(let c=n-1;c>=0;c--){let{match:f,type:d}=this.frontier[c],p=M0(e,c,d,f,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=nu(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=nu(this.placed,this.depth,X.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(X.empty,!0);n.childCount&&(this.placed=nu(this.placed,this.frontier.length,n))}}function tu(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(tu(t.firstChild.content,e-1,n)))}function nu(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(nu(t.lastChild.content,e-1,n)))}function E0(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function hN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,hN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(X.empty,!0)))),t.copy(r)}function M0(t,e,n,r,s){let o=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,a);return c&&!Fq(n,o.content,a)?c:null}function Fq(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function qq(t){return t.spec.defining||t.spec.definingForContent}function Yq(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(dN(s,o,r))return t.step(new qt(e,n,r));let a=mN(s,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let c=-(s.depth+1);a.unshift(c);for(let y=s.depth,b=s.pos-1;y>0;y--,b--){let S=s.node(y).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;a.indexOf(y)>-1?c=y:s.before(y)==b&&a.splice(1,0,-y)}let f=a.indexOf(c),d=[],p=r.openStart;for(let y=r.content,b=0;;b++){let S=y.firstChild;if(d.push(S),b==r.openStart)break;y=S.content}for(let y=p-1;y>=0;y--){let b=d[y],S=qq(b.type);if(S&&!b.sameMarkup(s.node(Math.abs(c)-1)))p=y;else if(S||!b.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let b=(y+p+1)%(r.openStart+1),S=d[b];if(S)for(let w=0;w<a.length;w++){let T=a[(w+f)%a.length],_=!0;T<0&&(_=!1,T=-T);let M=s.node(T-1),A=s.index(T-1);if(M.canReplaceWith(A,A,S.type,S.marks))return t.replace(s.before(T),_?o.after(T):n,new ie(pN(r.content,0,r.openStart,b),b,r.openEnd))}}let m=t.steps.length;for(let y=a.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let b=a[y];b<0||(e=s.before(b),n=o.after(b))}}function pN(t,e,n,r,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(pN(o.content,e+1,n,r,o)))}if(e>r){let o=s.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(X.empty,!0))}return t}function Wq(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=Hq(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ie(X.from(r),0,0))}function Gq(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),o=mN(r,s);for(let a=0;a<o.length;a++){let c=o[a],f=a==o.length-1;if(f&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),s.end(c));if(c>0&&(f||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return t.delete(r.before(c),s.after(c))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function mN(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class yl extends mn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Dt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Dt.fromReplace(e,this.pos,this.pos+1,new ie(X.from(s),0,n.isLeaf?0:1))}getMap(){return Gn.empty}invert(e){return new yl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new yl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new yl(n.pos,n.attr,n.value)}}mn.jsonID("attr",yl);class zu extends mn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Dt.ok(r)}getMap(){return Gn.empty}invert(e){return new zu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new zu(n.attr,n.value)}}mn.jsonID("docAttr",zu);let wl=class extends Error{};wl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};wl.prototype=Object.create(Error.prototype);wl.prototype.constructor=wl;wl.prototype.name="TransformError";class gN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Bu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new wl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ie.empty){let s=vm(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new ie(X.from(r),0,0))}delete(e,n){return this.replace(e,n,ie.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Yq(this,e,n,r),this}replaceRangeWith(e,n,r){return Wq(this,e,n,r),this}deleteRange(e,n){return Gq(this,e,n),this}lift(e,n){return Dq(this,e,n),this}join(e,n=1){return Uq(this,e,n),this}wrap(e,n){return Lq(this,e,n),this}setBlockType(e,n=e,r,s=null){return Pq(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return zq(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new yl(e,n,r)),this}setDocAttribute(e,n){return this.step(new zu(e,n)),this}addNodeMark(e,n){return this.step(new Ii(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof tt)n.isInSet(r.marks)&&this.step(new ea(e,n));else{let s=r.marks,o,a=[];for(;o=n.isInSet(s);)a.push(new ea(e,o)),s=o.removeFromSet(s);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,n=1,r){return Vq(this,e,n,r),this}addMark(e,n,r){return Oq(this,e,n,r),this}removeMark(e,n,r){return Aq(this,e,n,r),this}clearIncompatible(e,n,r){return Ib(this,e,n,r),this}}const O0=Object.create(null);class Ee{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Kq(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ie.empty){let r=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:f,$to:d}=a[c],p=e.mapping.slice(o);e.replaceRange(p.map(f.pos),p.map(d.pos),c?ie.empty:n),c==0&&Lk(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:a,$to:c}=s[o],f=e.mapping.slice(r),d=f.map(a.pos),p=f.map(c.pos);o?e.deleteRange(d,p):(e.replaceRangeWith(d,p,n),Lk(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Se(e):rl(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let a=n<0?rl(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):rl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Kn(e.node(0))}static atStart(e){return rl(e,e,0,0,1)||new Kn(e)}static atEnd(e){return rl(e,e,e.content.size,e.childCount,-1)||new Kn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=O0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in O0)throw new RangeError("Duplicate use of selection JSON ID "+e);return O0[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Se.between(this.$anchor,this.$head).getBookmark()}}Ee.prototype.visible=!0;class Kq{constructor(e,n){this.$from=e,this.$to=n}}let Rk=!1;function jk(t){!Rk&&!t.parent.inlineContent&&(Rk=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Se extends Ee{constructor(e,n=e){jk(e),jk(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ee.near(r);let s=e.resolve(n.map(this.anchor));return new Se(s.parent.inlineContent?s:r,r)}replace(e,n=ie.empty){if(super.replace(e,n),n==ie.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Se&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new bm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Se(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=Ee.findFrom(n,r,!0)||Ee.findFrom(n,-r,!0);if(o)n=o.$head;else return Ee.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ee.findFrom(e,-r,!0)||Ee.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Se(e,n)}}Ee.jsonID("text",Se);class bm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new bm(e.map(this.anchor),e.map(this.head))}resolve(e){return Se.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Ee{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return r?Ee.near(o):new pe(o)}content(){return new ie(X.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Hb(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Ee.jsonID("node",pe);class Hb{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new bm(r,r):new Hb(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&pe.isSelectable(r)?new pe(n):Ee.near(n)}}class Kn extends Ee{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ie.empty){if(n==ie.empty){e.delete(0,e.doc.content.size);let r=Ee.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Kn(e)}map(e){return new Kn(e)}eq(e){return e instanceof Kn}getBookmark(){return Qq}}Ee.jsonID("all",Kn);const Qq={map(){return this},resolve(t){return new Kn(t)}};function rl(t,e,n,r,s,o=!1){if(e.inlineContent)return Se.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let c=e.child(a);if(c.isAtom){if(!o&&pe.isSelectable(c))return pe.create(t,n-(s<0?c.nodeSize:0))}else{let f=rl(t,c,n+s,s<0?c.childCount:0,s,o);if(f)return f}n+=c.nodeSize*s}return null}function Lk(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof qt||s instanceof Yt))return;let o=t.mapping.maps[r],a;o.forEach((c,f,d,p)=>{a==null&&(a=p)}),t.setSelection(Ee.near(t.doc.resolve(a),n))}const Pk=1,Gd=2,Bk=4;class Xq extends gN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Pk)&~Gd,this.storedMarks=null,this}get selectionSet(){return(this.updated&Pk)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Gd,this}ensureMarks(e){return tt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Gd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Gd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||tt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,o)),this.selection.empty||this.setSelection(Ee.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Bk,this}get scrolledIntoView(){return(this.updated&Bk)>0}}function zk(t,e){return!e||!t?t:t.bind(e)}class ru{constructor(e,n,r){this.name=e,this.init=zk(n.init,r),this.apply=zk(n.apply,r)}}const Jq=[new ru("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ru("selection",{init(t,e){return t.selection||Ee.atStart(e.doc)},apply(t){return t.selection}}),new ru("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ru("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class A0{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Jq.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ru(r.key,r.spec.state,r))})}}class ll{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let f=s?s[a].n:0,d=s?s[a].state:this,p=f<n.length&&c.spec.appendTransaction.call(c,f?n.slice(f):n,d,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}s&&(s[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ll(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new Xq(this)}static create(e){let n=new A0(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ll(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new A0(this.schema,e.plugins),r=n.fields,s=new ll(n);for(let o=0;o<r.length;o++){let a=r[o].name;s[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new A0(e.schema,e.plugins),o=new ll(s);return s.fields.forEach(a=>{if(a.name=="doc")o.doc=Fi.fromJSON(e.schema,n.doc);else if(a.name=="selection")o.selection=Ee.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let f=r[c],d=f.spec.state;if(f.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[a.name]=d.fromJSON.call(f,e,n[c],o);return}}o[a.name]=a.init(e,o)}}),o}}function yN(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=yN(s,e,{})),n[r]=s}return n}class Ct{constructor(e){this.spec=e,this.props={},e.props&&yN(e.props,this,this.props),this.key=e.key?e.key.key:vN("plugin")}getState(e){return e[this.key]}}const N0=Object.create(null);function vN(t){return t in N0?t+"$"+ ++N0[t]:(N0[t]=0,t+"$")}class Kt{constructor(e="key"){this.key=vN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const $b=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function bN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const xN=(t,e,n)=>{let r=bN(t,n);if(!r)return!1;let s=Fb(r);if(!s){let a=r.blockRange(),c=a&&Hl(a);return c==null?!1:(e&&e(t.tr.lift(a,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(ON(t,s,e,-1))return!0;if(r.parent.content.size==0&&(Tl(o,"end")||pe.isSelectable(o)))for(let a=r.depth;;a--){let c=vm(t.doc,r.before(a),r.after(a),ie.empty);if(c&&c.slice.size<c.to-c.from){if(e){let f=t.tr.step(c);f.setSelection(Tl(o,"end")?Ee.findFrom(f.doc.resolve(f.mapping.map(s.pos,-1)),-1):pe.create(f.doc,s.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},Zq=(t,e,n)=>{let r=bN(t,n);if(!r)return!1;let s=Fb(r);return s?SN(t,s,e):!1},eY=(t,e,n)=>{let r=TN(t,n);if(!r)return!1;let s=qb(r);return s?SN(t,s,e):!1};function SN(t,e,n){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let a=e.nodeAfter,c=a,f=e.pos+1;for(;!c.isTextblock;f++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let d=vm(t.doc,o,f,ie.empty);if(!d||d.from!=o||d instanceof qt&&d.slice.size>=f-o)return!1;if(n){let p=t.tr.step(d);p.setSelection(Se.create(p.doc,o)),n(p.scrollIntoView())}return!0}function Tl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const wN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Fb(r)}let a=o&&o.nodeBefore;return!a||!pe.isSelectable(a)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function Fb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function TN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const CN=(t,e,n)=>{let r=TN(t,n);if(!r)return!1;let s=qb(r);if(!s)return!1;let o=s.nodeAfter;if(ON(t,s,e,1))return!0;if(r.parent.content.size==0&&(Tl(o,"start")||pe.isSelectable(o))){let a=vm(t.doc,r.before(),r.after(),ie.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(Tl(o,"start")?Ee.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):pe.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},_N=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=qb(r)}let a=o&&o.nodeAfter;return!a||!pe.isSelectable(a)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,o.pos)).scrollIntoView()),!0)};function qb(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const tY=(t,e)=>{let n=t.selection,r=n instanceof pe,s;if(r){if(n.node.isTextblock||!Zi(t.doc,n.from))return!1;s=n.from}else if(s=ym(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);r&&o.setSelection(pe.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},nY=(t,e)=>{let n=t.selection,r;if(n instanceof pe){if(n.node.isTextblock||!Zi(t.doc,n.to))return!1;r=n.to}else if(r=ym(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},rY=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),o=s&&Hl(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},kN=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Yb(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const sY=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),a=Yb(s.contentMatchAt(o));if(!a||!s.canReplaceWith(o,o,a))return!1;if(e){let c=n.after(),f=t.tr.replaceWith(c,c,a.createAndFill());f.setSelection(Ee.near(f.doc.resolve(c),1)),e(f.scrollIntoView())}return!0},EN=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Kn||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=Yb(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=t.tr.insert(a,o.createAndFill());c.setSelection(Se.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},MN=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ys(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Hl(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function iY(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof pe&&e.selection.node.isBlock)return!r.parentOffset||!Ys(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,c,f=!1,d=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){f=r.end(b)==r.pos+(r.depth-b),d=r.start(b)==r.pos-(r.depth-b),c=Yb(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),o.unshift(f&&c?{type:c}:null),a=b;break}else{if(b==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof Se||e.selection instanceof Kn)&&p.deleteSelection();let m=p.mapping.map(r.pos),y=Ys(p.doc,m,o.length,o);if(y||(o[0]=c?{type:c}:null,y=Ys(p.doc,m,o.length,o)),!y)return!1;if(p.split(m,o.length,o),!f&&d&&r.node(a).type!=c){let b=p.mapping.map(r.before(a)),S=p.doc.resolve(b);c&&r.node(a-1).canReplaceWith(S.index(),S.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(a)),c)}return n&&n(p.scrollIntoView()),!0}}const oY=iY(),aY=(t,e)=>{let{$from:n,to:r}=t.selection,s,o=n.sharedDepth(r);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(pe.create(t.doc,s))),!0)};function lY(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Zi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function ON(t,e,n,r){let s=e.nodeBefore,o=e.nodeAfter,a,c,f=s.type.spec.isolating||o.type.spec.isolating;if(!f&&lY(t,e,n))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(a[0]||o.type).validEnd){if(n){let b=e.pos+o.nodeSize,S=X.empty;for(let _=a.length-1;_>=0;_--)S=X.from(a[_].create(null,S));S=X.from(s.copy(S));let w=t.tr.step(new Yt(e.pos-1,b,e.pos,b,new ie(S,1,0),a.length,!0)),T=w.doc.resolve(b+2*a.length);T.nodeAfter&&T.nodeAfter.type==s.type&&Zi(w.doc,T.pos)&&w.join(T.pos),n(w.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&f?null:Ee.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),y=m&&Hl(m);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(m,y).scrollIntoView()),!0;if(d&&Tl(o,"start",!0)&&Tl(s,"end")){let b=s,S=[];for(;S.push(b),!b.isTextblock;)b=b.lastChild;let w=o,T=1;for(;!w.isTextblock;w=w.firstChild)T++;if(b.canReplace(b.childCount,b.childCount,w.content)){if(n){let _=X.empty;for(let A=S.length-1;A>=0;A--)_=X.from(S[A].copy(_));let M=t.tr.step(new Yt(e.pos-S.length,e.pos+o.nodeSize,e.pos+T,e.pos+o.nodeSize-T,new ie(_,S.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function AN(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(Se.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const cY=AN(-1),uY=AN(1);function fY(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o),c=a&&Ub(a,t,e);return c?(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0):!1}}function Vk(t,e=null){return function(n,r){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(a,c,(f,d)=>{if(s)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)s=!0;else{let p=n.doc.resolve(d),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:f}}=n.selection.ranges[a];o.setBlockType(c,f,t,e)}r(o.scrollIntoView())}return!0}}function Wb(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}Wb($b,xN,wN);Wb($b,CN,_N);Wb(kN,EN,MN,oY);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function dY(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o);if(!a)return!1;let c=r?n.tr:null;return hY(c,a,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function hY(t,e,n,r=null){let s=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);o=new ep(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new ep(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Ub(o,n,r,e);return c?(t&&pY(t,e,c,s,n),!0):!1}function pY(t,e,n,r,s){let o=X.empty;for(let p=n.length-1;p>=0;p--)o=X.from(n[p].type.create(n[p].attrs,o));t.step(new Yt(e.start-(r?2:0),e.end,e.start,e.end,new ie(o,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==s&&(a=p+1);let c=n.length-a,f=e.start+n.length-(r?2:0),d=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&Ys(t.doc,f,c)&&(t.split(f,c),f+=2*c),f+=d.child(p).nodeSize;return t}function mY(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?gY(e,n,t,o):yY(e,n,o):!0:!1}}function gY(t,e,n,r){let s=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(s.step(new Yt(o-1,a,o,a,new ie(X.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new ep(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=Hl(r);if(c==null)return!1;s.lift(r,c);let f=s.doc.resolve(s.mapping.map(o,-1)-1);return Zi(s.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&s.join(f.pos),e(s.scrollIntoView()),!0}function yY(t,e,n){let r=t.tr,s=n.parent;for(let b=n.end,S=n.endIndex-1,w=n.startIndex;S>w;S--)b-=s.child(S).nodeSize,r.delete(b-1,b+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,f=n.endIndex==s.childCount,d=o.node(-1),p=o.index(-1);if(!d.canReplace(p+(c?0:1),p+1,a.content.append(f?X.empty:X.from(s))))return!1;let m=o.pos,y=m+a.nodeSize;return r.step(new Yt(m-(c?1:0),y+(f?1:0),m+1,y-1,new ie((c?X.empty:X.from(s.copy(X.empty))).append(f?X.empty:X.from(s.copy(X.empty))),c?0:1,f?0:1),c?0:1)),e(r.scrollIntoView()),!0}function vY(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,d=>d.childCount>0&&d.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let c=o.parent,f=c.child(a-1);if(f.type!=t)return!1;if(n){let d=f.lastChild&&f.lastChild.type==c.type,p=X.from(d?t.create():null),m=new ie(X.from(t.create(null,X.from(c.type.create(null,p)))),d?3:1,0),y=o.start,b=o.end;n(e.tr.step(new Yt(y-(d?3:1),b,y,b,m,1,!0)).scrollIntoView())}return!0}}const rn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Cl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let ev=null;const Bs=function(t,e,n){let r=ev||(ev=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},bY=function(){ev=null},ta=function(t,e,n,r){return n&&(Ik(t,e,n,r,-1)||Ik(t,e,n,r,1))},xY=/^(img|br|input|textarea|hr)$/i;function Ik(t,e,n,r,s){for(var o;;){if(t==n&&e==r)return!0;if(e==(s<0?0:vr(t))){let a=t.parentNode;if(!a||a.nodeType!=1||ff(t)||xY.test(t.nodeName)||t.contentEditable=="false")return!1;e=rn(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?vr(t):0}else return!1}}function vr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function SY(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=vr(t)}else if(t.parentNode&&!ff(t))e=rn(t),t=t.parentNode;else return null}}function wY(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ff(t))e=rn(t)+1,t=t.parentNode;else return null}}function TY(t,e,n){for(let r=e==0,s=e==vr(t);r||s;){if(t==n)return!0;let o=rn(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,s=s&&o==vr(t)}}function ff(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const xm=function(t){return t.focusNode&&ta(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Oo(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function CY(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function _Y(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(vr(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(vr(r.startContainer),r.startOffset)}}}const ls=typeof navigator<"u"?navigator:null,Uk=typeof document<"u"?document:null,eo=ls&&ls.userAgent||"",tv=/Edge\/(\d+)/.exec(eo),NN=/MSIE \d/.exec(eo),nv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(eo),Pn=!!(NN||nv||tv),qi=NN?document.documentMode:nv?+nv[1]:tv?+tv[1]:0,Pr=!Pn&&/gecko\/(\d+)/i.test(eo);Pr&&+(/Firefox\/(\d+)/.exec(eo)||[0,0])[1];const rv=!Pn&&/Chrome\/(\d+)/.exec(eo),dn=!!rv,DN=rv?+rv[1]:0,Sn=!Pn&&!!ls&&/Apple Computer/.test(ls.vendor),_l=Sn&&(/Mobile\/\w+/.test(eo)||!!ls&&ls.maxTouchPoints>2),gr=_l||(ls?/Mac/.test(ls.platform):!1),kY=ls?/Win/.test(ls.platform):!1,Us=/Android \d/.test(eo),df=!!Uk&&"webkitFontSmoothing"in Uk.documentElement.style,EY=df?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function MY(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ns(t,e){return typeof t=="number"?t:t[e]}function OY(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Hk(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Cl(a);continue}let c=a,f=c==o.body,d=f?MY(o):OY(c),p=0,m=0;if(e.top<d.top+Ns(r,"top")?m=-(d.top-e.top+Ns(s,"top")):e.bottom>d.bottom-Ns(r,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Ns(s,"top")-d.top:e.bottom-d.bottom+Ns(s,"bottom")),e.left<d.left+Ns(r,"left")?p=-(d.left-e.left+Ns(s,"left")):e.right>d.right-Ns(r,"right")&&(p=e.right-d.right+Ns(s,"right")),p||m)if(f)o.defaultView.scrollBy(p,m);else{let b=c.scrollLeft,S=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let w=c.scrollLeft-b,T=c.scrollTop-S;e={left:e.left-w,top:e.top-T,right:e.right-w,bottom:e.bottom-T}}let y=f?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(y))break;a=y=="absolute"?a.offsetParent:Cl(a)}}function AY(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=t.root.elementFromPoint(o,a);if(!c||c==t.dom||!t.dom.contains(c))continue;let f=c.getBoundingClientRect();if(f.top>=n-20){r=c,s=f.top;break}}return{refDOM:r,refTop:s,stack:RN(t.dom)}}function RN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Cl(r));return e}function NY({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;jN(n,r==0?0:r-e)}function jN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:o}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Ga=null;function DY(t){if(t.setActive)return t.setActive();if(Ga)return t.focus(Ga);let e=RN(t);t.focus(Ga==null?{get preventScroll(){return Ga={preventScroll:!0},!0}}:void 0),Ga||(Ga=!1,jN(e,0))}function LN(t,e){let n,r=2e8,s,o=0,a=e.top,c=e.top,f,d;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Bs(p).getClientRects();else continue;for(let b=0;b<y.length;b++){let S=y[b];if(S.top<=a&&S.bottom>=c){a=Math.max(S.bottom,a),c=Math.min(S.top,c);let w=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(w<r){n=p,r=w,s=w&&n.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,p.nodeType==1&&w&&(o=m+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!f&&S.left<=e.left&&S.right>=e.left&&(f=p,d={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!n&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(o=m+1)}}return!n&&f&&(n=f,s=d,r=0),n&&n.nodeType==3?RY(n,s):!n||r&&n.nodeType==1?{node:t,offset:o}:LN(n,s)}function RY(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let o=Ai(r,1);if(o.top!=o.bottom&&Gb(e,o))return{node:t,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Gb(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function jY(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function LY(t,e,n){let{node:r,offset:s}=LN(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,o)}function PY(t,e,n,r){let s=-1;for(let o=e,a=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),f;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((f=c.dom.getBoundingClientRect()).width||f.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!a&&f.left>r.left||f.top>r.top?s=c.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(s=c.posAfter),a=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function PN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let a=t.childNodes[o];if(a.nodeType==1){let c=a.getClientRects();for(let f=0;f<c.length;f++){let d=c[f];if(Gb(e,d))return PN(a,e,d)}}if((o=(o+1)%r)==s)break}return t}function BY(t,e){let n=t.dom.ownerDocument,r,s=0,o=_Y(n,e.left,e.top);o&&({node:r,offset:s}=o);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=t.dom.getBoundingClientRect();if(!Gb(e,d)||(a=PN(t.dom,e,d),!a))return null}if(Sn)for(let d=a;r&&d;d=Cl(d))d.draggable&&(r=void 0);if(a=jY(a,e),r){if(Pr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let d;df&&s&&r.nodeType==1&&(d=r.childNodes[s-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=PY(t,r,s,e))}c==null&&(c=LY(t,a,e));let f=t.docView.nearestDesc(a,!0);return{pos:c,inside:f?f.posAtStart-f.border:-1}}function $k(t){return t.top<t.bottom||t.left<t.right}function Ai(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if($k(r))return r}return Array.prototype.find.call(n,$k)||t.getBoundingClientRect()}const zY=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function BN(t,e,n){let{node:r,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=df||Pr;if(r.nodeType==3)if(a&&(zY.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let f=Ai(Bs(r,s,s),n);if(Pr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let d=Ai(Bs(r,s-1,s-1),-1);if(d.top==f.top){let p=Ai(Bs(r,s,s+1),-1);if(p.top!=f.top)return Xc(p,p.left<d.left)}}return f}else{let f=s,d=s,p=n<0?1:-1;return n<0&&!s?(d++,p=-1):n>=0&&s==r.nodeValue.length?(f--,p=1):n<0?f--:d++,Xc(Ai(Bs(r,f,d),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==vr(r))){let f=r.childNodes[s-1];if(f.nodeType==1)return D0(f.getBoundingClientRect(),!1)}if(o==null&&s<vr(r)){let f=r.childNodes[s];if(f.nodeType==1)return D0(f.getBoundingClientRect(),!0)}return D0(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==vr(r))){let f=r.childNodes[s-1],d=f.nodeType==3?Bs(f,vr(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return Xc(Ai(d,1),!1)}if(o==null&&s<vr(r)){let f=r.childNodes[s];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?Bs(f,0,a?0:1):f.nodeType==1?f:null:null;if(d)return Xc(Ai(d,-1),!0)}return Xc(Ai(r.nodeType==3?Bs(r):r,-n),n>=0)}function Xc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function D0(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function zN(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function VY(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return zN(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let a=BN(t,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Bs(c,0,c.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let p=f[d];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const IY=/[\u0590-\u08ac]/;function UY(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,a=s==r.parent.content.size,c=t.domSelection();return c?!IY.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:a:zN(t,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=c.caretBidiLevel;c.modify("move",n,"character");let b=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:S,focusOffset:w}=t.domSelectionRange(),T=S&&!b.contains(S.nodeType==1?S:S.parentNode)||f==S&&d==w;try{c.collapse(p,m),f&&(f!=p||d!=m)&&c.extend&&c.extend(f,d)}catch{}return y!=null&&(c.caretBidiLevel=y),T}):r.pos==r.start()||r.pos==r.end()}let Fk=null,qk=null,Yk=!1;function HY(t,e,n){return Fk==e&&qk==n?Yk:(Fk=e,qk=n,Yk=n=="up"||n=="down"?VY(t,e,n):UY(t,e,n))}const xr=0,Wk=1,Ro=2,cs=3;class hf{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=xr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let c=s.children[a];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],c=o+a.size;if(c>e||a instanceof IN){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof VN&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?rn(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?rn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let a=r,c=0;;c++){let f=this.children[c],d=a+f.size;if(s==-1&&e<=d){let p=a+f.border;if(e>=p&&n<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,p);e=a;for(let m=c;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=rn(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(d>n||c==this.children.length-1)){n=d;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=rn(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let o=Math.min(e,n),a=Math.max(e,n);for(let b=0,S=0;b<this.children.length;b++){let w=this.children[b],T=S+w.size;if(o>S&&a<T)return w.setSelection(e-S-w.border,n-S-w.border,r,s);S=T}let c=this.domFromPos(e,e?-1:1),f=n==e?c:this.domFromPos(n,n?-1:1),d=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Pr||Sn)&&e==n){let{node:b,offset:S}=c;if(b.nodeType==3){if(m=!!(S&&b.nodeValue[S-1]==`
`),m&&S==b.nodeValue.length)for(let w=b,T;w;w=w.parentNode){if(T=w.nextSibling){T.nodeName=="BR"&&(c=f={node:T.parentNode,offset:rn(T)+1});break}let _=w.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let w=b.childNodes[S-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Pr&&p.focusNode&&p.focusNode!=f.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(s=!0)}if(!(s||m&&Sn)&&ta(c.node,c.offset,p.anchorNode,p.anchorOffset)&&ta(f.node,f.offset,p.focusNode,p.focusOffset))return;let y=!1;if((d.extend||e==n)&&!m){d.collapse(c.node,c.offset);try{e!=n&&d.extend(f.node,f.offset),y=!0}catch{}}if(!y){if(e>n){let S=c;c=f,f=S}let b=document.createRange();b.setEnd(f.node,f.offset),b.setStart(c.node,c.offset),d.removeAllRanges(),d.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],a=r+o.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let c=r+o.border,f=a-o.border;if(e>=c&&n<=f){this.dirty=e==r||n==a?Ro:Wk,e==c&&n==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=cs:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ro:cs}r=a}this.dirty=Ro}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ro:Wk;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class VN extends hf{constructor(e,n,r,s){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==xr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $Y extends hf{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class na extends hf{constructor(e,n,r,s,o){super(e,[],r,s),this.mark=n,this.spec=o}static create(e,n,r,s){let o=s.nodeViews[n.type.name],a=o&&o(n,s,r);return(!a||!a.dom)&&(a=ia.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new na(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&cs||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=cs&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=xr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=xr}}slice(e,n,r){let s=na.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=iv(o,n,a,r)),e>0&&(o=iv(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Yi extends hf{constructor(e,n,r,s,o,a,c,f,d){super(e,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,n,r,s,o,a){let c=o.nodeViews[n.type.name],f,d=c&&c(n,o,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,s),p=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=ia.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=$N(p,r,n),d?f=new FY(e,n,r,s,p,m||null,y,d,o,a+1):n.isText?new Sm(e,n,r,s,p,y,o):new Yi(e,n,r,s,p,m||null,y,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>X.empty)}return e}matchesNode(e,n,r){return this.dirty==xr&&e.eq(this.node)&&np(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,a=o&&o.pos>-1?o:null,c=o&&o.pos<0,f=new YY(this,a&&a.node,e);KY(this.node,this.innerDeco,(d,p,m)=>{d.spec.marks?f.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!m&&f.syncToMarks(p==this.node.childCount?tt.none:this.node.child(p).marks,r,e),f.placeWidget(d,e,s)},(d,p,m,y)=>{f.syncToMarks(d.marks,r,e);let b;f.findNodeMatch(d,p,m,y)||c&&e.state.selection.from>s&&e.state.selection.to<s+d.nodeSize&&(b=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(d,p,m,b,e)||f.updateNextNode(d,p,m,e,y,s)||f.addNode(d,p,m,e,s),s+=d.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Ro)&&(a&&this.protectLocalComposition(e,a),UN(this.contentDOM,this.children,e),_l&&QY(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Se)||r<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,c=XY(this.node.content,a,r-n,s-n);return c<0?null:{node:o,pos:c,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new $Y(this,o,n,s);e.input.compositionNodes.push(a),this.children=iv(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==cs||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=xr}updateOuterDeco(e){if(np(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=HN(this.dom,this.nodeDOM,sv(this.outerDeco,this.node,n),sv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Gk(t,e,n,r,s){$N(r,e,t);let o=new Yi(void 0,t,e,n,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class Sm extends Yi{constructor(e,n,r,s,o,a,c){super(e,n,r,s,o,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==cs||this.dirty!=xr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=xr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=xr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new Sm(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=cs)}get domAtom(){return!1}isText(e){return this.node.text==e}}class IN extends hf{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class FY extends Yi{constructor(e,n,r,s,o,a,c,f,d,p){super(e,n,r,s,o,a,c,d,p),this.spec=f}update(e,n,r,s){if(this.dirty==cs)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function UN(t,e,n){let r=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let a=e[o],c=a.dom;if(c.parentNode==t){for(;c!=r;)r=Kk(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(c,r);if(a instanceof na){let f=r?r.previousSibling:t.lastChild;UN(a.contentDOM,a.children,n),r=f?f.nextSibling:t.firstChild}}for(;r;)r=Kk(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const du=function(t){t&&(this.nodeName=t)};du.prototype=Object.create(null);const jo=[new du];function sv(t,e,n){if(t.length==0)return jo;let r=n?jo[0]:new du,s=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&s.push(r=new du(a.nodeName));for(let c in a){let f=a[c];f!=null&&(n&&s.length==1&&s.push(r=new du(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+f:c=="style"?r.style=(r.style?r.style+";":"")+f:c!="nodeName"&&(r[c]=f))}}}return s}function HN(t,e,n,r){if(n==jo&&r==jo)return e;let s=e;for(let o=0;o<r.length;o++){let a=r[o],c=n[o];if(o){let f;c&&c.nodeName==a.nodeName&&s!=t&&(f=s.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(s),c=jo[0]),s=f}qY(s,c||jo[0],a)}return s}function qY(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function $N(t,e,n){return HN(t,t,jo,sv(e,n,t.nodeType!=1))}function np(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Kk(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class YY{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=WY(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=xr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[o])&&!this.isLocked(d.dom)){c=f;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let f=na.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,s){let o=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))o=this.top.children.indexOf(a,this.index);else for(let c=this.index,f=Math.min(this.top.children.length,c+5);c<f;c++){let d=this.top.children[c];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,s,o){let a=this.top.children[s];return a.dirty==cs&&a.dom==a.contentDOM&&(a.dirty=Ro),a.update(e,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,o,a){for(let c=this.index;c<this.top.children.length;c++){let f=this.top.children[c];if(f instanceof Yi){let d=this.preMatch.matched.get(f);if(d!=null&&d!=o)return!1;let p=f.dom,m,y=this.isLocked(p)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=cs&&np(n,f.outerDeco));if(!y&&f.update(e,n,r,s))return this.destroyBetween(this.index,c),f.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(f,e,n,r,s,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ro,m.updateChildren(s,a+1),m.dirty=xr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,o,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!np(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Yi.create(this.top,n,r,s,o,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let f of c.children)f.parent=c}return e.destroy(),c}addNode(e,n,r,s,o){let a=Yi.create(this.top,e,n,r,s,o);a.contentDOM&&a.updateChildren(s,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new VN(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof na;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Sm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Sn||dn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new IN(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function WY(t,e){let n=e,r=n.children.length,s=t.childCount,o=new Map,a=[];e:for(;s>0;){let c;for(;;)if(r){let d=n.children[r-1];if(d instanceof na)n=d,r=d.children.length;else{c=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let f=c.node;if(f){if(f!=t.child(s-1))break;--s,o.set(c,s),a.push(c)}}return{index:s,matched:o,matches:a.reverse()}}function GY(t,e){return t.type.side-e.type.side}function KY(t,e,n,r){let s=e.locals(t),o=0;if(s.length==0){for(let d=0;d<t.childCount;d++){let p=t.child(d);r(p,s,e.forChild(o,p),d),o+=p.nodeSize}return}let a=0,c=[],f=null;for(let d=0;;){let p,m;for(;a<s.length&&s[a].to==o;){let T=s[a++];T.widget&&(p?(m||(m=[p])).push(T):p=T)}if(p)if(m){m.sort(GY);for(let T=0;T<m.length;T++)n(m[T],d,!!f)}else n(p,d,!!f);let y,b;if(f)b=-1,y=f,f=null;else if(d<t.childCount)b=d,y=t.child(d++);else break;for(let T=0;T<c.length;T++)c[T].to<=o&&c.splice(T--,1);for(;a<s.length&&s[a].from<=o&&s[a].to>o;)c.push(s[a++]);let S=o+y.nodeSize;if(y.isText){let T=S;a<s.length&&s[a].from<T&&(T=s[a].from);for(let _=0;_<c.length;_++)c[_].to<T&&(T=c[_].to);T<S&&(f=y.cut(T-o),y=y.cut(0,T-o),S=T,b=-1)}else for(;a<s.length&&s[a].to<S;)a++;let w=y.isInline&&!y.isLeaf?c.filter(T=>!T.inline):c.slice();r(y,w,e.forChild(o,y),b),o=S}}function QY(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function XY(t,e,n,r){for(let s=0,o=0;s<t.childCount&&o<=r;){let a=t.child(s++),c=o;if(o+=a.nodeSize,!a.isText)continue;let f=a.text;for(;s<t.childCount;){let d=t.child(s++);if(o+=d.nodeSize,!d.isText)break;f+=d.text}if(o>=n){if(o>=r&&f.slice(r-e.length-c,r-c)==e)return r-e.length;let d=c<r?f.lastIndexOf(e,r-c-1):-1;if(d>=0&&d+e.length+c>=n)return c+d;if(n==r&&f.length>=r+e.length-c&&f.slice(r-c,r-c+e.length)==e)return r}}return-1}function iv(t,e,n,r,s){let o=[];for(let a=0,c=0;a<t.length;a++){let f=t[a],d=c,p=c+=f.size;d>=n||p<=e?o.push(f):(d<e&&o.push(f.slice(0,e-d,r)),s&&(o.push(s),s=void 0),p>n&&o.push(f.slice(n-d,f.size,r)))}return o}function Kb(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let c=r.resolve(a),f,d;if(xm(n)){for(f=a;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&pe.isSelectable(m)&&s.parent&&!(m.isInline&&TY(n.focusNode,n.focusOffset,s.dom))){let y=s.posBefore;d=new pe(a==y?c:r.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,y=a;for(let b=0;b<n.rangeCount;b++){let S=n.getRangeAt(b);m=Math.min(m,t.docView.posFromDOM(S.startContainer,S.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(m<0)return null;[f,a]=y==t.state.selection.anchor?[y,m]:[m,y],c=r.resolve(a)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let p=r.resolve(f);if(!d){let m=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;d=Qb(t,p,c,m)}return d}function FN(t){return t.editable?t.hasFocus():YN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ws(t,e=!1){let n=t.state.selection;if(qN(t,n),!!FN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&dn){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ta(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ZY(t);else{let{anchor:r,head:s}=n,o,a;Qk&&!(n instanceof Se)&&(n.$from.parent.inlineContent||(o=Xk(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=Xk(t,n.to))),t.docView.setSelection(r,s,t,e),Qk&&(o&&Jk(o),a&&Jk(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&JY(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Qk=Sn||dn&&DN<63;function Xk(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Sn&&s&&s.contentEditable=="false")return R0(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return R0(s);if(o)return R0(o)}}function R0(t){return t.contentEditable="true",Sn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Jk(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function JY(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!FN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ZY(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,rn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&Pn&&qi<=11&&(r.disabled=!0,r.disabled=!1)}function qN(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Zk(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Zk(t)}function Zk(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Qb(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||Se.between(e,n,r)}function eE(t){return t.editable&&!t.hasFocus()?!1:YN(t)}function YN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function eW(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ta(e.node,e.offset,n.anchorNode,n.anchorOffset)}function ov(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&Ee.findFrom(o,e)}function Di(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function tE(t,e,n){let r=t.state.selection;if(r instanceof Se)if(n.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Di(t,new Se(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=ov(t.state,e);return s&&s instanceof pe?Di(t,s):!1}else if(!(gr&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM?pe.isSelectable(o)?Di(t,new pe(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):df?Di(t,new Se(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof pe&&r.node.isInline)return Di(t,new Se(e>0?r.$to:r.$from));{let s=ov(t.state,e);return s?Di(t,s):!1}}}function rp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function hu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ka(t,e){return e<0?tW(t):nW(t)}function tW(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,o,a=!1;for(Pr&&n.nodeType==1&&r<rp(n)&&hu(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(hu(c,-1))s=n,o=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(WN(n))break;{let c=n.previousSibling;for(;c&&hu(c,-1);)s=n.parentNode,o=rn(c),c=c.previousSibling;if(c)n=c,r=rp(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?av(t,n,r):s&&av(t,s,o)}function nW(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=rp(n),o,a;for(;;)if(r<s){if(n.nodeType!=1)break;let c=n.childNodes[r];if(hu(c,1))o=n,a=++r;else break}else{if(WN(n))break;{let c=n.nextSibling;for(;c&&hu(c,1);)o=c.parentNode,a=rn(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=rp(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}o&&av(t,o,a)}function WN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function rW(t,e){for(;t&&e==t.childNodes.length&&!ff(t);)e=rn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function sW(t,e){for(;t&&!e&&!ff(t);)e=rn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function av(t,e,n){if(e.nodeType!=3){let o,a;(a=rW(e,n))?(e=a,n=0):(o=sW(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(xm(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Ws(t)},50)}function nE(t,e){let n=t.state.doc.resolve(e);if(!(dn||kY)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function rE(t,e,n){let r=t.state.selection;if(r instanceof Se&&!r.empty||n.indexOf("s")>-1||gr&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=ov(t.state,e);if(a&&a instanceof pe)return Di(t,a)}if(!s.parent.inlineContent){let a=e<0?s:o,c=r instanceof Kn?Ee.near(a,e):Ee.findFrom(a,e);return c?Di(t,c):!1}return!1}function sE(t,e){if(!(t.state.selection instanceof Se))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),t.dispatch(a),!0}return!1}function iE(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function iW(t){if(!Sn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;iE(t,r,"true"),setTimeout(()=>iE(t,r,"false"),20)}return!1}function oW(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function aW(t,e){let n=e.keyCode,r=oW(e);if(n==8||gr&&n==72&&r=="c")return sE(t,-1)||Ka(t,-1);if(n==46&&!e.shiftKey||gr&&n==68&&r=="c")return sE(t,1)||Ka(t,1);if(n==13||n==27)return!0;if(n==37||gr&&n==66&&r=="c"){let s=n==37?nE(t,t.state.selection.from)=="ltr"?-1:1:-1;return tE(t,s,r)||Ka(t,s)}else if(n==39||gr&&n==70&&r=="c"){let s=n==39?nE(t,t.state.selection.from)=="ltr"?1:-1:1;return tE(t,s,r)||Ka(t,s)}else{if(n==38||gr&&n==80&&r=="c")return rE(t,-1,r)||Ka(t,-1);if(n==40||gr&&n==78&&r=="c")return iW(t)||rE(t,1,r)||Ka(t,1);if(r==(gr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Xb(t,e){t.someProp("transformCopied",b=>{e=b(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let b=r.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let a=t.someProp("clipboardSerializer")||ia.fromSchema(t.state.schema),c=ZN(),f=c.createElement("div");f.appendChild(a.serializeFragment(r,{document:c}));let d=f.firstChild,p,m=0;for(;d&&d.nodeType==1&&(p=JN[d.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let S=c.createElement(p[b]);for(;f.firstChild;)S.appendChild(f.firstChild);f.appendChild(S),m++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${s} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",b=>b(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:y,slice:e}}function GN(t,e,n,r,s){let o=s.parent.type.spec.code,a,c;if(!n&&!e)return null;let f=e&&(r||o||!n);if(f){if(t.someProp("transformPastedText",y=>{e=y(e,o||r,t)}),o)return e?new ie(X.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ie.empty;let m=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(m)c=m;else{let y=s.marks(),{schema:b}=t.state,S=ia.fromSchema(b);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let T=a.appendChild(document.createElement("p"));w&&T.appendChild(S.serializeNode(b.text(w,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=fW(n),df&&dW(a);let d=a&&a.querySelector("[data-pm-slice]"),p=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=a.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;a=y}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||uu.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||p),context:s,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!lW.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)c=hW(oE(c,+p[1],+p[2]),p[4]);else if(c=ie.maxOpen(cW(c.content,s),!0),c.openStart||c.openEnd){let m=0,y=0;for(let b=c.content.firstChild;m<c.openStart&&!b.type.spec.isolating;m++,b=b.firstChild);for(let b=c.content.lastChild;y<c.openEnd&&!b.type.spec.isolating;y++,b=b.lastChild);c=oE(c,m,y)}return t.someProp("transformPasted",m=>{c=m(c,t)}),c}const lW=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function cW(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(t.forEach(c=>{if(!a)return;let f=s.findWrapping(c.type),d;if(!f)return a=null;if(d=a.length&&o.length&&QN(f,o,c,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=XN(a[a.length-1],o.length));let p=KN(c,f);a.push(p),s=s.matchType(p.type),o=f}}),a)return X.from(a)}return t}function KN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,X.from(t));return t}function QN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=QN(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(X.from(KN(n,t,s+1))))}}function XN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,XN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(X.empty,!0);return t.copy(n.append(r))}function lv(t,e,n,r,s,o){let a=e<0?t.firstChild:t.lastChild,c=a.content;return t.childCount>1&&(o=0),s<r-1&&(c=lv(c,e,n,r,s+1,o)),s>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(X.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function oE(t,e,n){return e<t.openStart&&(t=new ie(lv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ie(lv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const JN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let aE=null;function ZN(){return aE||(aE=document.implementation.createHTMLDocument("title"))}let j0=null;function uW(t){let e=window.trustedTypes;return e?(j0||(j0=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),j0.createHTML(t)):t}function fW(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=ZN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&JN[r[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=uW(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function dW(t){let e=t.querySelectorAll(dn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function hW(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:a}=t;for(let c=r.length-2;c>=0;c-=2){let f=n.nodes[r[c]];if(!f||f.hasRequiredAttrs())break;s=X.from(f.create(r[c+1],s)),o++,a++}return new ie(s,o,a)}const wn={},Tn={},pW={touchstart:!0,touchmove:!0};class mW{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function gW(t){for(let e in wn){let n=wn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{vW(t,r)&&!Jb(t,r)&&(t.editable||!(r.type in Tn))&&n(t,r)},pW[e]?{passive:!0}:void 0)}Sn&&t.dom.addEventListener("input",()=>null),cv(t)}function Ui(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function yW(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function cv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Jb(t,r))})}function Jb(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function vW(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function bW(t,e){!Jb(t,e)&&wn[e.type]&&(t.editable||!(e.type in Tn))&&wn[e.type](t,e)}Tn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!tD(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Us&&dn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),_l&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Oo(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||aW(t,n)?n.preventDefault():Ui(t,"key")};Tn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Tn.keypress=(t,e)=>{let n=e;if(tD(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||gr&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Se)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function wm(t){return{left:t.clientX,top:t.clientY}}function xW(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Zb(t,e,n,r,s){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,c=>a>o.depth?c(t,n,o.nodeAfter,o.before(a),s,!0):c(t,n,o.node(a),o.before(a),s,!1)))return!0;return!1}function vl(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function SW(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&pe.isSelectable(r)?(vl(t,new pe(n)),!0):!1}function wW(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof pe&&(r=n.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let c=a>o.depth?o.nodeAfter:o.node(a);if(pe.isSelectable(c)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(a);break}}return s!=null?(vl(t,pe.create(t.state.doc,s)),!0):!1}function TW(t,e,n,r,s){return Zb(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(s?wW(t,n):SW(t,n))}function CW(t,e,n,r){return Zb(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function _W(t,e,n,r){return Zb(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||kW(t,n,r)}function kW(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(vl(t,Se.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(a.inlineContent)vl(t,Se.create(r,c+1,c+1+a.content.size));else if(pe.isSelectable(a))vl(t,pe.create(r,c));else continue;return!0}}function ex(t){return sp(t)}const eD=gr?"metaKey":"ctrlKey";wn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ex(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&xW(n,t.input.lastClick)&&!n[eD]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=t.posAtCoords(wm(n));a&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new EW(t,a,n,!!r)):(o=="doubleClick"?CW:_W)(t,a.pos,a.inside,n)?n.preventDefault():Ui(t,"pointer"))};class EW{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[eD],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,a=p.depth?p.before():0}const c=s?null:r.target,f=c?e.docView.nearestDesc(c,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||d instanceof pe&&d.from<=a&&d.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Pr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ui(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ws(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(wm(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ui(this.view,"pointer"):TW(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Sn&&this.mightDrag&&!this.mightDrag.node.isAtom||dn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(vl(this.view,Ee.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ui(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ui(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}wn.touchstart=t=>{t.input.lastTouch=Date.now(),ex(t),Ui(t,"pointer")};wn.touchmove=t=>{t.input.lastTouch=Date.now(),Ui(t,"pointer")};wn.contextmenu=t=>ex(t);function tD(t,e){return t.composing?!0:Sn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const MW=Us?5e3:-1;Tn.compositionstart=Tn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Se&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),sp(t,!0),t.markCursor=null;else if(sp(t,!e.selection.empty),Pr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let a=o<0?s.lastChild:s.childNodes[o-1];if(!a)break;if(a.nodeType==3){let c=t.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else s=a,o=-1}}t.input.composing=!0}nD(t,MW)};Tn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,nD(t,20))};function nD(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>sp(t),e))}function rD(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=AW());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function OW(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=SY(e.focusNode,e.focusOffset),r=wY(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function AW(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function sp(t,e=!1){if(!(Us&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),rD(t),e||t.docView&&t.docView.dirty){let n=Kb(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function NW(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Vu=Pn&&qi<15||_l&&EY<604;wn.copy=Tn.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let o=Vu?null:n.clipboardData,a=r.content(),{dom:c,text:f}=Xb(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",f)):NW(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function DW(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function RW(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Iu(t,r.value,null,s,e):Iu(t,r.textContent,r.innerHTML,s,e)},50)}function Iu(t,e,n,r,s){let o=GN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,s,o||ie.empty)))return!0;if(!o)return!1;let a=DW(o),c=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function sD(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Tn.paste=(t,e)=>{let n=e;if(t.composing&&!Us)return;let r=Vu?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Iu(t,sD(r),r.getData("text/html"),s,n)?n.preventDefault():RW(t,n)};class iD{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const jW=gr?"altKey":"ctrlKey";function oD(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[jW]}wn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(wm(n)),a;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof pe?s.to-1:s.to))){if(r&&r.mightDrag)a=pe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=pe.create(t.state.doc,m.posBefore))}}let c=(a||t.state.selection).content(),{dom:f,text:d,slice:p}=Xb(t,c);(!n.dataTransfer.files.length||!dn||DN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Vu?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",Vu||n.dataTransfer.setData("text/plain",d),t.dragging=new iD(p,oD(t,n),a)};wn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Tn.dragover=Tn.dragenter=(t,e)=>e.preventDefault();Tn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(wm(n));if(!s)return;let o=t.state.doc.resolve(s.pos),a=r&&r.slice;a?t.someProp("transformPasted",S=>{a=S(a,t)}):a=GN(t,sD(n.dataTransfer),Vu?null:n.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&oD(t,n));if(t.someProp("handleDrop",S=>S(t,n,a||ie.empty,c))){n.preventDefault();return}if(!a)return;n.preventDefault();let f=a?fN(t.state.doc,o.pos,a):o.pos;f==null&&(f=o.pos);let d=t.state.tr;if(c){let{node:S}=r;S?S.replace(d):d.deleteSelection()}let p=d.mapping.map(f),m=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(p,p,a.content.firstChild):d.replaceRange(p,p,a),d.doc.eq(y))return;let b=d.doc.resolve(p);if(m&&pe.isSelectable(a.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new pe(b));else{let S=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((w,T,_,M)=>S=M),d.setSelection(Qb(t,b,d.doc.resolve(S)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};wn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ws(t)},20))};wn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};wn.beforeinput=(t,e)=>{if(dn&&Us&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Oo(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Tn)wn[t]=Tn[t];function Uu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ip{constructor(e,n){this.toDOM=e,this.spec=n||$o,this.side=this.spec.side||0}map(e,n,r,s){let{pos:o,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new bn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ip&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Uu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Wi{constructor(e,n){this.attrs=e,this.spec=n||$o}map(e,n,r,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new bn(o,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Wi&&Uu(this.attrs,e.attrs)&&Uu(this.spec,e.spec)}static is(e){return e.type instanceof Wi}destroy(){}}class tx{constructor(e,n){this.attrs=e,this.spec=n||$o}map(e,n,r,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=o.pos?null:new bn(o.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(r)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof tx&&Uu(this.attrs,e.attrs)&&Uu(this.spec,e.spec)}destroy(){}}class bn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new bn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new bn(e,e,new ip(n,r))}static inline(e,n,r,s){return new bn(e,n,new Wi(r,s))}static node(e,n,r,s){return new bn(e,n,new tx(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Wi}get widget(){return this.type instanceof ip}}const sl=[],$o={};class dt{constructor(e,n){this.local=e.length?e:sl,this.children=n.length?n:sl}static create(e,n){return n.length?op(n,e,0,$o):un}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,o){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,n-c,r,s+c,o)}}map(e,n,r){return this==un||e.maps.length==0?this:this.mapInner(e,n,0,0,r||$o)}mapInner(e,n,r,s,o){let a;for(let c=0;c<this.local.length;c++){let f=this.local[c].map(e,r,s);f&&f.type.valid(n,f)?(a||(a=[])).push(f):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?LW(this.children,a||[],e,n,r,s,o):a?new dt(a.sort(Fo),sl):un}add(e,n){return n.length?this==un?dt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,o=0;e.forEach((c,f)=>{let d=f+r,p;if(p=lD(n,c,d)){for(s||(s=this.children.slice());o<s.length&&s[o]<f;)o+=3;s[o]==f?s[o+2]=s[o+2].addInner(c,p,d+1):s.splice(o,0,f,f+c.nodeSize,op(p,c,d+1,$o)),o+=3}});let a=aD(o?cD(n):n,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new dt(a.length?this.local.concat(a).sort(Fo):this.local,s||this.children)}remove(e){return e.length==0||this==un?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let a,c=r[o]+n,f=r[o+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<f&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[o+2].removeInner(a,c+1);d!=un?r[o+2]=d:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let c=0;c<s.length;c++)s[c].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new dt(s,r):un}forChild(e,n){if(this==un)return this;if(n.isLeaf)return dt.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,a=o+n.content.size;for(let c=0;c<this.local.length;c++){let f=this.local[c];if(f.from<a&&f.to>o&&f.type instanceof Wi){let d=Math.max(o,f.from)-o,p=Math.min(a,f.to)-o;d<p&&(s||(s=[])).push(f.copy(d,p))}}if(s){let c=new dt(s.sort(Fo),sl);return r?new Li([c,r]):c}return r||un}eq(e){if(this==e)return!0;if(!(e instanceof dt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return nx(this.localsInner(e))}localsInner(e){if(this==un)return sl;if(e.inlineContent||!this.local.some(Wi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Wi||n.push(this.local[r]);return n}forEachSet(e){e(this)}}dt.empty=new dt([],[]);dt.removeOverlap=nx;const un=dt.empty;class Li{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,$o));return Li.from(r)}forChild(e,n){if(n.isLeaf)return dt.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=un&&(o instanceof Li?r=r.concat(o.members):r.push(o))}return Li.from(r)}eq(e){if(!(e instanceof Li)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?nx(r?n:n.sort(Fo)):sl}static from(e){switch(e.length){case 0:return un;case 1:return e[0];default:return new Li(e.every(n=>n instanceof dt)?e:e.reduce((n,r)=>n.concat(r instanceof dt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function LW(t,e,n,r,s,o,a){let c=t.slice();for(let d=0,p=o;d<n.maps.length;d++){let m=0;n.maps[d].forEach((y,b,S,w)=>{let T=w-S-(b-y);for(let _=0;_<c.length;_+=3){let M=c[_+1];if(M<0||y>M+p-m)continue;let A=c[_]+p-m;b>=A?c[_+1]=y<=A?-2:-1:y>=p&&T&&(c[_]+=T,c[_+1]+=T)}m+=T}),p=n.maps[d].map(p,-1)}let f=!1;for(let d=0;d<c.length;d+=3)if(c[d+1]<0){if(c[d+1]==-2){f=!0,c[d+1]=-1;continue}let p=n.map(t[d]+o),m=p-s;if(m<0||m>=r.content.size){f=!0;continue}let y=n.map(t[d+1]+o,-1),b=y-s,{index:S,offset:w}=r.content.findIndex(m),T=r.maybeChild(S);if(T&&w==m&&w+T.nodeSize==b){let _=c[d+2].mapInner(n,T,p+1,t[d]+o+1,a);_!=un?(c[d]=m,c[d+1]=b,c[d+2]=_):(c[d+1]=-2,f=!0)}else f=!0}if(f){let d=PW(c,t,e,n,s,o,a),p=op(d,r,0,a);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let b=p.children[m];for(;y<c.length&&c[y]<b;)y+=3;c.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new dt(e.sort(Fo),c)}function aD(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new bn(s.from+e,s.to+e,s.type))}return n}function PW(t,e,n,r,s,o,a){function c(f,d){for(let p=0;p<f.local.length;p++){let m=f.local[p].map(r,s,d);m?n.push(m):a.onRemove&&a.onRemove(f.local[p].spec)}for(let p=0;p<f.children.length;p+=3)c(f.children[p+2],f.children[p]+d+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&c(t[f+2],e[f]+o+1);return n}function lD(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[o]=null);return s}function cD(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function op(t,e,n,r){let s=[],o=!1;e.forEach((c,f)=>{let d=lD(t,c,f+n);if(d){o=!0;let p=op(d,c,n+f+1,r);p!=un&&s.push(f,f+c.nodeSize,p)}});let a=aD(o?cD(t):t,-n).sort(Fo);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||s.length?new dt(a,s):un}function Fo(t,e){return t.from-e.from||t.to-e.to}function nx(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,r.to),lE(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),lE(e,s,r.copy(o.from,r.to)));break}}}return e}function lE(t,e,n){for(;e<t.length&&Fo(n,t[e])>0;)e++;t.splice(e,0,n)}function L0(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=un&&e.push(r)}),t.cursorWrapper&&e.push(dt.create(t.state.doc,[t.cursorWrapper.deco])),Li.from(e)}const BW={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},zW=Pn&&qi<=11;class VW{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class IW{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new VW,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Pn&&qi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),zW&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,BW)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(eE(this.view)){if(this.suppressingSelectionUpdates)return Ws(this.view);if(Pn&&qi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ta(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Cl(o))n.add(o);for(let o=e.anchorNode;o;o=Cl(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&eE(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,c=!1,f=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],f);m&&(o=o<0?m.from:Math.min(m.from,o),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(c=!0))}if(Pr&&f.length){let p=f.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,y]=p;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of p){let b=y.parentNode;b&&b.nodeName=="LI"&&(!m||$W(e,m)!=b)&&y.remove()}}}let d=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&xm(r)&&(d=Kb(e))&&d.eq(Ee.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ws(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,a),UW(e)),this.handleDOMChange(o,a,c,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ws(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Pn&&qi<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let a=s&&s.parentNode==e.target?rn(s)+1:0,c=r.localPosFromDOM(e.target,a,-1),f=o&&o.parentNode==e.target?rn(o):e.target.childNodes.length,d=r.localPosFromDOM(e.target,f,1);return{from:c,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let cE=new WeakMap,uE=!1;function UW(t){if(!cE.has(t)&&(cE.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Pr,uE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),uE=!0}}function fE(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return ta(a.node,a.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}function HW(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return fE(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?fE(t,n):null}function $W(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function FW(t,e,n){let{node:r,fromOffset:s,toOffset:o,from:a,to:c}=t.docView.parseRange(e,n),f=t.domSelectionRange(),d,p=f.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(d=[{node:p,offset:f.anchorOffset}],xm(f)||d.push({node:f.focusNode,offset:f.focusOffset})),dn&&t.input.lastKeyCode===8)for(let T=o;T>s;T--){let _=r.childNodes[T-1],M=_.pmViewDesc;if(_.nodeName=="BR"&&!M){o=T;break}if(!M||M.size)break}let m=t.state.doc,y=t.someProp("domParser")||uu.fromSchema(t.state.schema),b=m.resolve(a),S=null,w=y.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:o,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:qW,context:b});if(d&&d[0].pos!=null){let T=d[0].pos,_=d[1]&&d[1].pos;_==null&&(_=T),S={anchor:T+a,head:_+a}}return{doc:w,sel:S,from:a,to:c}}function qW(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Sn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Sn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const YW=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function WW(t,e,n,r,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let R=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,W=Kb(t,R);if(W&&!t.state.selection.eq(W)){if(dn&&Us&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",oe=>oe(t,Oo(13,"Enter"))))return;let Z=t.state.tr.setSelection(W);R=="pointer"?Z.setMeta("pointer",!0):R=="key"&&Z.scrollIntoView(),o&&Z.setMeta("composition",o),t.dispatch(Z)}return}let a=t.state.doc.resolve(e),c=a.sharedDepth(n);e=a.before(c+1),n=t.state.doc.resolve(n).after(c+1);let f=t.state.selection,d=FW(t,e,n),p=t.state.doc,m=p.slice(d.from,d.to),y,b;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,b="end"):(y=t.state.selection.from,b="start"),t.input.lastKeyCode=null;let S=QW(m.content,d.doc.content,d.from,y,b);if(S&&t.input.domChangeCount++,(_l&&t.input.lastIOSEnter>Date.now()-225||Us)&&s.some(R=>R.nodeType==1&&!YW.test(R.nodeName))&&(!S||S.endA>=S.endB)&&t.someProp("handleKeyDown",R=>R(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!S)if(r&&f instanceof Se&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))S={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let R=dE(t,t.state.doc,d.sel);if(R&&!R.eq(t.state.selection)){let W=t.state.tr.setSelection(R);o&&W.setMeta("composition",o),t.dispatch(W)}}return}t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof Se&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),Pn&&qi<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>d.from&&d.doc.textBetween(S.start-d.from-1,S.start-d.from+1)==" "&&(S.start--,S.endA--,S.endB--);let w=d.doc.resolveNoCache(S.start-d.from),T=d.doc.resolveNoCache(S.endB-d.from),_=p.resolve(S.start),M=w.sameParent(T)&&w.parent.inlineContent&&_.end()>=S.endA,A;if((_l&&t.input.lastIOSEnter>Date.now()-225&&(!M||s.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!M&&w.pos<d.doc.content.size&&(!w.sameParent(T)||!w.parent.inlineContent)&&!/\S/.test(d.doc.textBetween(w.pos,T.pos,"",""))&&(A=Ee.findFrom(d.doc.resolve(w.pos+1),1,!0))&&A.head>w.pos)&&t.someProp("handleKeyDown",R=>R(t,Oo(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>S.start&&KW(p,S.start,S.endA,w,T)&&t.someProp("handleKeyDown",R=>R(t,Oo(8,"Backspace")))){Us&&dn&&t.domObserver.suppressSelectionUpdates();return}dn&&S.endB==S.start&&(t.input.lastChromeDelete=Date.now()),Us&&!M&&w.start()!=T.start()&&T.parentOffset==0&&w.depth==T.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==S.endA&&(S.endB-=2,T=d.doc.resolveNoCache(S.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(R){return R(t,Oo(13,"Enter"))})},20));let N=S.start,O=S.endA,B=R=>{let W=R||t.state.tr.replace(N,O,d.doc.slice(S.start-d.from,S.endB-d.from));if(d.sel){let Z=dE(t,W.doc,d.sel);Z&&!(dn&&t.composing&&Z.empty&&(S.start!=S.endB||t.input.lastChromeDelete<Date.now()-100)&&(Z.head==N||Z.head==W.mapping.map(O)-1)||Pn&&Z.empty&&Z.head==N)&&W.setSelection(Z)}return o&&W.setMeta("composition",o),W.scrollIntoView()},L;if(M){if(w.pos==T.pos){Pn&&qi<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ws(t),20));let R=B(t.state.tr.delete(N,O)),W=p.resolve(S.start).marksAcross(p.resolve(S.endA));W&&R.ensureMarks(W),t.dispatch(R)}else if(S.endA==S.endB&&(L=GW(w.parent.content.cut(w.parentOffset,T.parentOffset),_.parent.content.cut(_.parentOffset,S.endA-_.start())))){let R=B(t.state.tr);L.type=="add"?R.addMark(N,O,L.mark):R.removeMark(N,O,L.mark),t.dispatch(R)}else if(w.parent.child(w.index()).isText&&w.index()==T.index()-(T.textOffset?0:1)){let R=w.parent.textBetween(w.parentOffset,T.parentOffset),W=()=>B(t.state.tr.insertText(R,N,O));t.someProp("handleTextInput",Z=>Z(t,N,O,R,W))||t.dispatch(W())}}else t.dispatch(B())}function dE(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Qb(t,e.resolve(n.anchor),e.resolve(n.head))}function GW(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,a,c,f;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],a="add",f=p=>p.mark(c.addToSet(p.marks));else if(s.length==0&&o.length==1)c=o[0],a="remove",f=p=>p.mark(c.removeFromSet(p.marks));else return null;let d=[];for(let p=0;p<e.childCount;p++)d.push(f(e.child(p)));if(X.from(d).eq(t))return{mark:c,type:a}}function KW(t,e,n,r,s){if(n-e<=s.pos-r.pos||P0(r,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(P0(o,!0,!0));return!a.parent.isTextblock||a.pos>n||P0(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function P0(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function QW(t,e,n,r,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let f=Math.max(0,o-Math.min(a,c));r-=a+f-o}if(a<o&&t.size<e.size){let f=r<=o&&r>=a?o-r:0;o-=f,o&&o<e.size&&hE(e.textBetween(o-1,o+1))&&(o+=f?1:-1),c=o+(c-a),a=o}else if(c<o){let f=r<=o&&r>=c?o-r:0;o-=f,o&&o<t.size&&hE(t.textBetween(o-1,o+1))&&(o+=f?1:-1),a=o+(a-c),c=o}return{start:o,endA:a,endB:c}}function hE(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class uD{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mW,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(vE),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gE(this),mE(this),this.nodeViews=yE(this),this.docView=Gk(this.state.doc,pE(this),L0(this),this.dom,this),this.domObserver=new IW(this,(r,s,o,a)=>WW(this,r,s,o,a)),this.domObserver.start(),gW(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&cv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(vE),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(rD(this),a=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=yE(this);JW(b,this.nodeViews)&&(this.nodeViews=b,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&cv(this),this.editable=gE(this),mE(this);let f=L0(this),d=pE(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,d,f);(m||!e.selection.eq(s.selection))&&(a=!0);let y=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&AY(this);if(a){this.domObserver.stop();let b=m&&(Pn||dn)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&XW(s.selection,e.selection);if(m){let S=dn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=OW(this)),(o||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=Gk(e.doc,d,f,this.dom,this)),S&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&eW(this))?Ws(this,b):(qN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&NY(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Hk(this,n.getBoundingClientRect(),e)}else Hk(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new iD(e.slice,e.move,s<0?void 0:pe.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(s=n?n(c):c))return s}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let c=o[a].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(Pn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&DY(this.dom),Ws(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return BY(this,e)}coordsAtPos(e,n=1){return BN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return HY(this,n||this.state,e)}pasteHTML(e,n){return Iu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Iu(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Xb(this,e)}destroy(){this.docView&&(yW(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],L0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,bY())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return bW(this,e)}domSelectionRange(){let e=this.domSelection();return e?Sn&&this.root.nodeType===11&&CY(this.dom.ownerDocument)==this.dom&&HW(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}uD.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function pE(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[bn.node(0,t.state.doc.content.size,e)]}function mE(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:bn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function gE(t){return!t.someProp("editable",e=>e(t.state)===!1)}function XW(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function yE(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function JW(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function vE(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ki={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ap={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ZW=typeof navigator<"u"&&/Mac/.test(navigator.platform),eG=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var sn=0;sn<10;sn++)Ki[48+sn]=Ki[96+sn]=String(sn);for(var sn=1;sn<=24;sn++)Ki[sn+111]="F"+sn;for(var sn=65;sn<=90;sn++)Ki[sn]=String.fromCharCode(sn+32),ap[sn]=String.fromCharCode(sn);for(var B0 in Ki)ap.hasOwnProperty(B0)||(ap[B0]=Ki[B0]);function tG(t){var e=ZW&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||eG&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ap:Ki)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const nG=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),rG=typeof navigator<"u"&&/Win/.test(navigator.platform);function sG(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c++){let f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))nG?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function iG(t){let e=Object.create(null);for(let n in t)e[sG(n)]=t[n];return e}function z0(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function oG(t){return new Ct({props:{handleKeyDown:fD(t)}})}function fD(t){let e=iG(t);return function(n,r){let s=tG(r),o,a=e[z0(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[z0(s,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(rG&&r.ctrlKey&&r.altKey)&&(o=Ki[r.keyCode])&&o!=s){let c=e[z0(o,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var aG=Object.defineProperty,rx=(t,e)=>{for(var n in e)aG(t,n,{get:e[n],enumerable:!0})};function Tm(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,o=n.storedMarks,n}}}var Cm=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...d)=>{const p=c(...d)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a=[],c=!!t,f=t||s.tr,d=()=>(!c&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),a.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,y])=>[m,(...S)=>{const w=this.buildProps(f,e),T=y(...S)(w);return a.push(T),p}])),run:d};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,f])=>[c,(...d)=>f(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a={tr:t,editor:r,view:o,state:Tm({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,f])=>[c,(...d)=>f(...d)(a)]))}};return a}},dD={};rx(dD,{blur:()=>lG,clearContent:()=>cG,clearNodes:()=>uG,command:()=>fG,createParagraphNear:()=>dG,cut:()=>hG,deleteCurrentNode:()=>pG,deleteNode:()=>mG,deleteRange:()=>gG,deleteSelection:()=>yG,enter:()=>vG,exitCode:()=>bG,extendMarkRange:()=>xG,first:()=>SG,focus:()=>TG,forEach:()=>CG,insertContent:()=>_G,insertContentAt:()=>MG,joinBackward:()=>NG,joinDown:()=>AG,joinForward:()=>DG,joinItemBackward:()=>RG,joinItemForward:()=>jG,joinTextblockBackward:()=>LG,joinTextblockForward:()=>PG,joinUp:()=>OG,keyboardShortcut:()=>zG,lift:()=>VG,liftEmptyBlock:()=>IG,liftListItem:()=>UG,newlineInCode:()=>HG,resetAttributes:()=>$G,scrollIntoView:()=>FG,selectAll:()=>qG,selectNodeBackward:()=>YG,selectNodeForward:()=>WG,selectParentNode:()=>GG,selectTextblockEnd:()=>KG,selectTextblockStart:()=>QG,setContent:()=>XG,setMark:()=>mK,setMeta:()=>gK,setNode:()=>yK,setNodeSelection:()=>vK,setTextSelection:()=>bK,sinkListItem:()=>xK,splitBlock:()=>SK,splitListItem:()=>wK,toggleList:()=>TK,toggleMark:()=>CK,toggleNode:()=>_K,toggleWrap:()=>kK,undoInputRule:()=>EK,unsetAllMarks:()=>MK,unsetMark:()=>OK,updateAttributes:()=>AK,wrapIn:()=>NK,wrapInList:()=>DK});var lG=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),cG=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),uG=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:o,$to:a})=>{t.doc.nodesBetween(o.pos,a.pos,(c,f)=>{if(c.type.isText)return;const{doc:d,mapping:p}=e,m=d.resolve(p.map(f)),y=d.resolve(p.map(f+c.nodeSize)),b=m.blockRange(y);if(!b)return;const S=Hl(b);if(c.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(b.start,w)}(S||S===0)&&e.lift(b,S)})}),!0},fG=t=>e=>t(e),dG=()=>({state:t,dispatch:e})=>EN(t,e),hG=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new Se(r.doc.resolve(Math.max(a-1,0)))),!0},pG=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),f=s.after(o);t.delete(c,f).scrollIntoView()}return!0}return!1};function Rt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var mG=t=>({tr:e,state:n,dispatch:r})=>{const s=Rt(t,n.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===s){if(r){const f=o.before(a),d=o.after(a);e.delete(f,d).scrollIntoView()}return!0}return!1},gG=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},yG=()=>({state:t,dispatch:e})=>$b(t,e),vG=()=>({commands:t})=>t.keyboardShortcut("Enter"),bG=()=>({state:t,dispatch:e})=>sY(t,e);function sx(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function lp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:sx(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function hD(t,e,n={}){return t.find(r=>r.type===e&&lp(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function bE(t,e,n={}){return!!hD(t,e,n)}function ix(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!hD([...s.node.marks],e,n)))return;let a=s.index,c=t.start()+s.offset,f=a+1,d=c+s.node.nodeSize;for(;a>0&&bE([...t.parent.child(a-1).marks],e,n);)a-=1,c-=t.parent.child(a).nodeSize;for(;f<t.parent.childCount&&bE([...t.parent.child(f).marks],e,n);)d+=t.parent.child(f).nodeSize,f+=1;return{from:c,to:d}}function ti(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var xG=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const o=ti(t,r.schema),{doc:a,selection:c}=n,{$from:f,from:d,to:p}=c;if(s){const m=ix(f,o,e);if(m&&m.from<=d&&m.to>=p){const y=Se.create(a,m.from,m.to);n.setSelection(y)}}return!0},SG=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function pD(t){return t instanceof Se}function Lo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function mD(t,e=null){if(!e)return null;const n=Ee.atStart(t),r=Ee.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,o=r.to;return e==="all"?Se.create(t,Lo(0,s,o),Lo(t.content.size,s,o)):Se.create(t,Lo(e,s,o),Lo(e,s,o))}function wG(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ox(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var TG=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(ox()||wG())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!pD(n.state.selection))return a(),!0;const c=mD(s.doc,t)||n.state.selection,f=n.state.selection.eq(c);return o&&(f||s.setSelection(c),f&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},CG=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),_G=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),gD=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&gD(r)}return t};function Kd(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return gD(n)}function Hu(t,e,n){if(t instanceof Fi||t instanceof X)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return X.fromArray(t.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Hu("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,c="";const f=new eN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,c=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?uu.fromSchema(f).parseSlice(Kd(t),n.parseOptions):uu.fromSchema(f).parse(Kd(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=uu.fromSchema(e);return n.slice?o.parseSlice(Kd(t),n.parseOptions).content:o.parse(Kd(t),n.parseOptions)}return Hu("",e,n)}function kG(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof qt||s instanceof Yt))return;const o=t.mapping.maps[r];let a=0;o.forEach((c,f,d,p)=>{a===0&&(a=p)}),t.setSelection(Ee.near(t.doc.resolve(a),n))}var EG=t=>!("type"in t),MG=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{var a;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const f=T=>{o.emit("contentError",{editor:o,error:T,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Hu(e,o.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(T){f(T)}try{c=Hu(e,o.schema,{parseOptions:d,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(T){return f(T),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,b=!0;if((EG(c)?c:[c]).forEach(T=>{T.check(),y=y?T.isText&&T.marks.length===0:!1,b=b?T.isBlock:!1}),p===m&&b){const{parent:T}=r.doc.resolve(p);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(p-=1,m+=1)}let w;if(y){if(Array.isArray(e))w=e.map(T=>T.text||"").join("");else if(e instanceof X){let T="";e.forEach(_=>{_.text&&(T+=_.text)}),w=T}else typeof e=="object"&&e&&e.text?w=e.text:w=e;r.insertText(w,p,m)}else{w=c;const T=r.doc.resolve(p),_=T.node(),M=T.parentOffset===0,A=_.isText||_.isTextblock,N=_.content.size>0;M&&A&&N&&(p=Math.max(0,p-1)),r.replaceWith(p,m,w)}n.updateSelection&&kG(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:w}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:w})}return!0},OG=()=>({state:t,dispatch:e})=>tY(t,e),AG=()=>({state:t,dispatch:e})=>nY(t,e),NG=()=>({state:t,dispatch:e})=>xN(t,e),DG=()=>({state:t,dispatch:e})=>CN(t,e),RG=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ym(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},jG=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ym(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},LG=()=>({state:t,dispatch:e})=>Zq(t,e),PG=()=>({state:t,dispatch:e})=>eY(t,e);function yD(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function BG(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c+=1){const f=e[c];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))s=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))ox()||yD()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var zG=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const o=BG(t).split(/-(?!$)/),a=o.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,c))});return f?.steps.forEach(d=>{const p=d.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function Qi(t,e,n={}){const{from:r,to:s,empty:o}=t.selection,a=e?Rt(e,t.schema):null,c=[];t.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const b=Math.max(r,y),S=Math.min(s,y+m.nodeSize);c.push({node:m,from:b,to:S})});const f=s-r,d=c.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>lp(m.node.attrs,n,{strict:!1}));return o?!!d.length:d.reduce((m,y)=>m+y.to-y.from,0)>=f}var VG=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return Qi(n,s,e)?rY(n,r):!1},IG=()=>({state:t,dispatch:e})=>MN(t,e),UG=t=>({state:e,dispatch:n})=>{const r=Rt(t,e.schema);return mY(r)(e,n)},HG=()=>({state:t,dispatch:e})=>kN(t,e);function _m(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function xE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var $G=(t,e)=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=_m(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Rt(t,r.schema)),c==="mark"&&(a=ti(t,r.schema)),s&&n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,p)=>{o&&o===d.type&&n.setNodeMarkup(p,void 0,xE(d.attrs,e)),a&&d.marks.length&&d.marks.forEach(m=>{a===m.type&&n.addMark(p,p+d.nodeSize,a.create(xE(m.attrs,e)))})})}),!0):!1},FG=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),qG=()=>({tr:t,dispatch:e})=>{if(e){const n=new Kn(t.doc);t.setSelection(n)}return!0},YG=()=>({state:t,dispatch:e})=>wN(t,e),WG=()=>({state:t,dispatch:e})=>_N(t,e),GG=()=>({state:t,dispatch:e})=>aY(t,e),KG=()=>({state:t,dispatch:e})=>uY(t,e),QG=()=>({state:t,dispatch:e})=>cY(t,e);function uv(t,e,n={},r={}){return Hu(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var XG=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:a,commands:c})=>{const{doc:f}=o;if(r.preserveWhitespace!=="full"){const d=uv(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&o.replaceWith(0,f.content.size,d).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:f.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function vD(t,e){const n=ti(e,t.schema),{from:r,to:s,empty:o}=t.selection,a=[];o?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,f=>{a.push(...f.marks)});const c=a.find(f=>f.type.name===n.name);return c?{...c.attrs}:{}}function bD(t,e){const n=new gN(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function JG(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ZG(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&r.push({node:s,pos:o})}),r}function eK(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function km(t){return e=>eK(e.$from,t)}function de(t,e,n){return t.config[e]===void 0&&t.parent?de(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?de(t.parent,e,n):null}):t.config[e]}function ax(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=de(e,"addExtensions",n);return r?[e,...ax(r())]:e}).flat(10)}function lx(t,e){const n=ia.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function xD(t){return typeof t=="function"}function Ge(t,e=void 0,...n){return xD(t)?e?t.bind(e)(...n):t(...n):t}function tK(t={}){return Object.keys(t).length===0&&t.constructor===Object}function $u(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function SD(t){const e=[],{nodeExtensions:n,markExtensions:r}=$u(t),s=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:s},f=de(a,"addGlobalAttributes",c);if(!f)return;f().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([y,b])=>{e.push({type:m,name:y,attribute:{...o,...b}})})})})}),s.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},f=de(a,"addAttributes",c);if(!f)return;const d=f();Object.entries(d).forEach(([p,m])=>{const y={...o,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:a.name,name:p,attribute:y})})}),e}function jt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],f=r[s]?r[s].split(" "):[],d=c.filter(p=>!f.includes(p));r[s]=[...f,...d].join(" ")}else if(s==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],f=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],d=new Map;f.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());d.set(m,y)}),c.forEach(p=>{const[m,y]=p.split(":").map(b=>b.trim());d.set(m,y)}),r[s]=Array.from(d.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[s]=o}),r},{})}function cp(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>jt(n,r),{})}function nK(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function SE(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((o,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(n):nK(n.getAttribute(a.name));return c==null?o:{...o,[a.name]:c}},{});return{...r,...s}}}}function wE(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&tK(n)?!1:n!=null))}function rK(t,e){var n;const r=SD(t),{nodeExtensions:s,markExtensions:o}=$u(t),a=(n=s.find(d=>de(d,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(d=>{const p=r.filter(_=>_.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},y=t.reduce((_,M)=>{const A=de(M,"extendNodeSchema",m);return{..._,...A?A(d):{}}},{}),b=wE({...y,content:Ge(de(d,"content",m)),marks:Ge(de(d,"marks",m)),group:Ge(de(d,"group",m)),inline:Ge(de(d,"inline",m)),atom:Ge(de(d,"atom",m)),selectable:Ge(de(d,"selectable",m)),draggable:Ge(de(d,"draggable",m)),code:Ge(de(d,"code",m)),whitespace:Ge(de(d,"whitespace",m)),linebreakReplacement:Ge(de(d,"linebreakReplacement",m)),defining:Ge(de(d,"defining",m)),isolating:Ge(de(d,"isolating",m)),attrs:Object.fromEntries(p.map(_=>{var M,A;return[_.name,{default:(M=_?.attribute)==null?void 0:M.default,validate:(A=_?.attribute)==null?void 0:A.validate}]}))}),S=Ge(de(d,"parseHTML",m));S&&(b.parseDOM=S.map(_=>SE(_,p)));const w=de(d,"renderHTML",m);w&&(b.toDOM=_=>w({node:_,HTMLAttributes:cp(_,p)}));const T=de(d,"renderText",m);return T&&(b.toText=T),[d.name,b]})),f=Object.fromEntries(o.map(d=>{const p=r.filter(T=>T.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},y=t.reduce((T,_)=>{const M=de(_,"extendMarkSchema",m);return{...T,...M?M(d):{}}},{}),b=wE({...y,inclusive:Ge(de(d,"inclusive",m)),excludes:Ge(de(d,"excludes",m)),group:Ge(de(d,"group",m)),spanning:Ge(de(d,"spanning",m)),code:Ge(de(d,"code",m)),attrs:Object.fromEntries(p.map(T=>{var _,M;return[T.name,{default:(_=T?.attribute)==null?void 0:_.default,validate:(M=T?.attribute)==null?void 0:M.validate}]}))}),S=Ge(de(d,"parseHTML",m));S&&(b.parseDOM=S.map(T=>SE(T,p)));const w=de(d,"renderHTML",m);return w&&(b.toDOM=T=>w({mark:T,HTMLAttributes:cp(T,p)})),[d.name,b]}));return new eN({topNode:a,nodes:c,marks:f})}function sK(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function cx(t){return t.sort((n,r)=>{const s=de(n,"priority")||100,o=de(r,"priority")||100;return s>o?-1:s<o?1:0})}function wD(t){const e=cx(ax(t)),n=sK(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function TD(t,e,n){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let c="";return t.nodesBetween(r,s,(f,d,p,m)=>{var y;f.isBlock&&d>r&&(c+=o);const b=a?.[f.type.name];if(b)return p&&(c+=b({node:f,pos:d,parent:p,index:m,range:e})),!1;f.isText&&(c+=(y=f?.text)==null?void 0:y.slice(Math.max(r,d)-d,s-d))}),c}function iK(t,e){const n={from:0,to:t.content.size};return TD(t,n,e)}function CD(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function oK(t,e){const n=Rt(e,t.schema),{from:r,to:s}=t.selection,o=[];t.doc.nodesBetween(r,s,c=>{o.push(c)});const a=o.reverse().find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function _D(t,e){const n=_m(typeof e=="string"?e:e.name,t.schema);return n==="node"?oK(t,e):n==="mark"?vD(t,e):{}}function aK(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function lK(t){const e=aK(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function kD(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,o)=>{const a=[];if(s.ranges.length)s.forEach((c,f)=>{a.push({from:c,to:f})});else{const{from:c,to:f}=n[o];if(c===void 0||f===void 0)return;a.push({from:c,to:f})}a.forEach(({from:c,to:f})=>{const d=e.slice(o).map(c,-1),p=e.slice(o).map(f),m=e.invert().map(d,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:d,to:p}})})}),lK(r)}function ux(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),a=ix(o,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(a=>({from:o,to:o+s.nodeSize,mark:a})))}),r}var cK=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let o=r,a=null;for(;o>0&&a===null;){const c=s.node(o);c?.type.name===e?a=c:o-=1}return[a,o]};function V0(t,e){return e.nodes[t]||e.marks[t]||null}function _h(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var uK=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,o,a,c)=>{var f,d;const p=((d=(f=s.type.spec).toText)==null?void 0:d.call(f,{node:s,pos:o,parent:a,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-o))}),n};function fv(t,e,n={}){const{empty:r,ranges:s}=t.selection,o=e?ti(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>lp(m.attrs,n,{strict:!1}));let a=0;const c=[];if(s.forEach(({$from:m,$to:y})=>{const b=m.pos,S=y.pos;t.doc.nodesBetween(b,S,(w,T)=>{if(!w.isText&&!w.marks.length)return;const _=Math.max(b,T),M=Math.min(S,T+w.nodeSize),A=M-_;a+=A,c.push(...w.marks.map(N=>({mark:N,from:_,to:M})))})}),a===0)return!1;const f=c.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>lp(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),d=c.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,y)=>m+y.to-y.from,0);return(f>0?f+d:f)>=a}function fK(t,e,n={}){if(!e)return Qi(t,null,n)||fv(t,null,n);const r=_m(e,t.schema);return r==="node"?Qi(t,e,n):r==="mark"?fv(t,e,n):!1}var dK=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const o=km(c=>c.type.name===e)(t.selection);if(!o)return!1;const a=t.doc.resolve(o.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},hK=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function TE(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function CE(t,e){const{nodeExtensions:n}=$u(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Ge(de(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Em(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(Em(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function ED(t){return t instanceof pe}function pK(t,e,n){var r;const{selection:s}=e;let o=null;if(pD(s)&&(o=s.$cursor),o){const c=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(d=>d.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:c,$to:f})=>{let d=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,f.pos,(p,m,y)=>{if(d)return!1;if(p.isInline){const b=!y||y.type.allowsMarkType(n),S=!!n.isInSet(p.marks)||!p.marks.some(w=>w.type.excludes(n));d=b&&S}return!d}),d})}var mK=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=n,{empty:a,ranges:c}=o,f=ti(t,r.schema);if(s)if(a){const d=vD(r,f);n.addStoredMark(f.create({...d,...e}))}else c.forEach(d=>{const p=d.$from.pos,m=d.$to.pos;r.doc.nodesBetween(p,m,(y,b)=>{const S=Math.max(b,p),w=Math.min(b+y.nodeSize,m);y.marks.find(_=>_.type===f)?y.marks.forEach(_=>{f===_.type&&n.addMark(S,w,f.create({..._.attrs,...e}))}):n.addMark(S,w,f.create(e))})});return pK(r,n,f)},gK=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),yK=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const o=Rt(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>Vk(o,{...a,...e})(n)?!0:c.clearNodes()).command(({state:c})=>Vk(o,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},vK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Lo(t,0,r.content.size),o=pe.create(r,s);e.setSelection(o)}return!0},bK=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,a=Se.atStart(r).from,c=Se.atEnd(r).to,f=Lo(s,a,c),d=Lo(o,a,c),p=Se.create(r,f,d);e.setSelection(p)}return!0},xK=t=>({state:e,dispatch:n})=>{const r=Rt(t,e.schema);return vY(r)(e,n)};function _E(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e?.includes(s.type.name));t.tr.ensureMarks(r)}}var SK=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:o,doc:a}=e,{$from:c,$to:f}=o,d=s.extensionManager.attributes,p=_h(d,c.node().type.name,c.node().attrs);if(o instanceof pe&&o.node.isBlock)return!c.parentOffset||!Ys(a,c.pos)?!1:(r&&(t&&_E(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=f.parentOffset===f.parent.content.size,y=c.depth===0?void 0:JG(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=m&&y?[{type:y,attrs:p}]:void 0,S=Ys(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!S&&Ys(e.doc,e.mapping.map(c.pos),1,y?[{type:y}]:void 0)&&(S=!0,b=y?[{type:y,attrs:p}]:void 0),r){if(S&&(o instanceof Se&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),y&&!m&&!c.parentOffset&&c.parent.type!==y)){const w=e.mapping.map(c.before()),T=e.doc.resolve(w);c.node(-1).canReplaceWith(T.index(),T.index()+1,y)&&e.setNodeMarkup(e.mapping.map(c.before()),y)}t&&_E(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},wK=(t,e={})=>({tr:n,state:r,dispatch:s,editor:o})=>{var a;const c=Rt(t,r.schema),{$from:f,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||f.depth<2||!f.sameParent(d))return!1;const m=f.node(-1);if(m.type!==c)return!1;const y=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==c||f.index(-2)!==f.node(-2).childCount-1)return!1;if(s){let _=X.empty;const M=f.index(-1)?1:f.index(-2)?2:3;for(let R=f.depth-M;R>=f.depth-3;R-=1)_=X.from(f.node(R).copy(_));const A=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,N={..._h(y,f.node().type.name,f.node().attrs),...e},O=((a=c.contentMatch.defaultType)==null?void 0:a.createAndFill(N))||void 0;_=_.append(X.from(c.createAndFill(null,O)||void 0));const B=f.before(f.depth-(M-1));n.replace(B,f.after(-A),new ie(_,4-M,0));let L=-1;n.doc.nodesBetween(B,n.doc.content.size,(R,W)=>{if(L>-1)return!1;R.isTextblock&&R.content.size===0&&(L=W+1)}),L>-1&&n.setSelection(Se.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const b=d.pos===f.end()?m.contentMatchAt(0).defaultType:null,S={..._h(y,m.type.name,m.attrs),...e},w={..._h(y,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,d.pos);const T=b?[{type:c,attrs:S},{type:b,attrs:w}]:[{type:c,attrs:S}];if(!Ys(n.doc,f.pos,2))return!1;if(s){const{selection:_,storedMarks:M}=r,{splittableMarks:A}=o.extensionManager,N=M||_.$to.parentOffset&&_.$from.marks();if(n.split(f.pos,2,T).scrollIntoView(),!N||!s)return!0;const O=N.filter(B=>A.includes(B.type.name));n.ensureMarks(O)}return!0},I0=(t,e)=>{const n=km(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Zi(t.doc,n.pos)&&t.join(n.pos),!0},U0=(t,e)=>{const n=km(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===s?.type&&Zi(t.doc,r)&&t.join(r),!0},TK=(t,e,n,r={})=>({editor:s,tr:o,state:a,dispatch:c,chain:f,commands:d,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,b=Rt(t,a.schema),S=Rt(e,a.schema),{selection:w,storedMarks:T}=a,{$from:_,$to:M}=w,A=_.blockRange(M),N=T||w.$to.parentOffset&&w.$from.marks();if(!A)return!1;const O=km(B=>CE(B.type.name,m))(w);if(A.depth>=1&&O&&A.depth-O.depth<=1){if(O.node.type===b)return d.liftListItem(S);if(CE(O.node.type.name,m)&&b.validContent(O.node.content)&&c)return f().command(()=>(o.setNodeMarkup(O.pos,b),!0)).command(()=>I0(o,b)).command(()=>U0(o,b)).run()}return!n||!N||!c?f().command(()=>p().wrapInList(b,r)?!0:d.clearNodes()).wrapInList(b,r).command(()=>I0(o,b)).command(()=>U0(o,b)).run():f().command(()=>{const B=p().wrapInList(b,r),L=N.filter(R=>y.includes(R.type.name));return o.ensureMarks(L),B?!0:d.clearNodes()}).wrapInList(b,r).command(()=>I0(o,b)).command(()=>U0(o,b)).run()},CK=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,a=ti(t,r.schema);return fv(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:o}):s.setMark(a,e)},_K=(t,e,n={})=>({state:r,commands:s})=>{const o=Rt(t,r.schema),a=Rt(e,r.schema),c=Qi(r,o,n);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),c?s.setNode(a,f):s.setNode(o,{...f,...n})},kK=(t,e={})=>({state:n,commands:r})=>{const s=Rt(t,n.schema);return Qi(n,s,e)?r.lift(s):r.wrapIn(s,e)},EK=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const a=t.tr,c=o.transform;for(let f=c.steps.length-1;f>=0;f-=1)a.step(c.steps[f].invert(c.docs[f]));if(o.text){const f=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,f))}else a.delete(o.from,o.to)}return!0}}return!1},MK=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},OK=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=n,f=ti(t,r.schema),{$from:d,empty:p,ranges:m}=c;if(!s)return!0;if(p&&a){let{from:y,to:b}=c;const S=(o=d.marks().find(T=>T.type===f))==null?void 0:o.attrs,w=ix(d,f,S);w&&(y=w.from,b=w.to),n.removeMark(y,b,f)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,f)});return n.removeStoredMark(f),!0},AK=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=_m(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Rt(t,r.schema)),c==="mark"&&(a=ti(t,r.schema)),s&&n.selection.ranges.forEach(f=>{const d=f.$from.pos,p=f.$to.pos;let m,y,b,S;n.selection.empty?r.doc.nodesBetween(d,p,(w,T)=>{o&&o===w.type&&(b=Math.max(T,d),S=Math.min(T+w.nodeSize,p),m=T,y=w)}):r.doc.nodesBetween(d,p,(w,T)=>{T<d&&o&&o===w.type&&(b=Math.max(T,d),S=Math.min(T+w.nodeSize,p),m=T,y=w),T>=d&&T<=p&&(o&&o===w.type&&n.setNodeMarkup(T,void 0,{...w.attrs,...e}),a&&w.marks.length&&w.marks.forEach(_=>{if(a===_.type){const M=Math.max(T,d),A=Math.min(T+w.nodeSize,p);n.addMark(M,A,a.create({..._.attrs,...e}))}}))}),y&&(m!==void 0&&n.setNodeMarkup(m,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(w=>{a===w.type&&n.addMark(b,S,a.create({...w.attrs,...e}))}))}),!0):!1},NK=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return fY(s,e)(n,r)},DK=(t,e={})=>({state:n,dispatch:r})=>{const s=Rt(t,n.schema);return dY(s,e)(n,r)},RK=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Mm=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},jK=(t,e)=>{if(sx(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Qd(t){var e;const{editor:n,from:r,to:s,text:o,rules:a,plugin:c}=t,{view:f}=n;if(f.composing)return!1;const d=f.state.doc.resolve(r);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=uK(d)+o;return a.forEach(y=>{if(p)return;const b=jK(m,y.find);if(!b)return;const S=f.state.tr,w=Tm({state:f.state,transaction:S}),T={from:r-(b[0].length-o.length),to:s},{commands:_,chain:M,can:A}=new Cm({editor:n,state:w});y.handler({state:w,range:T,match:b,commands:_,chain:M,can:A})===null||!S.steps.length||(y.undoable&&S.setMeta(c,{transform:S,from:r,to:s,text:o}),f.dispatch(S),p=!0)}),p}function LK(t){const{editor:e,rules:n}=t,r=new Ct({state:{init(){return null},apply(s,o,a){const c=s.getMeta(r);if(c)return c;const f=s.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:p}=f;typeof p=="string"?p=p:p=lx(X.from(p),a.schema);const{from:m}=f,y=m+p.length;Qd({editor:e,from:m,to:y,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,a,c){return Qd({editor:e,from:o,to:a,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&Qd({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Qd({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function PK(t){return Object.prototype.toString.call(t).slice(8,-1)}function Xd(t){return PK(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function MD(t,e){const n={...t};return Xd(t)&&Xd(e)&&Object.keys(e).forEach(r=>{Xd(e[r])&&Xd(t[r])?n[r]=MD(t[r],e[r]):n[r]=e[r]}),n}var fx=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ge(de(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ge(de(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>MD(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},oa=class OD extends fx{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new OD(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(d=>d?.type.name===n.name))return!1;const f=a.find(d=>d?.type.name===n.name);return f&&r.removeStoredMark(f),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function BK(t){return typeof t=="number"}var zK=class{constructor(t){this.find=t.find,this.handler=t.handler}},VK=(t,e,n)=>{if(sx(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function IK(t){const{editor:e,state:n,from:r,to:s,rule:o,pasteEvent:a,dropEvent:c}=t,{commands:f,chain:d,can:p}=new Cm({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(b,S)=>{var w,T,_,M,A;if((T=(w=b.type)==null?void 0:w.spec)!=null&&T.code||!(b.isText||b.isTextblock||b.isInline))return;const N=(A=(M=(_=b.content)==null?void 0:_.size)!=null?M:b.nodeSize)!=null?A:0,O=Math.max(r,S),B=Math.min(s,S+N);if(O>=B)return;const L=b.isText?b.text||"":b.textBetween(O-S,B-S,void 0,"");VK(L,o.find,a).forEach(W=>{if(W.index===void 0)return;const Z=O+W.index+1,oe=Z+W[0].length,ce={from:n.tr.mapping.map(Z),to:n.tr.mapping.map(oe)},Pe=o.handler({state:n,range:ce,match:W,commands:f,chain:d,can:p,pasteEvent:a,dropEvent:c});m.push(Pe)})}),m.every(b=>b!==null)}var Jd=null,UK=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function HK(t){const{editor:e,rules:n}=t;let r=null,s=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const f=({state:p,from:m,to:y,rule:b,pasteEvt:S})=>{const w=p.tr,T=Tm({state:p,transaction:w});if(!(!IK({editor:e,state:T,from:Math.max(m-1,0),to:y.b-1,rule:b,pasteEvent:S,dropEvent:c})||!w.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(p=>new Ct({view(m){const y=S=>{var w;r=(w=m.dom.parentElement)!=null&&w.contains(S.target)?m.dom.parentElement:null,r&&(Jd=e)},b=()=>{Jd&&(Jd=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(o=r===m.dom.parentElement,c=y,!o){const b=Jd;b?.isEditable&&setTimeout(()=>{const S=b.state.selection;S&&b.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(m,y)=>{var b;const S=(b=y.clipboardData)==null?void 0:b.getData("text/html");return a=y,s=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,b)=>{const S=m[0],w=S.getMeta("uiEvent")==="paste"&&!s,T=S.getMeta("uiEvent")==="drop"&&!o,_=S.getMeta("applyPasteRules"),M=!!_;if(!w&&!T&&!M)return;if(M){let{text:O}=_;typeof O=="string"?O=O:O=lx(X.from(O),b.schema);const{from:B}=_,L=B+O.length,R=UK(O);return f({rule:p,state:b,from:B,to:{b:L},pasteEvt:R})}const A=y.doc.content.findDiffStart(b.doc.content),N=y.doc.content.findDiffEnd(b.doc.content);if(!(!BK(A)||!N||A===N.b))return f({rule:p,state:b,from:A,to:N,pasteEvt:a})}}))}var Om=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=wD(t),this.schema=rK(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:V0(e.name,this.schema)},r=de(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return cx([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:V0(r.name,this.schema)},o=[],a=de(r,"addKeyboardShortcuts",s);let c={};if(r.type==="mark"&&de(r,"exitable",s)&&(c.ArrowRight=()=>oa.handleExit({editor:t,mark:r})),a){const y=Object.fromEntries(Object.entries(a()).map(([b,S])=>[b,()=>S({editor:t})]));c={...c,...y}}const f=oG(c);o.push(f);const d=de(r,"addInputRules",s);if(TE(r,t.options.enableInputRules)&&d){const y=d();if(y&&y.length){const b=LK({editor:t,rules:y}),S=Array.isArray(b)?b:[b];o.push(...S)}}const p=de(r,"addPasteRules",s);if(TE(r,t.options.enablePasteRules)&&p){const y=p();if(y&&y.length){const b=HK({editor:t,rules:y});o.push(...b)}}const m=de(r,"addProseMirrorPlugins",s);if(m){const y=m();o.push(...y)}return o})}get attributes(){return SD(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=$u(this.extensions);return Object.fromEntries(e.filter(n=>!!de(n,"addNodeView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Rt(n.name,this.schema)},o=de(n,"addNodeView",s);if(!o)return[];const a=(c,f,d,p,m)=>{const y=cp(c,r);return o()({node:c,view:f,getPos:d,decorations:p,innerDecorations:m,editor:t,extension:n,HTMLAttributes:y})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=$u(this.extensions);return Object.fromEntries(e.filter(n=>!!de(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ti(n.name,this.schema)},o=de(n,"addMarkView",s);if(!o)return[];const a=(c,f,d)=>{const p=cp(c,r);return o()({mark:c,view:f,inline:d,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{rQ(c,t,m)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:V0(e.name,this.schema)};e.type==="mark"&&((n=Ge(de(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=de(e,"onBeforeCreate",r),o=de(e,"onCreate",r),a=de(e,"onUpdate",r),c=de(e,"onSelectionUpdate",r),f=de(e,"onTransaction",r),d=de(e,"onFocus",r),p=de(e,"onBlur",r),m=de(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Om.resolve=wD;Om.sort=cx;Om.flatten=ax;var $K={};rx($K,{ClipboardTextSerializer:()=>ND,Commands:()=>DD,Delete:()=>RD,Drop:()=>jD,Editable:()=>LD,FocusEvents:()=>BD,Keymap:()=>zD,Paste:()=>VD,Tabindex:()=>ID,focusEventsPluginKey:()=>PD});var Lt=class AD extends fx{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new AD(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},ND=Lt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ct({key:new Kt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:o}=s,a=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),f=CD(n);return TD(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),DD=Lt.create({name:"commands",addCommands(){return{...dD}}}),RD=Lt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const o=()=>{var a,c,f,d;if((d=(f=(c=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:c.filterTransaction)==null?void 0:f.call(c,t))!=null?d:t.getMeta("y-sync$"))return;const p=bD(t.before,[t,...e]);kD(p).forEach(b=>{p.mapping.mapResult(b.oldRange.from).deletedAfter&&p.mapping.mapResult(b.oldRange.to).deletedBefore&&p.before.nodesBetween(b.oldRange.from,b.oldRange.to,(S,w)=>{const T=w+S.nodeSize-2,_=b.oldRange.from<=w&&T<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:w,to:T,newFrom:p.mapping.map(w),newTo:p.mapping.map(T),deletedRange:b.oldRange,newRange:b.newRange,partial:!_,editor:this.editor,transaction:t,combinedTransform:p})})});const y=p.mapping;p.steps.forEach((b,S)=>{var w,T;if(b instanceof Dr){const _=y.slice(S).map(b.from,-1),M=y.slice(S).map(b.to),A=y.invert().map(_,-1),N=y.invert().map(M),O=(w=p.doc.nodeAt(_-1))==null?void 0:w.marks.some(L=>L.eq(b.mark)),B=(T=p.doc.nodeAt(M))==null?void 0:T.marks.some(L=>L.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:A,to:N},newRange:{from:_,to:M},partial:!!(B||O),editor:this.editor,transaction:t,combinedTransform:p})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),jD=Lt.create({name:"drop",addProseMirrorPlugins(){return[new Ct({key:new Kt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),LD=Lt.create({name:"editable",addProseMirrorPlugins(){return[new Ct({key:new Kt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),PD=new Kt("focusEvents"),BD=Lt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ct({key:PD,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),zD=Lt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:f,doc:d}=c,{empty:p,$anchor:m}=f,{pos:y,parent:b}=m,S=m.parent.isTextblock&&y>0?c.doc.resolve(y-1):m,w=S.parent.type.spec.isolating,T=m.pos-m.parentOffset,_=w&&S.parent.childCount===1?T===m.pos:Ee.atStart(d).from===y;return!p||!b.type.isTextblock||b.textContent.length||!_||_&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ox()||yD()?o:s},addProseMirrorPlugins(){return[new Ct({key:new Kt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(w=>w.getMeta("composition")))return;const r=t.some(w=>w.docChanged)&&!e.doc.eq(n.doc),s=t.some(w=>w.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:a,to:c}=e.selection,f=Ee.atStart(e.doc).from,d=Ee.atEnd(e.doc).to;if(o||!(a===f&&c===d)||!Em(n.doc))return;const y=n.tr,b=Tm({state:n,transaction:y}),{commands:S}=new Cm({editor:this.editor,state:b});if(S.clearNodes(),!!y.steps.length)return y}})]}}),VD=Lt.create({name:"paste",addProseMirrorPlugins(){return[new Ct({key:new Kt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),ID=Lt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ct({key:new Kt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),FK=class il{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new il(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new il(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new il(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(a);if(!s&&c.depth<=this.depth)return;const f=new il(c,this.editor,s,s?n:null);s&&(f.actualDepth=this.depth+1),e.push(new il(c,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,a=Object.keys(n);for(let c=0;c<a.length;c+=1){const f=a[c];if(o[f]!==n[f])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&o.every(f=>n[f]===a.node.attrs[f])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},qK=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function YK(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var UD=class extends RK{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=mD(e,this.options.autofocus);this.editorState=ll.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=YK(qK,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=xD(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[LD,ND.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),DD,BD,zD,ID,jD,VD,RD].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new Om(r,this)}createCommandManager(){this.commandManager=new Cm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new uD(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(d)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),c=a?.getMeta("focus"),f=a?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:a}),f&&this.emit("blur",{editor:this,event:f.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return _D(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return fK(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lx(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return iK(this.state.doc,{blockSeparator:e,textSerializers:{...CD(this.schema),...n}})}get isEmpty(){return Em(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new FK(e,this)}get $doc(){return this.$pos(0)}};function kl(t){return new Mm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ge(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];if(a){const f=c.search(/\S/),d=n.from+c.indexOf(a),p=d+a.length;if(ux(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===t.type&&w!==b.mark.type)).filter(b=>b.to>d).length)return null;p<n.to&&o.delete(p,n.to),d>n.from&&o.delete(n.from+f,d);const y=n.from+f+a.length;o.addMark(n.from+f,y,t.type.create(s||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function WK(t){return new Mm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ge(t.getAttributes,void 0,r)||{},{tr:o}=e,a=n.from;let c=n.to;const f=t.type.create(s);if(r[1]){const d=r[0].lastIndexOf(r[1]);let p=a+d;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,a+r[0].length-1),o.replaceWith(p,c,f)}else if(r[0]){const d=t.type.isInline?a:a-1;o.insert(d,t.type.create(s)).delete(o.mapping.map(a),o.mapping.map(c))}o.scrollIntoView()},undoable:t.undoable})}function dv(t){return new Mm({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),o=Ge(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function El(t){return new Mm({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const o=Ge(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),f=a.doc.resolve(n.from).blockRange(),d=f&&Ub(f,t.type,o);if(!d)return null;if(a.wrap(f,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:b}=t.editor.extensionManager,S=y||m.$to.parentOffset&&m.$from.marks();if(S){const w=S.filter(T=>b.includes(T.type.name));a.ensureMarks(w)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,o).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Zi(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)},undoable:t.undoable})}function GK(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof pe){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var KK={};rx(KK,{createAtomBlockMarkdownSpec:()=>QK,createBlockMarkdownSpec:()=>XK,createInlineMarkdownSpec:()=>eQ,parseAttributes:()=>dx,parseIndentedBlocks:()=>tQ,renderNestedMarkdownContent:()=>nQ,serializeAttributes:()=>hx});function dx(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const d=s.map(p=>p.trim().slice(1));e.class=d.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,d,p])=>{var m;const y=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),b=n[y];b&&(e[d]=b.slice(1,-1))});const f=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function hx(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function QK(t){const{nodeName:e,name:n,parseAttributes:r=dx,serializeAttributes:s=hx,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:c}=t,f=n||e,d=p=>{if(!c)return p;const m={};return c.forEach(y=>{y in p&&(m[y]=p[y])}),m};return{parseMarkdown:(p,m)=>{const y={...o,...p.attributes};return m.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const y=new RegExp(`^:::${f}(?:\\s|$)`,"m"),b=(m=p.match(y))==null?void 0:m.index;return b!==void 0?b:-1},tokenize(p,m,y){const b=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),S=p.match(b);if(!S)return;const w=S[1]||"",T=r(w);if(!a.find(M=>!(M in T)))return{type:e,raw:S[0],attributes:T}}},renderMarkdown:p=>{const m=d(p.attrs||{}),y=s(m),b=y?` {${y}}`:"";return`:::${f}${b} :::`}}}function XK(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=dx,serializeAttributes:o=hx,defaultAttributes:a={},content:c="block",allowedAttributes:f}=t,d=n||e,p=m=>{if(!f)return m;const y={};return f.forEach(b=>{b in m&&(y[b]=m[b])}),y};return{parseMarkdown:(m,y)=>{let b;if(r){const w=r(m);b=typeof w=="string"?[{type:"text",text:w}]:w}else c==="block"?b=y.parseChildren(m.tokens||[]):b=y.parseInline(m.tokens||[]);const S={...a,...m.attributes};return y.createNode(e,S,b)},markdownTokenizer:{name:e,level:"block",start(m){var y;const b=new RegExp(`^:::${d}`,"m"),S=(y=m.match(b))==null?void 0:y.index;return S!==void 0?S:-1},tokenize(m,y,b){var S;const w=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),T=m.match(w);if(!T)return;const[_,M=""]=T,A=s(M);let N=1;const O=_.length;let B="";const L=/^:::([\w-]*)(\s.*)?/gm,R=m.slice(O);for(L.lastIndex=0;;){const W=L.exec(R);if(W===null)break;const Z=W.index,oe=W[1];if(!((S=W[2])!=null&&S.endsWith(":::"))){if(oe)N+=1;else if(N-=1,N===0){const ce=R.slice(0,Z);B=ce.trim();const Pe=m.slice(0,O+Z+W[0].length);let Ce=[];if(B)if(c==="block")for(Ce=b.blockTokens(ce),Ce.forEach(xe=>{xe.text&&(!xe.tokens||xe.tokens.length===0)&&(xe.tokens=b.inlineTokens(xe.text))});Ce.length>0;){const xe=Ce[Ce.length-1];if(xe.type==="paragraph"&&(!xe.text||xe.text.trim()===""))Ce.pop();else break}else Ce=b.inlineTokens(B);return{type:e,raw:Pe,attributes:A,content:B,tokens:Ce}}}}}},renderMarkdown:(m,y)=>{const b=p(m.attrs||{}),S=o(b),w=S?` {${S}}`:"",T=y.renderChildren(m.content||[],`

`);return`:::${d}${w}

${T}

:::`}}}function JK(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,o,a]=r;e[s]=o||a,r=n.exec(t)}return e}function ZK(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function eQ(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=JK,serializeAttributes:o=ZK,defaultAttributes:a={},selfClosing:c=!1,allowedAttributes:f}=t,d=n||e,p=y=>{if(!f)return y;const b={};return f.forEach(S=>{S in y&&(b[S]=y[S])}),b},m=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,b)=>{const S={...a,...y.attributes};if(c)return b.createNode(e,S);const w=r?r(y):y.content||"";return w?b.createNode(e,S,[b.createTextNode(w)]):b.createNode(e,S,[])},markdownTokenizer:{name:e,level:"inline",start(y){const b=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),S=y.match(b),w=S?.index;return w!==void 0?w:-1},tokenize(y,b,S){const w=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),T=y.match(w);if(!T)return;let _="",M="";if(c){const[,N]=T;M=N}else{const[,N,O]=T;M=N,_=O||""}const A=s(M.trim());return{type:e,raw:T[0],content:_.trim(),attributes:A}}},renderMarkdown:y=>{let b="";r?b=r(y):y.content&&y.content.length>0&&(b=y.content.filter(_=>_.type==="text").map(_=>_.text).join(""));const S=p(y.attrs||{}),w=o(S),T=w?` ${w}`:"";return c?`[${d}${T}]`:`[${d}${T}]${b}[/${d}]`}}}function tQ(t,e,n){var r,s,o,a;const c=t.split(`
`),f=[];let d="",p=0;const m=e.baseIndentSize||2;for(;p<c.length;){const y=c[p],b=y.match(e.itemPattern);if(!b){if(f.length>0)break;if(y.trim()===""){p+=1;continue}else return}const S=e.extractItemData(b),{indentLevel:w,mainContent:T}=S;d=`${d}${y}
`;const _=[T];for(p+=1;p<c.length;){const O=c[p];if(O.trim()===""){const L=c.slice(p+1).findIndex(Z=>Z.trim()!=="");if(L===-1)break;if((((s=(r=c[p+1+L].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>w){_.push(O),d=`${d}${O}
`,p+=1;continue}else break}if((((a=(o=O.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>w)_.push(O),d=`${d}${O}
`,p+=1;else break}let M;const A=_.slice(1);if(A.length>0){const O=A.map(B=>B.slice(w+m)).join(`
`);O.trim()&&(e.customNestedParser?M=e.customNestedParser(O):M=n.blockTokens(O))}const N=e.createToken(S,M);f.push(N)}if(f.length!==0)return{items:f,raw:d.trim()}}function nQ(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[o,...a]=t.content,c=e.renderChildren([o]),f=[`${s}${c}`];return a&&a.length>0&&a.forEach(d=>{const p=e.renderChildren([d]);if(p){const m=p.split(`
`).map(y=>y?e.indent(y):"").join(`
`);f.push(m)}}),f.join(`
`)}function rQ(t,e,n={}){const{state:r}=e,{doc:s,tr:o}=r,a=t;s.descendants((c,f)=>{const d=o.mapping.map(f),p=o.mapping.map(f)+c.nodeSize;let m=null;if(c.marks.forEach(b=>{if(b!==a)return!1;m=b}),!m)return;let y=!1;if(Object.keys(n).forEach(b=>{n[b]!==m.attrs[b]&&(y=!0)}),y){const b=t.type.create({...t.attrs,...n});o.removeMark(d,p,t.type),o.addMark(d,p,b)}}),o.docChanged&&e.view.dispatch(o)}var Zn=class HD extends fx{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new HD(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ra(t){return new zK({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const o=Ge(t.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:a}=e,c=r[r.length-1],f=r[0];let d=n.to;if(c){const p=f.search(/\S/),m=n.from+f.indexOf(c),y=m+c.length;if(ux(n.from,n.to,e.doc).filter(S=>S.mark.type.excluded.find(T=>T===t.type&&T!==S.mark.type)).filter(S=>S.to>m).length)return null;y<n.to&&a.delete(y,n.to),m>n.from&&a.delete(n.from+p,m),d=n.from+p+c.length,a.addMark(n.from+p,d,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}var H0,kE;function sQ(){return kE||(kE=1,H0=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var a=o[s];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}),H0}var iQ=sQ();const oQ=Fp(iQ);var $0={exports:{}},F0={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function aQ(){if(EE)return F0;EE=1;var t=Al(),e=BA();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,c=t.useMemo,f=t.useDebugValue;return F0.useSyncExternalStoreWithSelector=function(d,p,m,y,b){var S=o(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=c(function(){function _(B){if(!M){if(M=!0,A=B,B=y(B),b!==void 0&&w.hasValue){var L=w.value;if(b(L,B))return N=L}return N=B}if(L=N,r(A,B))return L;var R=y(B);return b!==void 0&&b(L,R)?(A=B,L):(A=B,N=R)}var M=!1,A,N,O=m===void 0?null:m;return[function(){return _(p())},O===null?void 0:function(){return _(O())}]},[p,m,y,b]);var T=s(d,S[0],S[1]);return a(function(){w.hasValue=!0,w.value=T},[T]),f(T),T},F0}var ME;function lQ(){return ME||(ME=1,$0.exports=aQ()),$0.exports}var cQ=lQ(),uQ=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},fQ=({contentComponent:t})=>{const e=zA.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return x.jsx(x.Fragment,{children:Object.values(e)})};function dQ(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:z6.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var hQ=class extends Rn.Component{constructor(t){var e;super(t),this.editorContentRef=Rn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(...t.options.element.childNodes),t.setOptions({element:e}),t.contentComponent=dQ(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((t=e.options.element)!=null&&t.firstChild)))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:t,innerRef:e,...n}=this.props;return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:uQ(e,this.editorContentRef),...n}),t?.contentComponent&&x.jsx(fQ,{contentComponent:t.contentComponent})]})}},pQ=E.forwardRef((t,e)=>{const n=Rn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Rn.createElement(hQ,{key:n,innerRef:e,...t})}),mQ=Rn.memo(pQ),gQ=typeof window<"u"?E.useLayoutEffect:E.useEffect,yQ=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function vQ(t){var e;const[n]=E.useState(()=>new yQ(t.editor)),r=cQ.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:oQ);return gQ(()=>n.watch(t.editor),[t.editor,n]),E.useDebugValue(r),r}var bQ=!1,hv=typeof window>"u",xQ=hv||!!(typeof window<"u"&&window.next),SQ=class $D{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?hv||xQ?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new UD(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var a;return s===((a=n.extensions)==null?void 0:a[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?$D.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function wQ(t={},e=[]){const n=E.useRef(t);n.current=t;const[r]=E.useState(()=>new SQ(n)),s=zA.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return E.useDebugValue(s),E.useEffect(r.onRender(e)),vQ({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var TQ=E.createContext({editor:null});TQ.Consumer;var CQ=E.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),_Q=()=>E.useContext(CQ);Rn.forwardRef((t,e)=>{const{onDragStart:n}=_Q(),r=t.as||"div";return x.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Rn.createContext({markViewContentRef:()=>{}});var up=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},kQ=/^\s*>\s$/,EQ=Zn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return up("blockquote",{...jt(this.options.HTMLAttributes,t),children:up("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[El({find:kQ,type:this.type})]}}),MQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,OQ=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,AQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,NQ=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,DQ=oa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return up("strong",{...jt(this.options.HTMLAttributes,t),children:up("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[kl({find:MQ,type:this.type}),kl({find:AQ,type:this.type})]},addPasteRules(){return[ra({find:OQ,type:this.type}),ra({find:NQ,type:this.type})]}}),RQ=/(^|[^`])`([^`]+)`(?!`)$/,jQ=/(^|[^`])`([^`]+)`(?!`)/g,LQ=oa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[kl({find:RQ,type:this.type})]},addPasteRules(){return[ra({find:jQ,type:this.type})]}}),PQ=/^```([a-z]+)?[\s\n]$/,BQ=/^~~~([a-z]+)?[\s\n]$/,zQ=Zn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:4,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",jt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(r.parent.type!==this.type)return!1;const o=" ".repeat(this.options.tabSize);return s?t.commands.insertContent(o):t.commands.command(({tr:a})=>{const{from:c,to:f}=n,m=e.doc.textBetween(c,f,`
`,`
`).split(`
`).map(y=>o+y).join(`
`);return a.replaceWith(c,f,e.schema.text(m)),!0})},"Shift-Tab":({editor:t})=>{if(!this.options.enableTabIndentation)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;return r.parent.type!==this.type?!1:s?t.commands.command(({tr:o})=>{var a;const{pos:c}=r,f=r.start(),d=r.end(),m=e.doc.textBetween(f,d,`
`,`
`).split(`
`);let y=0,b=0;const S=c-f;for(let N=0;N<m.length;N+=1){if(b+m[N].length>=S){y=N;break}b+=m[N].length+1}const T=((a=m[y].match(/^ */))==null?void 0:a[0])||"",_=Math.min(T.length,this.options.tabSize);if(_===0)return!0;let M=f;for(let N=0;N<y;N+=1)M+=m[N].length+1;return o.delete(M,M+_),c-M<=_&&o.setSelection(Se.create(o.doc,M)),!0}):t.commands.command(({tr:o})=>{const{from:a,to:c}=n,p=e.doc.textBetween(a,c,`
`,`
`).split(`
`).map(m=>{var y;const b=((y=m.match(/^ */))==null?void 0:y[0])||"",S=Math.min(b.length,this.options.tabSize);return m.slice(S)}).join(`
`);return o.replaceWith(a,c,e.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:d})=>(d.setSelection(Ee.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[dv({find:PQ,type:this.type,getAttributes:t=>({language:t[1]})}),dv({find:BQ,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ct({key:new Kt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!n||!o)return!1;const{tr:a,schema:c}=t.state,f=c.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},f)),a.selection.$from.parent.type!==this.type&&a.setSelection(Se.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),VQ=Zn.create({name:"doc",topNode:!0,content:"block+"}),IQ=Zn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",jt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,f=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:p})=>{if(p&&f&&a){const m=f.filter(y=>c.includes(y.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),UQ=Zn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,jt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>dv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),HQ=Zn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",jt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!GK(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return ED(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var c;if(a){const{$to:f}=o.selection,d=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?o.setSelection(Se.create(o.doc,f.pos+1)):f.nodeAfter.isBlock?o.setSelection(pe.create(o.doc,f.pos)):o.setSelection(Se.create(o.doc,f.pos));else{const p=(c=f.parent.type.contentMatch.defaultType)==null?void 0:c.create();p&&(o.insert(d,p),o.setSelection(Se.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[WK({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),$Q=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,FQ=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,qQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,YQ=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,WQ=oa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[kl({find:$Q,type:this.type}),kl({find:qQ,type:this.type})]},addPasteRules(){return[ra({find:FQ,type:this.type}),ra({find:YQ,type:this.type})]}});const GQ="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",KQ="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",pv="numeric",mv="ascii",gv="alpha",pu="asciinumeric",su="alphanumeric",yv="domain",FD="emoji",QQ="scheme",XQ="slashscheme",q0="whitespace";function JQ(t,e){return t in e||(e[t]=[]),e[t]}function Po(t,e,n){e[pv]&&(e[pu]=!0,e[su]=!0),e[mv]&&(e[pu]=!0,e[gv]=!0),e[pu]&&(e[su]=!0),e[gv]&&(e[su]=!0),e[su]&&(e[yv]=!0),e[FD]&&(e[yv]=!0);for(const r in e){const s=JQ(r,n);s.indexOf(t)<0&&s.push(t)}}function ZQ(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Nn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Nn.groups={};Nn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Nn.groups;let s;return e&&e.j?s=e:(s=new Nn(e),n&&r&&Po(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const o=t.length;if(!o)return s;for(let a=0;a<o-1;a++)s=s.tt(t[a]);return s.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Nn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let a,c=s.go(t);if(c?(a=new Nn,Object.assign(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Nn,o){if(r)if(a.t&&typeof a.t=="string"){const f=Object.assign(ZQ(a.t,r),n);Po(o,f,r)}else n&&Po(o,n,r);a.t=o}return s.j[t]=a,a}};const Me=(t,e,n,r,s)=>t.ta(e,n,r,s),gt=(t,e,n,r,s)=>t.tr(e,n,r,s),OE=(t,e,n,r,s)=>t.ts(e,n,r,s),J=(t,e,n,r,s)=>t.tt(e,n,r,s),Ls="WORD",vv="UWORD",qD="ASCIINUMERICAL",YD="ALPHANUMERICAL",Fu="LOCALHOST",bv="TLD",xv="UTLD",kh="SCHEME",ol="SLASH_SCHEME",px="NUM",Sv="WS",mx="NL",mu="OPENBRACE",gu="CLOSEBRACE",fp="OPENBRACKET",dp="CLOSEBRACKET",hp="OPENPAREN",pp="CLOSEPAREN",mp="OPENANGLEBRACKET",gp="CLOSEANGLEBRACKET",yp="FULLWIDTHLEFTPAREN",vp="FULLWIDTHRIGHTPAREN",bp="LEFTCORNERBRACKET",xp="RIGHTCORNERBRACKET",Sp="LEFTWHITECORNERBRACKET",wp="RIGHTWHITECORNERBRACKET",Tp="FULLWIDTHLESSTHAN",Cp="FULLWIDTHGREATERTHAN",_p="AMPERSAND",kp="APOSTROPHE",Ep="ASTERISK",Ri="AT",Mp="BACKSLASH",Op="BACKTICK",Ap="CARET",Pi="COLON",gx="COMMA",Np="DOLLAR",es="DOT",Dp="EQUALS",yx="EXCLAMATION",hr="HYPHEN",yu="PERCENT",Rp="PIPE",jp="PLUS",Lp="POUND",vu="QUERY",vx="QUOTE",WD="FULLWIDTHMIDDLEDOT",bx="SEMI",ts="SLASH",bu="TILDE",Pp="UNDERSCORE",GD="EMOJI",Bp="SYM";var KD=Object.freeze({__proto__:null,ALPHANUMERICAL:YD,AMPERSAND:_p,APOSTROPHE:kp,ASCIINUMERICAL:qD,ASTERISK:Ep,AT:Ri,BACKSLASH:Mp,BACKTICK:Op,CARET:Ap,CLOSEANGLEBRACKET:gp,CLOSEBRACE:gu,CLOSEBRACKET:dp,CLOSEPAREN:pp,COLON:Pi,COMMA:gx,DOLLAR:Np,DOT:es,EMOJI:GD,EQUALS:Dp,EXCLAMATION:yx,FULLWIDTHGREATERTHAN:Cp,FULLWIDTHLEFTPAREN:yp,FULLWIDTHLESSTHAN:Tp,FULLWIDTHMIDDLEDOT:WD,FULLWIDTHRIGHTPAREN:vp,HYPHEN:hr,LEFTCORNERBRACKET:bp,LEFTWHITECORNERBRACKET:Sp,LOCALHOST:Fu,NL:mx,NUM:px,OPENANGLEBRACKET:mp,OPENBRACE:mu,OPENBRACKET:fp,OPENPAREN:hp,PERCENT:yu,PIPE:Rp,PLUS:jp,POUND:Lp,QUERY:vu,QUOTE:vx,RIGHTCORNERBRACKET:xp,RIGHTWHITECORNERBRACKET:wp,SCHEME:kh,SEMI:bx,SLASH:ts,SLASH_SCHEME:ol,SYM:Bp,TILDE:bu,TLD:bv,UNDERSCORE:Pp,UTLD:xv,UWORD:vv,WORD:Ls,WS:Sv});const Ds=/[a-z]/,Jc=new RegExp("\\p{L}","u"),Y0=new RegExp("\\p{Emoji}","u"),Rs=/\d/,W0=/\s/,AE="\r",G0=`
`,eX="",tX="",K0="";let Zd=null,eh=null;function nX(t=[]){const e={};Nn.groups=e;const n=new Nn;Zd==null&&(Zd=NE(GQ)),eh==null&&(eh=NE(KQ)),J(n,"'",kp),J(n,"{",mu),J(n,"}",gu),J(n,"[",fp),J(n,"]",dp),J(n,"(",hp),J(n,")",pp),J(n,"<",mp),J(n,">",gp),J(n,"",yp),J(n,"",vp),J(n,"",bp),J(n,"",xp),J(n,"",Sp),J(n,"",wp),J(n,"",Tp),J(n,"",Cp),J(n,"&",_p),J(n,"*",Ep),J(n,"@",Ri),J(n,"`",Op),J(n,"^",Ap),J(n,":",Pi),J(n,",",gx),J(n,"$",Np),J(n,".",es),J(n,"=",Dp),J(n,"!",yx),J(n,"-",hr),J(n,"%",yu),J(n,"|",Rp),J(n,"+",jp),J(n,"#",Lp),J(n,"?",vu),J(n,'"',vx),J(n,"/",ts),J(n,";",bx),J(n,"~",bu),J(n,"_",Pp),J(n,"\\",Mp),J(n,"",WD);const r=gt(n,Rs,px,{[pv]:!0});gt(r,Rs,r);const s=gt(r,Ds,qD,{[pu]:!0}),o=gt(r,Jc,YD,{[su]:!0}),a=gt(n,Ds,Ls,{[mv]:!0});gt(a,Rs,s),gt(a,Ds,a),gt(s,Rs,s),gt(s,Ds,s);const c=gt(n,Jc,vv,{[gv]:!0});gt(c,Ds),gt(c,Rs,o),gt(c,Jc,c),gt(o,Rs,o),gt(o,Ds),gt(o,Jc,o);const f=J(n,G0,mx,{[q0]:!0}),d=J(n,AE,Sv,{[q0]:!0}),p=gt(n,W0,Sv,{[q0]:!0});J(n,K0,p),J(d,G0,f),J(d,K0,p),gt(d,W0,p),J(p,AE),J(p,G0),gt(p,W0,p),J(p,K0,p);const m=gt(n,Y0,GD,{[FD]:!0});J(m,"#"),gt(m,Y0,m),J(m,eX,m);const y=J(m,tX);J(y,"#"),gt(y,Y0,m);const b=[[Ds,a],[Rs,s]],S=[[Ds,null],[Jc,c],[Rs,o]];for(let w=0;w<Zd.length;w++)Mi(n,Zd[w],bv,Ls,b);for(let w=0;w<eh.length;w++)Mi(n,eh[w],xv,vv,S);Po(bv,{tld:!0,ascii:!0},e),Po(xv,{utld:!0,alpha:!0},e),Mi(n,"file",kh,Ls,b),Mi(n,"mailto",kh,Ls,b),Mi(n,"http",ol,Ls,b),Mi(n,"https",ol,Ls,b),Mi(n,"ftp",ol,Ls,b),Mi(n,"ftps",ol,Ls,b),Po(kh,{scheme:!0,ascii:!0},e),Po(ol,{slashscheme:!0,ascii:!0},e),t=t.sort((w,T)=>w[0]>T[0]?1:-1);for(let w=0;w<t.length;w++){const T=t[w][0],M=t[w][1]?{[QQ]:!0}:{[XQ]:!0};T.indexOf("-")>=0?M[yv]=!0:Ds.test(T)?Rs.test(T)?M[pu]=!0:M[mv]=!0:M[pv]=!0,OE(n,T,T,M)}return OE(n,"localhost",Fu,{ascii:!0}),n.jd=new Nn(Bp),{start:n,tokens:Object.assign({groups:e},KD)}}function QD(t,e){const n=rX(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,s=[];let o=0,a=0;for(;a<r;){let c=t,f=null,d=0,p=null,m=-1,y=-1;for(;a<r&&(f=c.go(n[a]));)c=f,c.accepts()?(m=0,y=0,p=c):m>=0&&(m+=n[a].length,y++),d+=n[a].length,o+=n[a].length,a++;o-=m,a-=y,d-=m,s.push({t:p.t,v:e.slice(o-d,o),s:o-d,e:o})}return s}function rX(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),o,a=s<55296||s>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Mi(t,e,n,r,s){let o;const a=e.length;for(let c=0;c<a-1;c++){const f=e[c];t.j[f]?o=t.j[f]:(o=new Nn(r),o.jr=s.slice(),t.j[f]=o),t=o}return o=new Nn(n),o.jr=s.slice(),t.j[e[a-1]]=o,o}function NE(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let o=0;for(;s.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(t[r]),r++}return e}const qu={defaultProtocol:"http",events:null,format:DE,formatHref:DE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function xx(t,e=null){let n=Object.assign({},qu);t&&(n=Object.assign(n,t instanceof xx?t.o:t));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}xx.prototype={o:qu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:qu[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function DE(t){return t}function XD(t,e){this.t="token",this.v=t,this.tk=e}XD.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=qu.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),a={},c=t.get("className",n,e),f=t.get("target",n,e),d=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,c&&(a.class=c),f&&(a.target=f),d&&(a.rel=d),p&&Object.assign(a,p),{tagName:s,attributes:a,content:o,eventListeners:m}}};function Am(t,e){class n extends XD{constructor(s,o){super(s,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const RE=Am("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),jE=Am("text"),sX=Am("nl"),th=Am("url",{isLink:!0,toHref(t=qu.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Fu&&t[1].t===Pi}}),fr=t=>new Nn(t);function iX({groups:t}){const e=t.domain.concat([_p,Ep,Ri,Mp,Op,Ap,Np,Dp,hr,px,yu,Rp,jp,Lp,ts,Bp,bu,Pp]),n=[kp,Pi,gx,es,yx,yu,vu,vx,bx,mp,gp,mu,gu,dp,fp,hp,pp,yp,vp,bp,xp,Sp,wp,Tp,Cp],r=[_p,kp,Ep,Mp,Op,Ap,Np,Dp,hr,mu,gu,yu,Rp,jp,Lp,vu,ts,Bp,bu,Pp],s=fr(),o=J(s,bu);Me(o,r,o),Me(o,t.domain,o);const a=fr(),c=fr(),f=fr();Me(s,t.domain,a),Me(s,t.scheme,c),Me(s,t.slashscheme,f),Me(a,r,o),Me(a,t.domain,a);const d=J(a,Ri);J(o,Ri,d),J(c,Ri,d),J(f,Ri,d);const p=J(o,es);Me(p,r,o),Me(p,t.domain,o);const m=fr();Me(d,t.domain,m),Me(m,t.domain,m);const y=J(m,es);Me(y,t.domain,m);const b=fr(RE);Me(y,t.tld,b),Me(y,t.utld,b),J(d,Fu,b);const S=J(m,hr);J(S,hr,S),Me(S,t.domain,m),Me(b,t.domain,m),J(b,es,y),J(b,hr,S);const w=J(b,Pi);Me(w,t.numeric,RE);const T=J(a,hr),_=J(a,es);J(T,hr,T),Me(T,t.domain,a),Me(_,r,o),Me(_,t.domain,a);const M=fr(th);Me(_,t.tld,M),Me(_,t.utld,M),Me(M,t.domain,a),Me(M,r,o),J(M,es,_),J(M,hr,T),J(M,Ri,d);const A=J(M,Pi),N=fr(th);Me(A,t.numeric,N);const O=fr(th),B=fr();Me(O,e,O),Me(O,n,B),Me(B,e,O),Me(B,n,B),J(M,ts,O),J(N,ts,O);const L=J(c,Pi),R=J(f,Pi),W=J(R,ts),Z=J(W,ts);Me(c,t.domain,a),J(c,es,_),J(c,hr,T),Me(f,t.domain,a),J(f,es,_),J(f,hr,T),Me(L,t.domain,O),J(L,ts,O),J(L,vu,O),Me(Z,t.domain,O),Me(Z,e,O),J(Z,ts,O);const oe=[[mu,gu],[fp,dp],[hp,pp],[mp,gp],[yp,vp],[bp,xp],[Sp,wp],[Tp,Cp]];for(let ce=0;ce<oe.length;ce++){const[Pe,Ce]=oe[ce],xe=J(O,Pe);J(B,Pe,xe),J(xe,Ce,O);const F=fr(th);Me(xe,e,F);const q=fr();Me(xe,n),Me(F,e,F),Me(F,n,q),Me(q,e,F),Me(q,n,q),J(F,Ce,O),J(q,Ce,O)}return J(s,Fu,M),J(s,mx,sX),{start:s,tokens:KD}}function oX(t,e,n){let r=n.length,s=0,o=[],a=[];for(;s<r;){let c=t,f=null,d=null,p=0,m=null,y=-1;for(;s<r&&!(f=c.go(n[s].t));)a.push(n[s++]);for(;s<r&&(d=f||c.go(n[s].t));)f=null,c=d,c.accepts()?(y=0,m=c):y>=0&&y++,s++,p++;if(y<0)s-=p,s<r&&(a.push(n[s]),s++);else{a.length>0&&(o.push(Q0(jE,e,a)),a=[]),s-=y,p-=y;const b=m.t,S=n.slice(s-p,s);o.push(Q0(b,e,S))}}return a.length>0&&o.push(Q0(jE,e,a)),o}function Q0(t,e,n){const r=n[0].s,s=n[n.length-1].e,o=e.slice(r,s);return new t(o,n)}const aX=typeof console<"u"&&console&&console.warn||(()=>{}),lX="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",rt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function cX(){return Nn.groups={},rt.scanner=null,rt.parser=null,rt.tokenQueue=[],rt.pluginQueue=[],rt.customSchemes=[],rt.initialized=!1,rt}function LE(t,e=!1){if(rt.initialized&&aX(`linkifyjs: already initialized - will not register custom scheme "${t}" ${lX}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);rt.customSchemes.push([t,e])}function uX(){rt.scanner=nX(rt.customSchemes);for(let t=0;t<rt.tokenQueue.length;t++)rt.tokenQueue[t][1]({scanner:rt.scanner});rt.parser=iX(rt.scanner.tokens);for(let t=0;t<rt.pluginQueue.length;t++)rt.pluginQueue[t][1]({scanner:rt.scanner,parser:rt.parser});return rt.initialized=!0,rt}function Sx(t){return rt.initialized||uX(),oX(rt.parser.start,t,QD(rt.scanner.start,t))}Sx.scan=QD;function JD(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new xx(n),s=Sx(t),o=[];for(let a=0;a<s.length;a++){const c=s[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var wx="[\0- -\u2029]",fX=new RegExp(wx),dX=new RegExp(`${wx}$`),hX=new RegExp(wx,"g");function pX(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function mX(t){return new Ct({key:new Kt("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),o=e.some(d=>d.getMeta("preventAutolink"));if(!s||o)return;const{tr:a}=r,c=bD(n.doc,[...e]);if(kD(c).forEach(({newRange:d})=>{const p=ZG(r.doc,d,b=>b.isTextblock);let m,y;if(p.length>1)m=p[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const b=r.doc.textBetween(d.from,d.to," "," ");if(!dX.test(b))return;m=p[0],y=r.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&y){const b=y.split(fX).filter(Boolean);if(b.length<=0)return!1;const S=b[b.length-1],w=m.pos+y.lastIndexOf(S);if(!S)return!1;const T=Sx(S).map(_=>_.toObject(t.defaultProtocol));if(!pX(T))return!1;T.filter(_=>_.isLink).map(_=>({..._,from:w+_.start+1,to:w+_.end+1})).filter(_=>r.schema.marks.code?!r.doc.rangeHasMark(_.from,_.to,r.schema.marks.code):!0).filter(_=>t.validate(_.value)).filter(_=>t.shouldAutoLink(_.value)).forEach(_=>{ux(_.from,_.to,r.doc).some(M=>M.mark.type===t.type)||a.addMark(_.from,_.to,t.type.create({href:_.href}))})}}),!!a.steps.length)return a}})}function gX(t){return new Ct({key:new Kt("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let p=r.target;const m=[];for(;p.nodeName!=="DIV";)m.push(p),p=p.parentNode;a=m.find(y=>y.nodeName==="A")}if(!a)return!1;const c=_D(e.state,t.type.name),f=(s=a?.href)!=null?s:c.href,d=(o=a?.target)!=null?o:c.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),a&&f?(window.open(f,d),!0):!1}}})}function yX(t){return new Ct({key:new Kt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:o}=s,{empty:a}=o;if(a)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const f=JD(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!f?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Co(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(hX,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var vX=oa.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){LE(t);return}LE(t.scheme,t.optionalSlashes)})},onDestroy(){cX()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Co(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Co(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Co(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",jt(this.options.HTMLAttributes,t),0]:["a",jt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Co(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Co(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ra({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=JD(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Co(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(mX({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Co(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(gX({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(yX({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),bX=Object.defineProperty,xX=(t,e)=>{for(var n in e)bX(t,n,{get:e[n],enumerable:!0})},SX="listItem",PE="textStyle",BE=/^\s*([-+*])\s$/,ZD=Zn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(SX,this.editor.getAttributes(PE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=El({find:BE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=El({find:BE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(PE),editor:this.editor})),[t]}}),eR=Zn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",jt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wX={};xX(wX,{findListItemPos:()=>pf,getNextListDepth:()=>Tx,handleBackspace:()=>wv,handleDelete:()=>Tv,hasListBefore:()=>tR,hasListItemAfter:()=>TX,hasListItemBefore:()=>nR,listItemHasSubList:()=>rR,nextListIsDeeper:()=>sR,nextListIsHigher:()=>iR});var pf=(t,e)=>{const{$from:n}=e.selection,r=Rt(t,e.schema);let s=null,o=n.depth,a=n.pos,c=null;for(;o>0&&c===null;)s=n.node(o),s.type===r?c=o:(o-=1,a-=1);return c===null?null:{$pos:e.doc.resolve(a),depth:c}},Tx=(t,e)=>{const n=pf(t,e);if(!n)return!1;const[,r]=cK(e,t,n.$pos.pos+4);return r},tR=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},nR=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},rR=(t,e,n)=>{if(!n)return!1;const r=Rt(t,e.schema);let s=!1;return n.descendants(o=>{o.type===r&&(s=!0)}),s},wv=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Qi(t.state,e)&&tR(t.state,e,n)){const{$anchor:c}=t.state.selection,f=t.state.doc.resolve(c.before()-1),d=[];f.node().descendants((y,b)=>{y.type.name===e&&d.push({node:y,pos:b})});const p=d.at(-1);if(!p)return!1;const m=t.state.doc.resolve(f.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!Qi(t.state,e)||!hK(t.state))return!1;const r=pf(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=rR(e,t.state,o);return nR(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},sR=(t,e)=>{const n=Tx(t,e),r=pf(t,e);return!r||!n?!1:n>r.depth},iR=(t,e)=>{const n=Tx(t,e),r=pf(t,e);return!r||!n?!1:n<r.depth},Tv=(t,e)=>{if(!Qi(t.state,e)||!dK(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:sR(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():iR(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},TX=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},oR=Lt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Tv(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Tv(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&wv(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&wv(t,n,r)&&(e=!0)}),e}}}}),CX="listItem",zE="textStyle",VE=/^(\d+)\.\s$/,aR=Zn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",jt(this.options.HTMLAttributes,n),0]:["ol",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(CX,this.editor.getAttributes(zE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=El({find:VE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=El({find:VE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(zE)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),_X=/^\s*(\[([( |x])?\])\s$/,kX=Zn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",jt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),f=document.createElement("div"),d=p=>{var m,y;c.ariaLabel=((y=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:y.call(m,p,c.checked))||`Task item checkbox for ${p.textContent||"empty task item"}`};return d(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:m}=p.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const b=n();if(typeof b!="number")return!1;const S=y.doc.nodeAt(b);return y.setNodeMarkup(b,void 0,{...S?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,m])=>{s.setAttribute(p,m)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,a),s.append(o,f),Object.entries(e).forEach(([p,m])=>{s.setAttribute(p,m)}),{dom:s,contentDOM:f,update:p=>p.type!==this.type?!1:(s.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,d(p),!0)}}},addInputRules(){return[El({find:_X,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),EX=Zn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",jt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Lt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(ZD.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(eR.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(oR.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(aR.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(kX.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(EX.configure(this.options.taskList)),t}});var MX=Zn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),OX=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,AX=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,NX=oa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[kl({find:OX,type:this.type})]},addPasteRules(){return[ra({find:AX,type:this.type})]}}),DX=Zn.create({name:"text",group:"inline"}),lR=oa.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",jt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),RX=lR;function jX(t={}){return new Ct({view(e){return new LX(e,t)}})}class LX{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=a=>{this[s](a)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),a=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(n){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let b=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(b){let S=b.getBoundingClientRect(),w=m?S.bottom:S.top;m&&y&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let T=this.width/2*c;r={left:S.left,right:S.right,top:w-T,bottom:w+T}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*a;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,p;if(!f||f==document.body&&getComputedStyle(f).position=="static")d=-pageXOffset,p=-pageYOffset;else{let m=f.getBoundingClientRect(),y=m.width/f.offsetWidth,b=m.height/f.offsetHeight;d=m.left-f.scrollLeft*y,p=m.top-f.scrollTop*b}this.element.style.left=(r.left-d)/a+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=fN(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class wt extends Ee{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return wt.valid(r)?new wt(r):Ee.near(r)}content(){return ie.empty}eq(e){return e instanceof wt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wt(e.resolve(n.pos))}getBookmark(){return new Cx(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!PX(e)||!BX(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&wt.valid(e))return e;let s=e.pos,o=null;for(let a=e.depth;;a--){let c=e.node(a);if(n>0?e.indexAfter(a)<c.childCount:e.index(a)>0){o=c.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let f=e.doc.resolve(s);if(wt.valid(f))return f}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!pe.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=a,s+=n;let c=e.doc.resolve(s);if(wt.valid(c))return c}return null}}}wt.prototype.visible=!1;wt.findFrom=wt.findGapCursorFrom;Ee.jsonID("gapcursor",wt);class Cx{constructor(e){this.pos=e}map(e){return new Cx(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return wt.valid(n)?new wt(n):Ee.near(n)}}function PX(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function BX(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function zX(){return new Ct({props:{decorations:HX,createSelectionBetween(t,e,n){return e.pos==n.pos&&wt.valid(n)?new wt(n):null},handleClick:IX,handleKeyDown:VX,handleDOMEvents:{beforeinput:UX}}})}const VX=fD({ArrowLeft:nh("horiz",-1),ArrowRight:nh("horiz",1),ArrowUp:nh("vert",-1),ArrowDown:nh("vert",1)});function nh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let a=r.selection,c=e>0?a.$to:a.$from,f=a.empty;if(a instanceof Se){if(!o.endOfTextblock(n)||c.depth==0)return!1;f=!1,c=r.doc.resolve(e>0?c.after():c.before())}let d=wt.findGapCursorFrom(c,e,f);return d?(s&&s(r.tr.setSelection(new wt(d))),!0):!1}}function IX(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!wt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new wt(r))),!0)}function UX(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof wt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=X.empty;for(let a=r.length-1;a>=0;a--)s=X.from(r[a].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new ie(s,0,0));return o.setSelection(Se.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function HX(t){if(!(t.selection instanceof wt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",dt.create(t.doc,[bn.widget(t.selection.head,e,{key:"gapcursor"})])}var zp=200,Wt=function(){};Wt.prototype.append=function(e){return e.length?(e=Wt.from(e),!this.length&&e||e.length<zp&&this.leafAppend(e)||this.length<zp&&e.leafPrepend(this)||this.appendInner(e)):this};Wt.prototype.prepend=function(e){return e.length?Wt.from(e).append(this):this};Wt.prototype.appendInner=function(e){return new $X(this,e)};Wt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Wt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Wt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Wt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Wt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,a){return s.push(e(o,a))},n,r),s};Wt.from=function(e){return e instanceof Wt?e:e&&e.length?new cR(e):Wt.empty};var cR=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,a,c){for(var f=o;f<a;f++)if(s(this.values[f],c+f)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,a,c){for(var f=o-1;f>=a;f--)if(s(this.values[f],c+f)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=zp)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=zp)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Wt);Wt.empty=new cR([]);var $X=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),a)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,a+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Wt);const FX=500;class Ar{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let a=e.tr,c,f,d=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),o=s.maps.length),o--,p.push(m);return}if(s){p.push(new ns(m.map));let b=m.step.map(s.slice(o)),S;b&&a.maybeStep(b).doc&&(S=a.mapping.maps[a.mapping.maps.length-1],d.push(new ns(S,void 0,void 0,d.length+p.length))),o--,S&&s.appendMap(S,o)}else a.maybeStep(m.step);if(m.selection)return c=s?m.selection.map(s.slice(o)):m.selection,f=new Ar(this.items.slice(0,r).append(p.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:c}}addTransform(e,n,r,s){let o=[],a=this.eventCount,c=this.items,f=!s&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new ns(e.mapping.maps[p],m,n),b;(b=f&&f.merge(y))&&(y=b,p?o.pop():c=c.slice(0,c.length-1)),o.push(y),n&&(a++,n=void 0),s||(f=y)}let d=a-r.depth;return d>YX&&(c=qX(c,d),a-=d),new Ar(c.append(o),a)}remapping(e,n){let r=new Bu;return this.items.forEach((s,o)=>{let a=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ar(this.items.append(e.map(n=>new ns(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(y=>{y.selection&&c--},s);let f=n;this.items.forEach(y=>{let b=o.getMirror(--f);if(b==null)return;a=Math.min(a,b);let S=o.maps[b];if(y.step){let w=e.steps[b].invert(e.docs[b]),T=y.selection&&y.selection.map(o.slice(f+1,b));T&&c++,r.push(new ns(S,w,T))}else r.push(new ns(S))},s);let d=[];for(let y=n;y<a;y++)d.push(new ns(o.maps[y]));let p=this.items.slice(0,s).append(d).append(r),m=new Ar(p,c);return m.emptyItemCount()>FX&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],o=0;return this.items.forEach((a,c)=>{if(c>=e)s.push(a),a.selection&&o++;else if(a.step){let f=a.step.map(n.slice(r)),d=f&&f.getMap();if(r--,d&&n.appendMap(d,r),f){let p=a.selection&&a.selection.map(n.slice(r));p&&o++;let m=new ns(d.invert(),f,p),y,b=s.length-1;(y=s.length&&s[b].merge(m))?s[b]=y:s.push(m)}}else a.map&&r--},this.items.length,0),new Ar(Wt.from(s.reverse()),o)}}Ar.empty=new Ar(Wt.empty,0);function qX(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class ns{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ns(n.getMap().invert(),n,this.selection)}}}class ji{constructor(e,n,r,s,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const YX=20;function WX(t,e,n,r){let s=n.getMeta(qo),o;if(s)return s.historyState;n.getMeta(QX)&&(t=new ji(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(qo))return a.getMeta(qo).redo?new ji(t.done.addTransform(n,void 0,r,Eh(e)),t.undone,IE(n.mapping.maps),t.prevTime,t.prevComposition):new ji(t.done,t.undone.addTransform(n,void 0,r,Eh(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),f=t.prevTime==0||!a&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!GX(n,t.prevRanges)),d=a?X0(t.prevRanges,n.mapping):IE(n.mapping.maps);return new ji(t.done.addTransform(n,f?e.selection.getBookmark():void 0,r,Eh(e)),Ar.empty,d,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new ji(t.done.rebased(n,o),t.undone.rebased(n,o),X0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ji(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),X0(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function GX(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function IE(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,o,a)=>e.push(o,a));return e}function X0(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}function KX(t,e,n){let r=Eh(e),s=qo.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),f=new ji(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(a).setMeta(qo,{redo:n,historyState:f})}let J0=!1,UE=null;function Eh(t){let e=t.plugins;if(UE!=e){J0=!1,UE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){J0=!0;break}}return J0}const qo=new Kt("history"),QX=new Kt("closeHistory");function XX(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ct({key:qo,state:{init(){return new ji(Ar.empty,Ar.empty,null,0,-1)},apply(e,n,r){return WX(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?fR:r=="historyRedo"?dR:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function uR(t,e){return(n,r)=>{let s=qo.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let o=KX(s,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const fR=uR(!1,!0),dR=uR(!0,!0);Lt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ct({key:new Kt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const a=o-s,c=0,f=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const d=r.tr.deleteRange(c,f);return t=!0,d}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,f=o-r,d=c-f,p=c;return e.deleteRange(d,p),!(this.storage.characters({node:e.doc})>r)}})]}});var JX=Lt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[jX(this.options)]}});Lt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ct({key:new Kt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!n||!r)return dt.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((f,d)=>{if(f.isText)return;if(!(s>=d&&s<=d+f.nodeSize-1))return!1;a+=1});let c=0;return t.descendants((f,d)=>{if(f.isText||!(s>=d&&s<=d+f.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&a-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(bn.node(d,d+f.nodeSize,{class:this.options.className}))}),dt.create(t,o)}}})]}});var hR=Lt.create({name:"gapCursor",addProseMirrorPlugins(){return[zX()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ge(de(t,"allowGapCursor",n)))!=null?e:null}}}),ZX=Lt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ct({key:new Kt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((a,c)=>{const f=r>=c&&r<=c+a.nodeSize,d=!a.isLeaf&&Em(a);if((f||!this.options.showOnlyCurrent)&&d){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=bn.node(c,c+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:f}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),dt.create(t,s)}}})]}});Lt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ct({key:new Kt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||ED(n.selection)||t.view.dragging?null:dt.create(n.doc,[bn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function HE({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var eJ=Lt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Kt(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Ct({key:e,appendTransaction:(s,o,a)=>{const{doc:c,tr:f,schema:d}=a,p=e.getState(a),m=c.content.size,y=d.nodes[n];if(p)return f.insert(m,y.create())},state:{init:(s,o)=>{const a=o.tr.doc.lastChild;return!HE({node:a,types:r})},apply:(s,o)=>{if(!s.docChanged)return o;const a=s.doc.lastChild;return!HE({node:a,types:r})}}})]}}),tJ=Lt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>fR(t,e),redo:()=>({state:t,dispatch:e})=>dR(t,e)}},addProseMirrorPlugins(){return[XX(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),nJ=Lt.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(DQ.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(EQ.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(ZD.configure(this.options.bulletList)),this.options.code!==!1&&s.push(LQ.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(zQ.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(VQ.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(JX.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(hR.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(IQ.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(UQ.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(tJ.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(HQ.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(WQ.configure(this.options.italic)),this.options.listItem!==!1&&s.push(eR.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(oR.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(vX.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(aR.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(MX.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(NX.configure(this.options.strike)),this.options.text!==!1&&s.push(DX.configure(this.options.text)),this.options.underline!==!1&&s.push(lR.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(eJ.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),pR=nJ,rJ=hR,sJ=ZX;const iJ="_textareaContainer_nop6e_1",oJ="_textarea_nop6e_1",aJ="_editorWrapper_nop6e_113",Z0={textareaContainer:iJ,textarea:oJ,editorWrapper:aJ},lJ="_toolbarContainer_1jhs2_1",cJ="_iconButton_1jhs2_33",uJ="_selected_1jhs2_83",e1={toolbarContainer:lJ,iconButton:cJ,selected:uJ};function mR({editor:t}){const[e,n]=E.useState(!1),[r,s]=E.useState(!1),[o,a]=E.useState(!1);E.useEffect(()=>{if(!t)return;const d=()=>{n(t.isActive("bold")),s(t.isActive("italic")),a(t.isActive("underline"))};return t.on("selectionUpdate",d),t.on("transaction",d),()=>{t.off("selectionUpdate",d),t.off("transaction",d)}},[t]);const c=d=>{if(t)switch(d){case"bold":t.chain().focus().toggleBold().run(),n(!e);break;case"italic":t.chain().focus().toggleItalic().run(),s(!r);break;case"underline":t.chain().focus().toggleUnderline().run(),a(!o);break}},f=({onClick:d,children:p,selected:m=!1})=>x.jsx("button",{className:`${e1.iconButton} ${m?e1.selected:""}`,onClick:d,children:p});return x.jsxs("div",{className:e1.toolbarContainer,children:[x.jsx(f,{onClick:()=>c("bold"),selected:e,children:x.jsx(tV,{size:16})}),x.jsx(f,{onClick:()=>c("italic"),selected:r,children:x.jsx(LV,{size:16})}),x.jsx(f,{onClick:()=>c("underline"),selected:o,children:x.jsx(xI,{size:16})}),x.jsx(f,{onClick:()=>t?.chain().focus().toggleBulletList().run(),selected:t?.isActive("bulletList"),children:x.jsx(_O,{size:16})}),x.jsx(f,{onClick:()=>t?.chain().focus().toggleOrderedList().run(),selected:t?.isActive("orderedList"),children:x.jsx(FV,{size:16})}),x.jsx(f,{onClick:()=>t?.chain().focus().toggleHeading({level:2}).run(),selected:t?.isActive("heading",{level:2}),children:"Header"})]})}function gR({content:t="",onChange:e}){const n=E.useRef(""),r=E.useRef(!1),s=wQ({extensions:[pR.configure({heading:{levels:[1,2,3]}}),RX,rJ,sJ.configure({placeholder:"Brja skriv ny anteckning",showOnlyWhenEditable:!0,includeChildren:!0,emptyNodeClass:"placeholder"})],content:t,editorProps:{attributes:{class:`ProseMirror ${Z0.textarea}`,style:"outline: none; box-shadow: none;"}},autofocus:"start",onUpdate:({editor:o})=>{if(r.current){r.current=!1;return}const a=o.getHTML();a!==n.current&&(n.current=a,e?.(a))}});return x.jsxs("div",{className:Z0.editorWrapper,children:[x.jsx(mR,{editor:s}),x.jsx("div",{className:Z0.textareaContainer,children:x.jsx(mQ,{editor:s})})]})}const fJ="_toolbarContainer_1hmza_1",dJ="_iconButton_1hmza_37",$E={toolbarContainer:fJ,iconButton:dJ};function yR({onClose:t}){const e=({icon:n,onClick:r,disabled:s})=>x.jsx("button",{className:$E.iconButton,onClick:r,disabled:s,children:n});return x.jsx("div",{className:$E.toolbarContainer,children:x.jsx(e,{icon:x.jsx(Bl,{size:20,color:"#fa0c0cff"}),onClick:t})})}const hJ="_wrapper_7p88f_1",pJ="_button_7p88f_15",mJ="_text_7p88f_53",gJ="_pending_7p88f_77",yJ="_success_7p88f_79",vJ="_fail_7p88f_81",Qa={wrapper:hJ,button:pJ,text:mJ,pending:gJ,success:yJ,fail:vJ};function aa({onSave:t}){const[e,n]=E.useState("idle"),r=async()=>{try{n("pending");const s=await t();n(s?"success":"fail")}catch{n("fail")}setTimeout(()=>n("idle"),2e3)};return x.jsx("div",{className:Qa.wrapper,children:x.jsx("button",{className:`${Qa.button} ${e==="pending"?Qa.pending:e==="success"?Qa.success:e==="fail"?Qa.fail:""}`,onClick:r,disabled:e!=="idle",children:x.jsx("span",{className:Qa.text,children:"Spara"})})})}const bJ="_outerContainer_vlup6_1",xJ="_innerContainer_vlup6_21",SJ="_shrunk_vlup6_51",wJ="_subjectSelection_vlup6_61",TJ="_subjectListWrapper_vlup6_75",CJ="_collapseBtn_vlup6_91",_J="_changeSubjectBtn_vlup6_131",kJ="_horizontalDivider_vlup6_169",EJ="_expanded_vlup6_191",MJ="_collapsed_vlup6_199",OJ="_saveButtonWrapper_vlup6_219",nn={outerContainer:bJ,innerContainer:xJ,shrunk:SJ,subjectSelection:wJ,subjectListWrapper:TJ,collapseBtn:CJ,changeSubjectBtn:_J,horizontalDivider:kJ,expanded:EJ,collapsed:MJ,saveButtonWrapper:OJ};function AJ({onSave:t,onClose:e,subject:n,setSubject:r,noteContent:s,setNoteContent:o}){const c=Gt(b=>b.preferences).subjects||[],f=Array.isArray(c)?c.map(b=>typeof b=="string"?b:b.courseName):[],[d,p]=E.useState(!n);E.useEffect(()=>{p(!n)},[n]);const m=()=>{r(""),o(""),p(!0),e?.()},y=async()=>{const b=await t(n,s);return b&&m(),b};return x.jsx("div",{className:nn.outerContainer,children:x.jsxs("div",{className:nn.innerContainer,children:[x.jsx(yR,{subject:n,note:s,onSave:t,onClose:m}),x.jsx("div",{className:nn.subjectSelection,children:d?x.jsx("div",{className:nn.subjectListWrapper,children:x.jsx(ju,{title:"",options:f,selected:n,onSelect:b=>{r(b),p(!1)},collapsed:!1})}):x.jsxs(x.Fragment,{children:[x.jsx(ju,{title:"",options:[],selected:n,onSelect:r,collapsed:!0}),x.jsx("button",{className:nn.changeSubjectBtn,onClick:()=>p(!0),children:"ndra mne"}),x.jsx("div",{className:nn.saveButtonWrapper,children:x.jsx(aa,{onSave:y})})]})}),x.jsx("div",{className:`${nn.horizontalDivider} ${d?nn.expanded:nn.collapsed}`}),x.jsx(gR,{content:s,onChange:o})]})})}function vR(){const t=Cn(),e=E.useRef(null),n=$r({mutationFn:({noteId:s,data:o})=>A9(o,s),onSuccess:s=>{t.setQueryData(["note",s.id],s),t.invalidateQueries({queryKey:["notes"]})}});return{editNote:(s,o,a=1500)=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{n.mutate({noteId:s,data:o})},a)},status:n.status,isLoading:n.status==="pending",isError:n.status==="error",error:n.error??null}}function NJ({noteId:t,initialSubject:e,initialNote:n,onClose:r}){const o=Gt(A=>A.preferences).subjects||[],a=Array.isArray(o)?o.map(A=>typeof A=="string"?A:A.courseName):[],[c,f]=E.useState(e),[d,p]=E.useState(n),[m,y]=E.useState(!!e),{editNote:b,isLoading:S,status:w,isError:T,error:_}=vR();E.useEffect(()=>{b(t,{subject:c,note:d})},[c,d,t]),E.useEffect(()=>{y(!!c)},[c]);const M=()=>{b(t,{subject:c,note:d})};return x.jsxs("div",{className:nn.outerContainer,children:[x.jsx("div",{className:`${nn.headerBox} ${m?"":nn.open}`,children:!m&&x.jsx(ju,{title:"Vlj mne",options:a,selected:c,onSelect:f})}),x.jsx("div",{className:nn.collapseWrapper,children:x.jsx("button",{className:nn.collapseBtn,onClick:()=>y(!m),children:m?"Vlj mne":x.jsx(Bl,{size:20})})}),x.jsxs("div",{className:`${nn.innerContainer} ${m?"":nn.shrunk}`,children:[x.jsx(yR,{subject:c,note:d,onSave:M,onClose:r||(()=>p(""))}),x.jsx(ju,{title:"",options:m?null:a,selected:c,onSelect:f,collapsed:!0}),x.jsx("div",{className:nn.horizontalDivider}),x.jsx(gR,{content:d,onChange:p}),x.jsxs("p",{style:{fontSize:"0.8rem",color:"#aaa",marginTop:"0.5rem"},children:[S&&"Sparar...",w==="success"&&"Sparad",T&&_?.message&&`Fel vid sparning: ${_.message}`]})]})]})}const _x=E.createContext({});function kx(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ex=typeof window<"u",bR=Ex?E.useLayoutEffect:E.useEffect,Nm=E.createContext(null);function Mx(t,e){t.indexOf(e)===-1&&t.push(e)}function Ox(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xs=(t,e,n)=>n>e?e:n<t?t:n;let Ax=()=>{};const Js={},xR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function SR(t){return typeof t=="object"&&t!==null}const wR=t=>/^0[^.\s]+$/u.test(t);function Nx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sr=t=>t,DJ=(t,e)=>n=>e(t(n)),mf=(...t)=>t.reduce(DJ),Yu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Dx{constructor(){this.subscriptions=[]}add(e){return Mx(this.subscriptions,e),()=>Ox(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ss=t=>t*1e3,br=t=>t/1e3;function TR(t,e){return e?t*(1e3/e):0}const CR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,RJ=1e-7,jJ=12;function LJ(t,e,n,r,s){let o,a,c=0;do a=e+(n-e)/2,o=CR(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>RJ&&++c<jJ);return a}function gf(t,e,n,r){if(t===e&&n===r)return Sr;const s=o=>LJ(o,0,1,t,n);return o=>o===0||o===1?o:CR(s(o),e,r)}const _R=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,kR=t=>e=>1-t(1-e),ER=gf(.33,1.53,.69,.99),Rx=kR(ER),MR=_R(Rx),OR=t=>(t*=2)<1?.5*Rx(t):.5*(2-Math.pow(2,-10*(t-1))),jx=t=>1-Math.sin(Math.acos(t)),AR=kR(jx),NR=_R(jx),PJ=gf(.42,0,1,1),BJ=gf(0,0,.58,1),DR=gf(.42,0,.58,1),zJ=t=>Array.isArray(t)&&typeof t[0]!="number",RR=t=>Array.isArray(t)&&typeof t[0]=="number",VJ={linear:Sr,easeIn:PJ,easeInOut:DR,easeOut:BJ,circIn:jx,circInOut:NR,circOut:AR,backIn:Rx,backInOut:MR,backOut:ER,anticipate:OR},IJ=t=>typeof t=="string",FE=t=>{if(RR(t)){Ax(t.length===4);const[e,n,r,s]=t;return gf(e,n,r,s)}else if(IJ(t))return VJ[t];return t},rh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function UJ(t,e){let n=new Set,r=new Set,s=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(p){a.has(p)&&(d.schedule(p),t()),p(c)}const d={schedule:(p,m=!1,y=!1)=>{const S=y&&s?n:r;return m&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(c=p,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,o&&(o=!1,d.process(p))}};return d}const HJ=40;function jR(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=rh.reduce((A,N)=>(A[N]=UJ(o),A),{}),{setup:c,read:f,resolveKeyframes:d,preUpdate:p,update:m,preRender:y,render:b,postRender:S}=a,w=()=>{const A=Js.useManualTiming?s.timestamp:performance.now();n=!1,Js.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,HJ),1)),s.timestamp=A,s.isProcessing=!0,c.process(s),f.process(s),d.process(s),p.process(s),m.process(s),y.process(s),b.process(s),S.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(w))},T=()=>{n=!0,r=!0,s.isProcessing||t(w)};return{schedule:rh.reduce((A,N)=>{const O=a[N];return A[N]=(B,L=!1,R=!1)=>(n||T(),O.schedule(B,L,R)),A},{}),cancel:A=>{for(let N=0;N<rh.length;N++)a[rh[N]].cancel(A)},state:s,steps:a}}const{schedule:ct,cancel:Xi,state:tn,steps:t1}=jR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sr,!0);let Mh;function $J(){Mh=void 0}const Dn={now:()=>(Mh===void 0&&Dn.set(tn.isProcessing||Js.useManualTiming?tn.timestamp:performance.now()),Mh),set:t=>{Mh=t,queueMicrotask($J)}},LR=t=>e=>typeof e=="string"&&e.startsWith(t),Lx=LR("--"),FJ=LR("var(--"),Px=t=>FJ(t)?qJ.test(t.split("/*")[0].trim()):!1,qJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$l={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wu={...$l,transform:t=>Xs(0,1,t)},sh={...$l,default:1},xu=t=>Math.round(t*1e5)/1e5,Bx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function YJ(t){return t==null}const WJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zx=(t,e)=>n=>!!(typeof n=="string"&&WJ.test(n)&&n.startsWith(t)||e&&!YJ(n)&&Object.prototype.hasOwnProperty.call(n,e)),PR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,a,c]=r.match(Bx);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},GJ=t=>Xs(0,255,t),n1={...$l,transform:t=>Math.round(GJ(t))},Bo={test:zx("rgb","red"),parse:PR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+n1.transform(t)+", "+n1.transform(e)+", "+n1.transform(n)+", "+xu(Wu.transform(r))+")"};function KJ(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cv={test:zx("#"),parse:KJ,transform:Bo.transform},yf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ni=yf("deg"),is=yf("%"),be=yf("px"),QJ=yf("vh"),XJ=yf("vw"),qE={...is,parse:t=>is.parse(t)/100,transform:t=>is.transform(t*100)},cl={test:zx("hsl","hue"),parse:PR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+is.transform(xu(e))+", "+is.transform(xu(n))+", "+xu(Wu.transform(r))+")"},Nt={test:t=>Bo.test(t)||Cv.test(t)||cl.test(t),parse:t=>Bo.test(t)?Bo.parse(t):cl.test(t)?cl.parse(t):Cv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bo.transform(t):cl.transform(t),getAnimatableNone:t=>{const e=Nt.parse(t);return e.alpha=0,Nt.transform(e)}},JJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZJ(t){return isNaN(t)&&typeof t=="string"&&(t.match(Bx)?.length||0)+(t.match(JJ)?.length||0)>0}const BR="number",zR="color",eZ="var",tZ="var(",YE="${}",nZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(nZ,f=>(Nt.test(f)?(r.color.push(o),s.push(zR),n.push(Nt.parse(f))):f.startsWith(tZ)?(r.var.push(o),s.push(eZ),n.push(f)):(r.number.push(o),s.push(BR),n.push(parseFloat(f))),++o,YE)).split(YE);return{values:n,split:c,indexes:r,types:s}}function VR(t){return Gu(t).values}function IR(t){const{split:e,types:n}=Gu(t),r=e.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],s[a]!==void 0){const c=n[a];c===BR?o+=xu(s[a]):c===zR?o+=Nt.transform(s[a]):o+=s[a]}return o}}const rZ=t=>typeof t=="number"?0:Nt.test(t)?Nt.getAnimatableNone(t):t;function sZ(t){const e=VR(t);return IR(t)(e.map(rZ))}const Ji={test:ZJ,parse:VR,createTransformer:IR,getAnimatableNone:sZ};function r1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,f=2*n-c;s=r1(f,c,t+1/3),o=r1(f,c,t),a=r1(f,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function Vp(t,e){return n=>n>0?e:t}const ht=(t,e,n)=>t+(e-t)*n,s1=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},oZ=[Cv,Bo,cl],aZ=t=>oZ.find(e=>e.test(t));function WE(t){const e=aZ(t);if(!e)return!1;let n=e.parse(t);return e===cl&&(n=iZ(n)),n}const GE=(t,e)=>{const n=WE(t),r=WE(e);if(!n||!r)return Vp(t,e);const s={...n};return o=>(s.red=s1(n.red,r.red,o),s.green=s1(n.green,r.green,o),s.blue=s1(n.blue,r.blue,o),s.alpha=ht(n.alpha,r.alpha,o),Bo.transform(s))},_v=new Set(["none","hidden"]);function lZ(t,e){return _v.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function cZ(t,e){return n=>ht(t,e,n)}function Vx(t){return typeof t=="number"?cZ:typeof t=="string"?Px(t)?Vp:Nt.test(t)?GE:dZ:Array.isArray(t)?UR:typeof t=="object"?Nt.test(t)?GE:uZ:Vp}function UR(t,e){const n=[...t],r=n.length,s=t.map((o,a)=>Vx(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function uZ(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Vx(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function fZ(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],c=t.values[a]??0;n[s]=c,r[o]++}return n}const dZ=(t,e)=>{const n=Ji.createTransformer(e),r=Gu(t),s=Gu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?_v.has(t)&&!s.values.length||_v.has(e)&&!r.values.length?lZ(t,e):mf(UR(fZ(r,s),s.values),n):Vp(t,e)};function HR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ht(t,e,n):Vx(t)(t,e)}const hZ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ct.update(e,n),stop:()=>Xi(e),now:()=>tn.isProcessing?tn.timestamp:Dn.now()}},$R=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ip=2e4;function Ix(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ip;)e+=n,r=t.next(e);return e>=Ip?1/0:e}function pZ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Ix(r),Ip);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:br(s)}}const mZ=5;function FR(t,e,n){const r=Math.max(e-mZ,0);return TR(n-t(r),e-r)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i1=.001;function gZ({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:r=St.mass}){let s,o,a=1-e;a=Xs(St.minDamping,St.maxDamping,a),t=Xs(St.minDuration,St.maxDuration,br(t)),a<1?(s=d=>{const p=d*a,m=p*t,y=p-n,b=kv(d,a),S=Math.exp(-m);return i1-y/b*S},o=d=>{const m=d*a*t,y=m*n+n,b=Math.pow(a,2)*Math.pow(d,2)*t,S=Math.exp(-m),w=kv(Math.pow(d,2),a);return(-s(d)+i1>0?-1:1)*((y-b)*S)/w}):(s=d=>{const p=Math.exp(-d*t),m=(d-n)*t+1;return-i1+p*m},o=d=>{const p=Math.exp(-d*t),m=(n-d)*(t*t);return p*m});const c=5/t,f=vZ(s,o,c);if(t=ss(t),isNaN(f))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const d=Math.pow(f,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const yZ=12;function vZ(t,e,n){let r=n;for(let s=1;s<yZ;s++)r=r-t(r)/e(r);return r}function kv(t,e){return t*Math.sqrt(1-e*e)}const bZ=["duration","bounce"],xZ=["stiffness","damping","mass"];function KE(t,e){return e.some(n=>t[n]!==void 0)}function SZ(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!KE(t,xZ)&&KE(t,bZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Xs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:St.mass,stiffness:s,damping:o}}else{const n=gZ(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function Up(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:f,damping:d,mass:p,duration:m,velocity:y,isResolvedFromDuration:b}=SZ({...n,velocity:-br(n.velocity||0)}),S=y||0,w=d/(2*Math.sqrt(f*p)),T=a-o,_=br(Math.sqrt(f/p)),M=Math.abs(T)<5;r||(r=M?St.restSpeed.granular:St.restSpeed.default),s||(s=M?St.restDelta.granular:St.restDelta.default);let A;if(w<1){const O=kv(_,w);A=B=>{const L=Math.exp(-w*_*B);return a-L*((S+w*_*T)/O*Math.sin(O*B)+T*Math.cos(O*B))}}else if(w===1)A=O=>a-Math.exp(-_*O)*(T+(S+_*T)*O);else{const O=_*Math.sqrt(w*w-1);A=B=>{const L=Math.exp(-w*_*B),R=Math.min(O*B,300);return a-L*((S+w*_*T)*Math.sinh(R)+O*T*Math.cosh(R))/O}}const N={calculatedDuration:b&&m||null,next:O=>{const B=A(O);if(b)c.done=O>=m;else{let L=O===0?S:0;w<1&&(L=O===0?ss(S):FR(A,O,B));const R=Math.abs(L)<=r,W=Math.abs(a-B)<=s;c.done=R&&W}return c.value=c.done?a:B,c},toString:()=>{const O=Math.min(Ix(N),Ip),B=$R(L=>N.next(O*L).value,O,30);return O+"ms "+B},toTransition:()=>{}};return N}Up.applyToOptions=t=>{const e=pZ(t,100,Up);return t.ease=e.ease,t.duration=ss(e.duration),t.type="keyframes",t};function Ev({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:f,restDelta:d=.5,restSpeed:p}){const m=t[0],y={done:!1,value:m},b=R=>c!==void 0&&R<c||f!==void 0&&R>f,S=R=>c===void 0?f:f===void 0||Math.abs(c-R)<Math.abs(f-R)?c:f;let w=n*e;const T=m+w,_=a===void 0?T:a(T);_!==T&&(w=_-m);const M=R=>-w*Math.exp(-R/r),A=R=>_+M(R),N=R=>{const W=M(R),Z=A(R);y.done=Math.abs(W)<=d,y.value=y.done?_:Z};let O,B;const L=R=>{b(y.value)&&(O=R,B=Up({keyframes:[y.value,S(y.value)],velocity:FR(A,R,y.value),damping:s,stiffness:o,restDelta:d,restSpeed:p}))};return L(0),{calculatedDuration:null,next:R=>{let W=!1;return!B&&O===void 0&&(W=!0,N(R),L(R)),O!==void 0&&R>=O?B.next(R-O):(!W&&N(R),y)}}}function wZ(t,e,n){const r=[],s=n||Js.mix||HR,o=t.length-1;for(let a=0;a<o;a++){let c=s(t[a],t[a+1]);if(e){const f=Array.isArray(e)?e[a]||Sr:e;c=mf(f,c)}r.push(c)}return r}function TZ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Ax(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=wZ(e,r,s),f=c.length,d=p=>{if(a&&p<t[0])return e[0];let m=0;if(f>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const y=Yu(t[m],t[m+1],p);return c[m](y)};return n?p=>d(Xs(t[0],t[o-1],p)):d}function CZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Yu(0,e,r);t.push(ht(n,1,s))}}function _Z(t){const e=[0];return CZ(e,t.length-1),e}function kZ(t,e){return t.map(n=>n*e)}function EZ(t,e){return t.map(()=>e||DR).splice(0,t.length-1)}function Su({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=zJ(r)?r.map(FE):FE(r),o={done:!1,value:e[0]},a=kZ(n&&n.length===e.length?n:_Z(e),t),c=TZ(a,e,{ease:Array.isArray(s)?s:EZ(e,s)});return{calculatedDuration:t,next:f=>(o.value=c(f),o.done=f>=t,o)}}const MZ=t=>t!==null;function Ux(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(MZ),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const OZ={decay:Ev,inertia:Ev,tween:Su,keyframes:Su,spring:Up};function qR(t){typeof t.type=="string"&&(t.type=OZ[t.type])}class Hx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const AZ=t=>t/100;class $x extends Hx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;qR(e);const{type:n=Su,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const f=n||Su;f!==Su&&typeof c[0]!="number"&&(this.mixKeyframes=mf(AZ,HR(c[0],c[1])),c=[0,100]);const d=f({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...c].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=Ix(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:m,repeatType:y,repeatDelay:b,type:S,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-d*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,N=r;if(m){const R=Math.min(this.currentTime,s)/c;let W=Math.floor(R),Z=R%1;!Z&&R>=1&&(Z=1),Z===1&&W--,W=Math.min(W,m+1),!!(W%2)&&(y==="reverse"?(Z=1-Z,b&&(Z-=b/c)):y==="mirror"&&(N=a)),A=Xs(0,1,Z)*c}const O=M?{done:!1,value:p[0]}:N.next(A);o&&(O.value=o(O.value));let{done:B}=O;!M&&f!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return L&&S!==Ev&&(O.value=Ux(p,this.options,T,this.speed)),w&&w(O.value),L&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return br(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+br(e)}get time(){return br(this.currentTime)}set time(e){e=ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=br(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=hZ,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function NZ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const zo=t=>t*180/Math.PI,Mv=t=>{const e=zo(Math.atan2(t[1],t[0]));return Ov(e)},DZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Mv,rotateZ:Mv,skewX:t=>zo(Math.atan(t[1])),skewY:t=>zo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ov=t=>(t=t%360,t<0&&(t+=360),t),QE=Mv,XE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),JE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),RZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XE,scaleY:JE,scale:t=>(XE(t)+JE(t))/2,rotateX:t=>Ov(zo(Math.atan2(t[6],t[5]))),rotateY:t=>Ov(zo(Math.atan2(-t[2],t[0]))),rotateZ:QE,rotate:QE,skewX:t=>zo(Math.atan(t[4])),skewY:t=>zo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Av(t){return t.includes("scale")?1:0}function Nv(t,e){if(!t||t==="none")return Av(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=RZ,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DZ,s=c}if(!s)return Av(e);const o=r[e],a=s[1].split(",").map(LZ);return typeof o=="function"?o(a):a[o]}const jZ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Nv(n,e)};function LZ(t){return parseFloat(t.trim())}const Fl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ql=new Set(Fl),ZE=t=>t===$l||t===be,PZ=new Set(["x","y","z"]),BZ=Fl.filter(t=>!PZ.has(t));function zZ(t){const e=[];return BZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Nv(e,"x"),y:(t,{transform:e})=>Nv(e,"y")};Yo.translateX=Yo.x;Yo.translateY=Yo.y;const Wo=new Set;let Dv=!1,Rv=!1,jv=!1;function YR(){if(Rv){const t=Array.from(Wo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=zZ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{r.getValue(o)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rv=!1,Dv=!1,Wo.forEach(t=>t.complete(jv)),Wo.clear()}function WR(){Wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rv=!0)})}function VZ(){jv=!0,WR(),YR(),jv=!1}class Fx{constructor(e,n,r,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Wo.add(this),Dv||(Dv=!0,ct.read(WR),ct.resolveKeyframes(YR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s?.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}NZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Wo.delete(this)}cancel(){this.state==="scheduled"&&(Wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const IZ=t=>t.startsWith("--");function UZ(t,e,n){IZ(e)?t.style.setProperty(e,n):t.style[e]=n}const HZ=Nx(()=>window.ScrollTimeline!==void 0),$Z={};function FZ(t,e){const n=Nx(t);return()=>$Z[e]??n()}const GR=FZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:iu([0,.65,.55,1]),circOut:iu([.55,0,1,.45]),backIn:iu([.31,.01,.66,-.59]),backOut:iu([.33,1.53,.69,.99])};function KR(t,e){if(t)return typeof t=="function"?GR()?$R(t,e):"ease-out":RR(t)?iu(t):Array.isArray(t)?t.map(n=>KR(n,e)||eM.easeOut):eM[t]}function qZ(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:f}={},d=void 0){const p={[e]:n};f&&(p.offset=f);const m=KR(c,s);Array.isArray(m)&&(p.easing=m);const y={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(p,y)}function QR(t){return typeof t=="function"&&"applyToOptions"in t}function YZ({type:t,...e}){return QR(t)&&GR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class WZ extends Hx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Ax(typeof e.type!="string");const d=YZ(e);this.animation=qZ(n,r,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Ux(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):UZ(n,r,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return br(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+br(e)}get time(){return br(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&HZ()?(this.animation.timeline=e,Sr):n(this)}}const XR={anticipate:OR,backInOut:MR,circInOut:NR};function GZ(t){return t in XR}function KZ(t){typeof t.ease=="string"&&GZ(t.ease)&&(t.ease=XR[t.ease])}const tM=10;class QZ extends WZ{constructor(e){KZ(e),qR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new $x({...a,autoplay:!1}),f=ss(this.finishedTime??this.time);n.setWithVelocity(c.sample(f-tM).value,c.sample(f).value,tM),c.stop()}}const nM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ji.test(t)||t==="0")&&!t.startsWith("url("));function XZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JZ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=nM(s,e),c=nM(o,e);return!a||!c?!1:XZ(t)||(n==="spring"||QR(n))&&r}function Lv(t){t.duration=0,t.type="keyframes"}const ZZ=new Set(["opacity","clipPath","filter","transform"]),eee=Nx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tee(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return eee()&&n&&ZZ.has(n)&&(n!=="transform"||!d)&&!f&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}const nee=40;class ree extends Hx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:f,motionValue:d,element:p,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dn.now();const y={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,name:f,motionValue:d,element:p,...m},b=p?.KeyframeResolver||Fx;this.keyframeResolver=new b(c,(S,w,T)=>this.onKeyframesResolved(S,w,y,!T),f,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:f,isHandoff:d,onUpdate:p}=r;this.resolvedAt=Dn.now(),JZ(e,o,a,c)||((Js.instantAnimations||!f)&&p?.(Ux(e,r,n)),e[0]=e[e.length-1],Lv(r),r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>nee?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!d&&tee(y)?new QZ({...y,element:y.motionValue.owner.current}):new $x(y);b.finished.then(()=>this.notifyFinished()).catch(Sr),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),VZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const see=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iee(t){const e=see.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function JR(t,e,n=1){const[r,s]=iee(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return xR(a)?parseFloat(a):a}return Px(s)?JR(s,e,n+1):s}function qx(t,e){return t?.[e]??t?.default??t}const ZR=new Set(["width","height","top","left","right","bottom",...Fl]),oee={test:t=>t==="auto",parse:t=>t},ej=t=>e=>e.test(t),tj=[$l,be,is,Ni,XJ,QJ,oee],rM=t=>tj.find(ej(t));function aee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wR(t):!0}const lee=new Set(["brightness","contrast","saturate","opacity"]);function cee(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Bx)||[];if(!r)return t;const s=n.replace(r,"");let o=lee.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const uee=/\b([a-z-]*)\(.*?\)/gu,Pv={...Ji,getAnimatableNone:t=>{const e=t.match(uee);return e?e.map(cee).join(" "):t}},sM={...$l,transform:Math.round},fee={rotate:Ni,rotateX:Ni,rotateY:Ni,rotateZ:Ni,scale:sh,scaleX:sh,scaleY:sh,scaleZ:sh,skew:Ni,skewX:Ni,skewY:Ni,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Wu,originX:qE,originY:qE,originZ:be},Yx={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...fee,zIndex:sM,fillOpacity:Wu,strokeOpacity:Wu,numOctaves:sM},dee={...Yx,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Pv,WebkitFilter:Pv},nj=t=>dee[t];function rj(t,e){let n=nj(t);return n!==Pv&&(n=Ji),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hee=new Set(["auto","none","0"]);function pee(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!hee.has(o)&&Gu(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=rj(n,s)}class mee extends Fx{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),Px(d))){const p=JR(d,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ZR.has(r)||e.length!==2)return;const[s,o]=e,a=rM(s),c=rM(o);if(a!==c)if(ZE(a)&&ZE(c))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Yo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||aee(e[s]))&&r.push(s);r.length&&pee(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Yo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function gee(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const sj=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ij(t){return SR(t)&&"offsetHeight"in t}const iM=30,yee=t=>!isNaN(parseFloat(t));class vee{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Dn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yee(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Dx);const r=this.events[e].add(n);return e==="change"?()=>{r(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,iM);return TR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ml(t,e){return new vee(t,e)}const{schedule:Wx}=jR(queueMicrotask,!1),Mr={x:!1,y:!1};function oj(){return Mr.x||Mr.y}function bee(t){return t==="x"||t==="y"?Mr[t]?null:(Mr[t]=!0,()=>{Mr[t]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}function aj(t,e){const n=gee(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function oM(t){return!(t.pointerType==="touch"||oj())}function xee(t,e,n={}){const[r,s,o]=aj(t,n),a=c=>{if(!oM(c))return;const{target:f}=c,d=e(f,c);if(typeof d!="function"||!f)return;const p=m=>{oM(m)&&(d(m),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),o}const lj=(t,e)=>e?t===e?!0:lj(t,e.parentElement):!1,Gx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,See=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function wee(t){return See.has(t.tagName)||t.tabIndex!==-1}const Oh=new WeakSet;function aM(t){return e=>{e.key==="Enter"&&t(e)}}function o1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Tee=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=aM(()=>{if(Oh.has(n))return;o1(n,"down");const s=aM(()=>{o1(n,"up")}),o=()=>o1(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function lM(t){return Gx(t)&&!oj()}function Cee(t,e,n={}){const[r,s,o]=aj(t,n),a=c=>{const f=c.currentTarget;if(!lM(c))return;Oh.add(f);const d=e(f,c),p=(b,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",y),Oh.has(f)&&Oh.delete(f),lM(b)&&typeof d=="function"&&d(b,{success:S})},m=b=>{p(b,f===window||f===document||n.useGlobalTarget||lj(f,b.target))},y=b=>{p(b,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",y,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),ij(c)&&(c.addEventListener("focus",d=>Tee(d,s)),!wee(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function cj(t){return SR(t)&&"ownerSVGElement"in t}function _ee(t){return cj(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),kee=[...tj,Nt,Ji],Eee=t=>kee.find(ej(t)),Kx=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function cM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mee(...t){return e=>{let n=!1;const r=t.map(s=>{const o=cM(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():cM(t[s],null)}}}}function Oee(...t){return E.useCallback(Mee(...t),t)}class Aee extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=ij(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Nee({children:t,isPresent:e,anchorX:n,root:r}){const s=E.useId(),o=E.useRef(null),a=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=E.useContext(Kx),f=Oee(o,t?.ref);return E.useInsertionEffect(()=>{const{width:d,height:p,top:m,left:y,right:b}=a.current;if(e||!o.current||!d||!p)return;const S=n==="left"?`left: ${y}`:`right: ${b}`;o.current.dataset.motionPopId=s;const w=document.createElement("style");c&&(w.nonce=c);const T=r??document.head;return T.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${m}px !important;
          }
        `),()=>{T.contains(w)&&T.removeChild(w)}},[e]),x.jsx(Aee,{isPresent:e,childRef:o,sizeRef:a,children:E.cloneElement(t,{ref:f})})}const Dee=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a,anchorX:c,root:f})=>{const d=kx(Ree),p=E.useId();let m=!0,y=E.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:s,onExitComplete:b=>{d.set(b,!0);for(const S of d.values())if(!S)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return o&&m&&(y={...y}),E.useMemo(()=>{d.forEach((b,S)=>d.set(S,!1))},[n]),E.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),a==="popLayout"&&(t=x.jsx(Nee,{isPresent:n,anchorX:c,root:f,children:t})),x.jsx(Nm.Provider,{value:y,children:t})};function Ree(){return new Map}function uj(t=!0){const e=E.useContext(Nm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=E.useId();E.useEffect(()=>{if(t)return s(o)},[t]);const a=E.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const ih=t=>t.key||"";function uM(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const jee=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:c="left",root:f})=>{const[d,p]=uj(a),m=E.useMemo(()=>uM(t),[t]),y=a&&!d?[]:m.map(ih),b=E.useRef(!0),S=E.useRef(m),w=kx(()=>new Map),[T,_]=E.useState(m),[M,A]=E.useState(m);bR(()=>{b.current=!1,S.current=m;for(let B=0;B<M.length;B++){const L=ih(M[B]);y.includes(L)?w.delete(L):w.get(L)!==!0&&w.set(L,!1)}},[M,y.length,y.join("-")]);const N=[];if(m!==T){let B=[...m];for(let L=0;L<M.length;L++){const R=M[L],W=ih(R);y.includes(W)||(B.splice(L,0,R),N.push(R))}return o==="wait"&&N.length&&(B=N),A(uM(B)),_(m),null}const{forceRender:O}=E.useContext(_x);return x.jsx(x.Fragment,{children:M.map(B=>{const L=ih(B),R=a&&!d?!1:m===M||y.includes(L),W=()=>{if(w.has(L))w.set(L,!0);else return;let Z=!0;w.forEach(oe=>{oe||(Z=!1)}),Z&&(O?.(),A(S.current),a&&p?.(),r&&r())};return x.jsx(Dee,{isPresent:R,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:f,onExitComplete:R?void 0:W,anchorX:c,children:B},L)})})},fj=E.createContext({strict:!1}),fM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ol={};for(const t in fM)Ol[t]={isEnabled:e=>fM[t].some(n=>!!e[n])};function Lee(t){for(const e in t)Ol[e]={...Ol[e],...t[e]}}const Pee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Pee.has(t)}let dj=t=>!Hp(t);function Bee(t){typeof t=="function"&&(dj=e=>e.startsWith("on")?!Hp(e):t(e))}try{Bee(require("@emotion/is-prop-valid").default)}catch{}function zee(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(dj(s)||n===!0&&Hp(s)||!e&&!Hp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Dm=E.createContext({});function Rm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ku(t){return typeof t=="string"||Array.isArray(t)}const Qx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xx=["initial",...Qx];function jm(t){return Rm(t.animate)||Xx.some(e=>Ku(t[e]))}function hj(t){return!!(jm(t)||t.variants)}function Vee(t,e){if(jm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ku(n)?n:void 0,animate:Ku(r)?r:void 0}}return t.inherit!==!1?e:{}}function Iee(t){const{initial:e,animate:n}=Vee(t,E.useContext(Dm));return E.useMemo(()=>({initial:e,animate:n}),[dM(e),dM(n)])}function dM(t){return Array.isArray(t)?t.join(" "):t}const Qu={};function Uee(t){for(const e in t)Qu[e]=t[e],Lx(e)&&(Qu[e].isCSSVariable=!0)}function pj(t,{layout:e,layoutId:n}){return ql.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Qu[t]||t==="opacity")}const Hee={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$ee=Fl.length;function Fee(t,e,n){let r="",s=!0;for(let o=0;o<$ee;o++){const a=Fl[o],c=t[a];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(a.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||n){const d=sj(c,Yx[a]);if(!f){s=!1;const p=Hee[a]||a;r+=`${p}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Jx(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let a=!1,c=!1;for(const f in e){const d=e[f];if(ql.has(f)){a=!0;continue}else if(Lx(f)){s[f]=d;continue}else{const p=sj(d,Yx[f]);f.startsWith("origin")?(c=!0,o[f]=p):r[f]=p}}if(e.transform||(a||n?r.transform=Fee(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=o;r.transformOrigin=`${f} ${d} ${p}`}}const Zx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mj(t,e,n){for(const r in e)!hn(e[r])&&!pj(r,n)&&(t[r]=e[r])}function qee({transformTemplate:t},e){return E.useMemo(()=>{const n=Zx();return Jx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Yee(t,e){const n=t.style||{},r={};return mj(r,n,t),Object.assign(r,qee(t,e)),r}function Wee(t,e){const n={},r=Yee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Gee={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kee={offset:"strokeDashoffset",array:"strokeDasharray"};function Qee(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?Gee:Kee;t[o.offset]=be.transform(-r);const a=be.transform(e),c=be.transform(n);t[o.array]=`${a} ${c}`}function gj(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...c},f,d,p){if(Jx(t,c,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:y}=t;m.transform&&(y.transform=m.transform,delete m.transform),(y.transform||m.transformOrigin)&&(y.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Qee(m,s,o,a,!1)}const yj=()=>({...Zx(),attrs:{}}),vj=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Xee(t,e,n,r){const s=E.useMemo(()=>{const o=yj();return gj(o,e,vj(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};mj(o,t.style,t),s.style={...o,...s.style}}return s}const Jee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eS(t){return typeof t!="string"||t.includes("-")?!1:!!(Jee.indexOf(t)>-1||/[A-Z]/u.test(t))}function Zee(t,e,n,{latestValues:r},s,o=!1){const c=(eS(t)?Xee:Wee)(e,r,s,t),f=zee(e,typeof t=="string",o),d=t!==E.Fragment?{...f,...c,ref:n}:{},{children:p}=e,m=E.useMemo(()=>hn(p)?p.get():p,[p]);return E.createElement(t,{...d,children:m})}function hM(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function tS(t,e,n,r){if(typeof e=="function"){const[s,o]=hM(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=hM(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Ah(t){return hn(t)?t.get():t}function ete({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:tte(n,r,s,t),renderState:e()}}function tte(t,e,n,r){const s={},o=r(t,{});for(const y in o)s[y]=Ah(o[y]);let{initial:a,animate:c}=t;const f=jm(t),d=hj(t);e&&d&&!f&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?c:a;if(m&&typeof m!="boolean"&&!Rm(m)){const y=Array.isArray(m)?m:[m];for(let b=0;b<y.length;b++){const S=tS(t,y[b]);if(S){const{transitionEnd:w,transition:T,..._}=S;for(const M in _){let A=_[M];if(Array.isArray(A)){const N=p?A.length-1:0;A=A[N]}A!==null&&(s[M]=A)}for(const M in w)s[M]=w[M]}}}return s}const bj=t=>(e,n)=>{const r=E.useContext(Dm),s=E.useContext(Nm),o=()=>ete(t,e,r,s);return n?o():kx(o)};function nS(t,e,n){const{style:r}=t,s={};for(const o in r)(hn(r[o])||e.style&&hn(e.style[o])||pj(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const nte=bj({scrapeMotionValuesFromProps:nS,createRenderState:Zx});function xj(t,e,n){const r=nS(t,e,n);for(const s in t)if(hn(t[s])||hn(e[s])){const o=Fl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}const rte=bj({scrapeMotionValuesFromProps:xj,createRenderState:yj}),ste=Symbol.for("motionComponentSymbol");function ul(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ite(t,e,n){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ul(n)&&(n.current=r))},[e])}const rS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ote="framerAppearId",Sj="data-"+rS(ote),wj=E.createContext({});function ate(t,e,n,r,s){const{visualElement:o}=E.useContext(Dm),a=E.useContext(fj),c=E.useContext(Nm),f=E.useContext(Kx).reducedMotion,d=E.useRef(null);r=r||a.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,m=E.useContext(wj);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&lte(d.current,n,s,m);const y=E.useRef(!1);E.useInsertionEffect(()=>{p&&y.current&&p.update(n,c)});const b=n[Sj],S=E.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return bR(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),S.current&&p.animationState&&p.animationState.animateChanges())}),E.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),p.enteringChildren=void 0)}),p}function lte(t,e,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:c,layoutScroll:f,layoutRoot:d,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Tj(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||c&&ul(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:f,layoutRoot:d})}function Tj(t){if(t)return t.options.allowProjection!==!1?t.projection:Tj(t.parent)}function a1(t,{forwardMotionProps:e=!1}={},n,r){n&&Lee(n);const s=eS(t)?rte:nte;function o(c,f){let d;const p={...E.useContext(Kx),...c,layoutId:cte(c)},{isStatic:m}=p,y=Iee(c),b=s(c,m);if(!m&&Ex){ute();const S=fte(p);d=S.MeasureLayout,y.visualElement=ate(t,b,p,r,S.ProjectionNode)}return x.jsxs(Dm.Provider,{value:y,children:[d&&y.visualElement?x.jsx(d,{visualElement:y.visualElement,...p}):null,Zee(t,c,ite(b,y.visualElement,f),b,m,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=E.forwardRef(o);return a[ste]=t,a}function cte({layoutId:t}){const e=E.useContext(_x).id;return e&&t!==void 0?e+"-"+t:t}function ute(t,e){E.useContext(fj).strict}function fte(t){const{drag:e,layout:n}=Ol;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function dte(t,e){if(typeof Proxy>"u")return a1;const n=new Map,r=(o,a)=>a1(o,a,t,e),s=(o,a)=>r(o,a);return new Proxy(s,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,a1(a,void 0,t,e)),n.get(a))})}function Cj({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function hte({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pte(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function l1(t){return t===void 0||t===1}function Bv({scale:t,scaleX:e,scaleY:n}){return!l1(t)||!l1(e)||!l1(n)}function Mo(t){return Bv(t)||_j(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _j(t){return pM(t.x)||pM(t.y)}function pM(t){return t&&t!=="0%"}function $p(t,e,n){const r=t-n,s=e*r;return n+s}function mM(t,e,n,r,s){return s!==void 0&&(t=$p(t,s,r)),$p(t,n,r)+e}function zv(t,e=0,n=1,r,s){t.min=mM(t.min,e,n,r,s),t.max=mM(t.max,e,n,r,s)}function kj(t,{x:e,y:n}){zv(t.x,e.translate,e.scale,e.originPoint),zv(t.y,n.translate,n.scale,n.originPoint)}const gM=.999999999999,yM=1.0000000000001;function mte(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let c=0;c<s;c++){o=n[c],a=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&dl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,kj(t,a)),r&&Mo(o.latestValues)&&dl(t,o.latestValues))}e.x<yM&&e.x>gM&&(e.x=1),e.y<yM&&e.y>gM&&(e.y=1)}function fl(t,e){t.min=t.min+e,t.max=t.max+e}function vM(t,e,n,r,s=.5){const o=ht(t.min,t.max,s);zv(t,e,n,o,r)}function dl(t,e){vM(t.x,e.x,e.scaleX,e.scale,e.originX),vM(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ej(t,e){return Cj(pte(t.getBoundingClientRect(),e))}function gte(t,e,n){const r=Ej(t,n),{scroll:s}=e;return s&&(fl(r.x,s.offset.x),fl(r.y,s.offset.y)),r}const bM=()=>({translate:0,scale:1,origin:0,originPoint:0}),hl=()=>({x:bM(),y:bM()}),xM=()=>({min:0,max:0}),Et=()=>({x:xM(),y:xM()}),Vv={current:null},Mj={current:!1};function yte(){if(Mj.current=!0,!!Ex)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vv.current=t.matches;t.addEventListener("change",e),e()}else Vv.current=!1}const vte=new WeakMap;function bte(t,e,n){for(const r in e){const s=e[r],o=n[r];if(hn(s))t.addValue(r,s);else if(hn(o))t.addValue(r,Ml(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Ml(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const SM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Dn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ct.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=a;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=jm(n),this.isVariantNode=hj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const b=m[y];f[y]!==void 0&&hn(b)&&b.set(f[y])}}mount(e){this.current=e,vte.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Mj.current||yte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xi(this.notifyUpdate),Xi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ql.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ol){const n=Ol[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<SM.length;r++){const s=SM[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=e[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=bte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ml(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xR(r)||wR(r))?r=parseFloat(r):!Eee(r)&&Ji.test(n)&&(r=rj(e,n)),this.setBaseTarget(e,hn(r)?r.get():r)),hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=tS(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!hn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Dx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Wx.render(this.render)}}class Oj extends xte{constructor(){super(...arguments),this.KeyframeResolver=mee}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Aj(t,{style:e,vars:n},r,s){const o=t.style;let a;for(a in e)o[a]=e[a];s?.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function Ste(t){return window.getComputedStyle(t)}class wte extends Oj{constructor(){super(...arguments),this.type="html",this.renderInstance=Aj}readValueFromInstance(e,n){if(ql.has(n))return this.projection?.isProjecting?Av(n):jZ(e,n);{const r=Ste(e),s=(Lx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ej(e,n)}build(e,n,r){Jx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return nS(e,n,r)}}const Nj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tte(t,e,n,r){Aj(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Nj.has(s)?s:rS(s),e.attrs[s])}class Cte extends Oj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Et}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ql.has(n)){const r=nj(n);return r&&r.default||0}return n=Nj.has(n)?n:rS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return xj(e,n,r)}build(e,n,r){gj(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Tte(e,n,r,s)}mount(e){this.isSVGTag=vj(e.tagName),super.mount(e)}}const _te=(t,e)=>eS(t)?new Cte(e):new wte(e,{allowProjection:t!==E.Fragment});function bl(t,e,n){const r=t.getProps();return tS(r,e,n!==void 0?n:r.custom,t)}const Iv=t=>Array.isArray(t);function kte(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ml(n))}function Ete(t){return Iv(t)?t[t.length-1]||0:t}function Mte(t,e){const n=bl(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const c=Ete(o[a]);kte(t,a,c)}}function Ote(t){return!!(hn(t)&&t.add)}function Uv(t,e){const n=t.getValue("willChange");if(Ote(n))return n.add(e);if(!n&&Js.WillChange){const r=new Js.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Dj(t){return t.props[Sj]}const Ate=t=>t!==null;function Nte(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Ate),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}const Dte={type:"spring",stiffness:500,damping:25,restSpeed:10},Rte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jte={type:"keyframes",duration:.8},Lte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pte=(t,{keyframes:e})=>e.length>2?jte:ql.has(t)?t.startsWith("scale")?Rte(e[1]):Dte:Lte;function Bte({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:c,from:f,elapsed:d,...p}){return!!Object.keys(p).length}const sS=(t,e,n,r={},s,o)=>a=>{const c=qx(r,t)||{},f=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ss(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-d,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};Bte(c)||Object.assign(p,Pte(t,p)),p.duration&&(p.duration=ss(p.duration)),p.repeatDelay&&(p.repeatDelay=ss(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Lv(p),p.delay===0&&(m=!0)),(Js.instantAnimations||Js.skipAnimations)&&(m=!0,Lv(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!o&&e.get()!==void 0){const y=Nte(p.keyframes,c);if(y!==void 0){ct.update(()=>{p.onUpdate(y),p.onComplete()});return}}return c.isSync?new $x(p):new ree(p)};function zte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Rj(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const f=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),y=c[p];if(y===void 0||d&&zte(d,p))continue;const b={delay:n,...qx(o||{},p)},S=m.get();if(S!==void 0&&!m.isAnimating&&!Array.isArray(y)&&y===S&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const _=Dj(t);if(_){const M=window.MotionHandoffAnimation(_,p,ct);M!==null&&(b.startTime=M,w=!0)}}Uv(t,p),m.start(sS(p,m,y,t.shouldReduceMotion&&ZR.has(p)?{type:!1}:b,t,w));const T=m.animation;T&&f.push(T)}return a&&Promise.all(f).then(()=>{ct.update(()=>{a&&Mte(t,a)})}),f}function jj(t,e,n,r=0,s=1){const o=Array.from(t).sort((d,p)=>d.sortNodePosition(p)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(o,a):s===1?o*r:c-o*r}function Hv(t,e,n={}){const r=bl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(Rj(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:m}=s;return Vte(t,e,f,d,p,m,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,d]=c==="beforeChildren"?[o,a]:[a,o];return f().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function Vte(t,e,n=0,r=0,s=0,o=1,a){const c=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),c.push(Hv(f,e,{...a,delay:n+(typeof r=="function"?0:r)+jj(t.variantChildren,f,r,s,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(c)}function Ite(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Hv(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Hv(t,e,n);else{const s=typeof e=="function"?bl(t,e,n.custom):e;r=Promise.all(Rj(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Lj(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Ute=Xx.length;function Pj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Pj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Ute;n++){const r=Xx[n],s=t.props[r];(Ku(s)||s===!1)&&(e[r]=s)}return e}const Hte=[...Qx].reverse(),$te=Qx.length;function Fte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ite(t,n,r)))}function qte(t){let e=Fte(t),n=wM(),r=!0;const s=f=>(d,p)=>{const m=bl(t,p,f==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:y,transitionEnd:b,...S}=m;d={...d,...S,...b}}return d};function o(f){e=f(t)}function a(f){const{props:d}=t,p=Pj(t.parent)||{},m=[],y=new Set;let b={},S=1/0;for(let T=0;T<$te;T++){const _=Hte[T],M=n[_],A=d[_]!==void 0?d[_]:p[_],N=Ku(A),O=_===f?M.isActive:null;O===!1&&(S=T);let B=A===p[_]&&A!==d[_]&&N;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),M.protectedKeys={...b},!M.isActive&&O===null||!A&&!M.prevProp||Rm(A)||typeof A=="boolean")continue;const L=Yte(M.prevProp,A);let R=L||_===f&&M.isActive&&!B&&N||T>S&&N,W=!1;const Z=Array.isArray(A)?A:[A];let oe=Z.reduce(s(_),{});O===!1&&(oe={});const{prevResolvedValues:ce={}}=M,Pe={...ce,...oe},Ce=q=>{R=!0,y.has(q)&&(W=!0,y.delete(q)),M.needsAnimating[q]=!0;const re=t.getValue(q);re&&(re.liveStyle=!1)};for(const q in Pe){const re=oe[q],Ne=ce[q];if(b.hasOwnProperty(q))continue;let j=!1;Iv(re)&&Iv(Ne)?j=!Lj(re,Ne):j=re!==Ne,j?re!=null?Ce(q):y.add(q):re!==void 0&&y.has(q)?Ce(q):M.protectedKeys[q]=!0}M.prevProp=A,M.prevResolvedValues=oe,M.isActive&&(b={...b,...oe}),r&&t.blockInitialAnimation&&(R=!1);const xe=B&&L;R&&(!xe||W)&&m.push(...Z.map(q=>{const re={type:_};if(typeof q=="string"&&r&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,j=bl(Ne,q);if(Ne.enteringChildren&&j){const{delayChildren:K}=j.transition||{};re.delay=jj(Ne.enteringChildren,t,K)}}return{animation:q,options:re}}))}if(y.size){const T={};if(typeof d.initial!="boolean"){const _=bl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);_&&_.transition&&(T.transition=_.transition)}y.forEach(_=>{const M=t.getBaseTarget(_),A=t.getValue(_);A&&(A.liveStyle=!0),T[_]=M??null}),m.push({animation:T})}let w=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function c(f,d){if(n[f].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(f,d)),n[f].isActive=d;const p=a(f);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=wM()}}}function Yte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Lj(e,t):!1}function _o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wM(){return{animate:_o(!0),whileInView:_o(),whileHover:_o(),whileTap:_o(),whileDrag:_o(),whileFocus:_o(),exit:_o()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Wte extends to{constructor(e){super(e),e.animationState||(e.animationState=qte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Gte=0;class Kte extends to{constructor(){super(...arguments),this.id=Gte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Qte={animation:{Feature:Wte},exit:{Feature:Kte}};function Xu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function vf(t){return{point:{x:t.pageX,y:t.pageY}}}const Xte=t=>e=>Gx(e)&&t(e,vf(e));function wu(t,e,n,r){return Xu(t,e,Xte(n),r)}const Bj=1e-4,Jte=1-Bj,Zte=1+Bj,zj=.01,ene=0-zj,tne=0+zj;function xn(t){return t.max-t.min}function nne(t,e,n){return Math.abs(t-e)<=n}function TM(t,e,n,r=.5){t.origin=r,t.originPoint=ht(e.min,e.max,t.origin),t.scale=xn(n)/xn(e),t.translate=ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Jte&&t.scale<=Zte||isNaN(t.scale))&&(t.scale=1),(t.translate>=ene&&t.translate<=tne||isNaN(t.translate))&&(t.translate=0)}function Tu(t,e,n,r){TM(t.x,e.x,n.x,r?r.originX:void 0),TM(t.y,e.y,n.y,r?r.originY:void 0)}function CM(t,e,n){t.min=n.min+e.min,t.max=t.min+xn(e)}function rne(t,e,n){CM(t.x,e.x,n.x),CM(t.y,e.y,n.y)}function _M(t,e,n){t.min=e.min-n.min,t.max=t.min+xn(e)}function Cu(t,e,n){_M(t.x,e.x,n.x),_M(t.y,e.y,n.y)}function pr(t){return[t("x"),t("y")]}const Vj=({current:t})=>t?t.ownerDocument.defaultView:null,kM=(t,e)=>Math.abs(t-e);function sne(t,e){const n=kM(t.x,e.x),r=kM(t.y,e.y);return Math.sqrt(n**2+r**2)}class Ij{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=u1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=sne(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:w}=y,{timestamp:T}=tn;this.history.push({...w,timestamp:T});const{onStart:_,onMove:M}=this.handlers;b||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=c1(b,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=u1(y.type==="pointercancel"?this.lastMoveEventInfo:c1(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,_),w&&w(y,_)},!Gx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const c=vf(e),f=c1(c,this.transformPagePoint),{point:d}=f,{timestamp:p}=tn;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=n;m&&m(e,u1(f,this.history)),this.removeListeners=mf(wu(this.contextWindow,"pointermove",this.handlePointerMove),wu(this.contextWindow,"pointerup",this.handlePointerUp),wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xi(this.updatePoint)}}function c1(t,e){return e?{point:e(t.point)}:t}function EM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function u1({point:t},e){return{point:t,delta:EM(t,Uj(e)),offset:EM(t,ine(e)),velocity:one(e,.1)}}function ine(t){return t[0]}function Uj(t){return t[t.length-1]}function one(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Uj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ss(e)));)n--;if(!r)return{x:0,y:0};const o=br(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ane(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ht(n,t,r.max):Math.min(t,n)),t}function MM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lne(t,{top:e,left:n,bottom:r,right:s}){return{x:MM(t.x,n,s),y:MM(t.y,e,r)}}function OM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cne(t,e){return{x:OM(t.x,e.x),y:OM(t.y,e.y)}}function une(t,e){let n=.5;const r=xn(t),s=xn(e);return s>r?n=Yu(e.min,e.max-r,t.min):r>s&&(n=Yu(t.min,t.max-s,e.min)),Xs(0,1,n)}function fne(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $v=.35;function dne(t=$v){return t===!1?t=0:t===!0&&(t=$v),{x:AM(t,"left","right"),y:AM(t,"top","bottom")}}function AM(t,e,n){return{min:NM(t,e),max:NM(t,n)}}function NM(t,e){return typeof t=="number"?t:t[e]||0}const hne=new WeakMap;class pne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vf(m).point)},a=(m,y)=>{const{drag:b,dragPropagation:S,onDragStart:w}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bee(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pr(_=>{let M=this.getAxisMotionValue(_).get()||0;if(is.test(M)){const{projection:A}=this.visualElement;if(A&&A.layout){const N=A.layout.layoutBox[_];N&&(M=xn(N)*(parseFloat(M)/100))}}this.originPoint[_]=M}),w&&ct.postRender(()=>w(m,y)),Uv(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},c=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:w,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:_}=y;if(S&&this.currentDirection===null){this.currentDirection=mne(_),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),T&&T(m,y)},f=(m,y)=>{this.latestPointerEvent=m,this.latestPanInfo=y,this.stop(m,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>pr(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Ij(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:Vj(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&ct.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!oh(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=ane(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=lne(r.layoutBox,e):this.constraints=!1,this.elastic=dne(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&pr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=fne(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ul(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=gte(r,s.root,this.visualElement.getTransformPagePoint());let a=cne(s.layout.layoutBox,o);if(n){const c=n(hte(a));this.hasMutatedConstraints=!!c,c&&(a=Cj(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},d=pr(p=>{if(!oh(p,n,this.currentDirection))return;let m=f&&f[p]||{};a&&(m={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,S={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,S)});return Promise.all(d).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Uv(this.visualElement,e),r.start(sS(e,r,0,n,this.visualElement,!1))}stopAnimation(){pr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){pr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){pr(n=>{const{drag:r}=this.getProps();if(!oh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];o.set(e[n]-ht(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ul(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};pr(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const f=c.get();s[a]=une({min:f,max:f},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),pr(a=>{if(!oh(a,e,null))return;const c=this.getAxisMotionValue(a),{min:f,max:d}=this.constraints[a];c.set(ht(f,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;hne.set(this.visualElement,this);const e=this.visualElement.current,n=wu(e,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ul(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ct.read(r);const a=Xu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(pr(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=f[p].translate,m.set(m.get()+f[p].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=$v,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function oh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gne extends to{constructor(e){super(e),this.removeGroupControls=Sr,this.removeListeners=Sr,this.controls=new pne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sr}unmount(){this.removeGroupControls(),this.removeListeners()}}const DM=t=>(e,n)=>{t&&ct.postRender(()=>t(e,n))};class yne extends to{constructor(){super(...arguments),this.removePointerDownListener=Sr}onPointerDown(e){this.session=new Ij(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:DM(e),onStart:DM(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&ct.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=wu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=RM(t,e.target.x),r=RM(t,e.target.y);return`${n}% ${r}%`}},vne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ji.parse(t);if(s.length>5)return r;const o=Ji.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,f=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=f;const d=ht(c,f,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),o(s)}};let f1=!1;class bne extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;Uee(xne),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),f1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Nh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,f1=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||ct.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;f1=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hj(t){const[e,n]=uj(),r=E.useContext(_x);return x.jsx(bne,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(wj),isPresent:e,safeToRemove:n})}const xne={borderRadius:{...Zc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zc,borderTopRightRadius:Zc,borderBottomLeftRadius:Zc,borderBottomRightRadius:Zc,boxShadow:vne};function Sne(t,e,n){const r=hn(t)?t:Ml(t);return r.start(sS("",r,e,n)),r.animation}const wne=(t,e)=>t.depth-e.depth;class Tne{constructor(){this.children=[],this.isDirty=!1}add(e){Mx(this.children,e),this.isDirty=!0}remove(e){Ox(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wne),this.isDirty=!1,this.children.forEach(e)}}function Cne(t,e){const n=Dn.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Xi(r),t(o-e))};return ct.setup(r,!0),()=>Xi(r)}const $j=["TopLeft","TopRight","BottomLeft","BottomRight"],_ne=$j.length,jM=t=>typeof t=="string"?parseFloat(t):t,LM=t=>typeof t=="number"||be.test(t);function kne(t,e,n,r,s,o){s?(t.opacity=ht(0,n.opacity??1,Ene(r)),t.opacityExit=ht(e.opacity??1,0,Mne(r))):o&&(t.opacity=ht(e.opacity??1,n.opacity??1,r));for(let a=0;a<_ne;a++){const c=`border${$j[a]}Radius`;let f=PM(e,c),d=PM(n,c);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||LM(f)===LM(d)?(t[c]=Math.max(ht(jM(f),jM(d),r),0),(is.test(d)||is.test(f))&&(t[c]+="%")):t[c]=d}(e.rotate||n.rotate)&&(t.rotate=ht(e.rotate||0,n.rotate||0,r))}function PM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ene=Fj(0,.5,AR),Mne=Fj(.5,.95,Sr);function Fj(t,e,n){return r=>r<t?0:r>e?1:n(Yu(t,e,r))}function BM(t,e){t.min=e.min,t.max=e.max}function dr(t,e){BM(t.x,e.x),BM(t.y,e.y)}function zM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function VM(t,e,n,r,s){return t-=e,t=$p(t,1/n,r),s!==void 0&&(t=$p(t,1/s,r)),t}function One(t,e=0,n=1,r=.5,s,o=t,a=t){if(is.test(e)&&(e=parseFloat(e),e=ht(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=ht(o.min,o.max,r);t===o&&(c-=e),t.min=VM(t.min,e,n,c,s),t.max=VM(t.max,e,n,c,s)}function IM(t,e,[n,r,s],o,a){One(t,e[n],e[r],e[s],e.scale,o,a)}const Ane=["x","scaleX","originX"],Nne=["y","scaleY","originY"];function UM(t,e,n,r){IM(t.x,e,Ane,n?n.x:void 0,r?r.x:void 0),IM(t.y,e,Nne,n?n.y:void 0,r?r.y:void 0)}function HM(t){return t.translate===0&&t.scale===1}function qj(t){return HM(t.x)&&HM(t.y)}function $M(t,e){return t.min===e.min&&t.max===e.max}function Dne(t,e){return $M(t.x,e.x)&&$M(t.y,e.y)}function FM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Yj(t,e){return FM(t.x,e.x)&&FM(t.y,e.y)}function qM(t){return xn(t.x)/xn(t.y)}function YM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Rne{constructor(){this.members=[]}add(e){Mx(this.members,e),e.scheduleRender()}remove(e){if(Ox(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jne(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,a=n?.z||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:m,rotateY:y,skewX:b,skewY:S}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,f=t.y.scale*e.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const d1=["","X","Y","Z"],Lne=1e3;let Pne=0;function h1(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Wj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Dj(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ct,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Wj(r)}function Gj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e?.()){this.id=Pne++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Vne),this.nodes.forEach($ne),this.nodes.forEach(Fne),this.nodes.forEach(Ine)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tne)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Dx),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const f=this.eventHandlers.get(a);f&&f.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=cj(a)&&!_ee(a),this.instance=a;const{layoutId:c,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),t){let p,m=0;const y=()=>this.root.updateBlockedByResize=!1;ct.read(()=>{m=window.innerWidth}),t(a,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,p&&p(),p=Cne(y,250),Nh.hasAnimatedSinceResize&&(Nh.hasAnimatedSinceResize=!1,this.nodes.forEach(KM)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||Kne,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=d.getProps(),_=!this.targetLayout||!Yj(this.targetLayout,b),M=!m&&y;if(this.options.layoutRoot||this.resumeFrom||M||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...qx(S,"layout"),onPlay:w,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(p,M)}else m||KM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qne),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(GM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Hne),this.nodes.forEach(Bne),this.nodes.forEach(zne)):this.nodes.forEach(GM),this.clearAllSnapshots();const c=Dn.now();tn.delta=Xs(0,1e3/60,c-tn.timestamp),tn.timestamp=c,tn.isProcessing=!0,t1.update.process(tn),t1.preRender.process(tn),t1.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Une),this.sharedNodes.forEach(Yne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!qj(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;a&&this.instance&&(c||Mo(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return a&&(f=this.removeTransform(f)),Qne(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Et();const c=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xne))){const{scroll:d}=this.root;d&&(fl(c.x,d.offset.x),fl(c.y,d.offset.y))}return c}removeElementScroll(a){const c=Et();if(dr(c,a),this.scroll?.wasRoot)return c;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:p,options:m}=d;d!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&dr(c,a),fl(c.x,p.offset.x),fl(c.y,p.offset.y))}return c}applyTransform(a,c=!1){const f=Et();dr(f,a);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&dl(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Mo(p.latestValues)&&dl(f,p.latestValues)}return Mo(this.latestValues)&&dl(f,this.latestValues),f}removeTransform(a){const c=Et();dr(c,a);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Mo(d.latestValues))continue;Bv(d.latestValues)&&d.updateSnapshot();const p=Et(),m=d.measurePageBox();dr(p,m),UM(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Mo(this.latestValues)&&UM(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(a||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Cu(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),kj(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),Cu(this.relativeTargetOrigin,this.target,y.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bv(this.parent.latestValues)||_j(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),c=!!this.resumingFrom||this!==a;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;dr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;mte(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Et());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zM(this.prevProjectionDelta.x,this.projectionDelta.x),zM(this.prevProjectionDelta.y,this.projectionDelta.y)),Tu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!YM(this.projectionDelta.x,this.prevProjectionDelta.x)||!YM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hl(),this.projectionDelta=hl(),this.projectionDeltaWithTransform=hl()}setAnimationOrigin(a,c=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},m=hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Et(),b=f?f.source:void 0,S=this.layout?this.layout.source:void 0,w=b!==S,T=this.getStack(),_=!T||T.members.length<=1,M=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(Gne));this.animationProgress=0;let A;this.mixTargetDelta=N=>{const O=N/1e3;QM(m.x,a.x,O),QM(m.y,a.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cu(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wne(this.relativeTarget,this.relativeTargetOrigin,y,O),A&&Dne(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Et()),dr(A,this.relativeTarget)),w&&(this.animationValues=p,kne(p,d,this.latestValues,O,M,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{Nh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ml(0)),this.currentAnimation=Sne(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:f,layout:d,latestValues:p}=a;if(!(!c||!f||!d)){if(this!==a&&this.layout&&d&&Kj(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Et();const m=xn(this.layout.layoutBox.x);f.x.min=a.target.x.min,f.x.max=f.x.min+m;const y=xn(this.layout.layoutBox.y);f.y.min=a.target.y.min,f.y.max=f.y.min+y}dr(c,f),dl(c,p),Tu(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Rne),this.sharedNodes.get(a).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:f}=a;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const d={};f.z&&h1("z",a,d,this.animationValues);for(let p=0;p<d1.length;p++)h1(`rotate${d1[p]}`,a,d,this.animationValues),h1(`skew${d1[p]}`,a,d,this.animationValues);a.render();for(const p in d)a.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Ah(c?.pointerEvents)||"",a.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Ah(c?.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(a.transform=f?f({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=jne(this.projectionDeltaWithTransform,this.treeScale,p);f&&(m=f(p,m)),a.transform=m;const{x:y,y:b}=this.projectionDelta;a.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,d.animationValues?a.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Qu){if(p[S]===void 0)continue;const{correct:w,applyTo:T,isCSSVariable:_}=Qu[S],M=m==="none"?p[S]:w(p[S],d);if(T){const A=T.length;for(let N=0;N<A;N++)a[T[N]]=M}else _?this.options.visualElement.renderState.vars[S]=M:a[S]=M}this.options.layoutId&&(a.pointerEvents=d===this?Ah(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(WM),this.root.sharedNodes.clear()}}}function Bne(t){t.updateLayout()}function zne(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?pr(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=xn(m);m.min=n[p].min,m.max=m.min+y}):Kj(s,e.layoutBox,n)&&pr(p=>{const m=o?e.measuredBox[p]:e.layoutBox[p],y=xn(n[p]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const a=hl();Tu(a,n,e.layoutBox);const c=hl();o?Tu(c,t.applyTransform(r,!0),e.measuredBox):Tu(c,n,e.layoutBox);const f=!qj(a);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const b=Et();Cu(b,e.layoutBox,m.layoutBox);const S=Et();Cu(S,n,y.layoutBox),Yj(b,S)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=b,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Vne(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ine(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Une(t){t.clearSnapshot()}function WM(t){t.clearMeasurements()}function GM(t){t.isLayoutDirty=!1}function Hne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function KM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $ne(t){t.resolveTargetDelta()}function Fne(t){t.calcProjection()}function qne(t){t.resetSkewAndRotation()}function Yne(t){t.removeLeadSnapshot()}function QM(t,e,n){t.translate=ht(e.translate,0,n),t.scale=ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XM(t,e,n,r){t.min=ht(e.min,n.min,r),t.max=ht(e.max,n.max,r)}function Wne(t,e,n,r){XM(t.x,e.x,n.x,r),XM(t.y,e.y,n.y,r)}function Gne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Kne={duration:.45,ease:[.4,0,.1,1]},JM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ZM=JM("applewebkit/")&&!JM("chrome/")?Math.round:Sr;function e2(t){t.min=ZM(t.min),t.max=ZM(t.max)}function Qne(t){e2(t.x),e2(t.y)}function Kj(t,e,n){return t==="position"||t==="preserve-aspect"&&!nne(qM(e),qM(n),.2)}function Xne(t){return t!==t.root&&t.scroll?.wasRoot}const Jne=Gj({attachResizeListener:(t,e)=>Xu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),p1={current:void 0},Qj=Gj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!p1.current){const t=new Jne({});t.mount(window),t.setOptions({layoutScroll:!0}),p1.current=t}return p1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zne={pan:{Feature:yne},drag:{Feature:gne,ProjectionNode:Qj,MeasureLayout:Hj}};function t2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&ct.postRender(()=>o(e,vf(e)))}class ere extends to{mount(){const{current:e}=this.node;e&&(this.unmount=xee(e,(n,r)=>(t2(this.node,r,"Start"),s=>t2(this.node,s,"End"))))}unmount(){}}class tre extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mf(Xu(this.node.current,"focus",()=>this.onFocus()),Xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&ct.postRender(()=>o(e,vf(e)))}class nre extends to{mount(){const{current:e}=this.node;e&&(this.unmount=Cee(e,(n,r)=>(n2(this.node,r,"Start"),(s,{success:o})=>n2(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fv=new WeakMap,m1=new WeakMap,rre=t=>{const e=Fv.get(t.target);e&&e(t)},sre=t=>{t.forEach(rre)};function ire({root:t,...e}){const n=t||document;m1.has(n)||m1.set(n,{});const r=m1.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(sre,{root:t,...e})),r[s]}function ore(t,e,n){const r=ire(e);return Fv.set(t,n),r.observe(t),()=>{Fv.delete(t),r.unobserve(t)}}const are={some:0,all:1};class lre extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:are[s]},c=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),y=d?p:m;y&&y(f)};return ore(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cre(e,n))&&this.startObserver()}unmount(){}}function cre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ure={inView:{Feature:lre},tap:{Feature:nre},focus:{Feature:tre},hover:{Feature:ere}},fre={layout:{ProjectionNode:Qj,MeasureLayout:Hj}},dre={...Qte,...ure,...Zne,...fre},_u=dte(dre,_te);function Xj(t){return Hr({queryKey:["note",t],queryFn:()=>M9(t),enabled:!!t})}function Jj(){const t=Cn();return $r({mutationFn:e=>O9(e),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}})}function hre(){const t=Cn(),e=$r({mutationFn:({noteId:n,optimizeDto:r})=>N9(n,r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{optimizedNote:e.data,isLoading:e.isPending,error:e.error,optimizeNote:(n,r,s)=>e.mutate({noteId:n,optimizeDto:{subjectCode:r,courseCode:s}})}}function pre(){const t=Cn(),e=$r({mutationFn:({noteId:n})=>D9(n),onSuccess:n=>{t.invalidateQueries({queryKey:["noteQuizzes"]}),t.setQueryData(["noteQuiz",n.id],n)}});return{generatedQuiz:e.data,isLoading:e.isPending,error:e.error,generateQuiz:(n,r)=>e.mutate({noteId:n},r)}}const mre="_toolbarContainer_hrjr5_1",gre="_iconButton_hrjr5_49",yre="_iconLabel_hrjr5_117",vre="_trash_hrjr5_167",bre="_edit_hrjr5_177",xre="_optimize_hrjr5_187",Sre="_close_hrjr5_197",wre="_generate_hrjr5_207",Oi={toolbarContainer:mre,iconButton:gre,iconLabel:yre,trash:vre,edit:bre,optimize:xre,close:Sre,generate:wre};function Tre({onDelete:t,onToggleEdit:e,onClose:n,onOptimize:r,onGenerateQuiz:s,isEditing:o,isDeleting:a=!1}){const c=({icon:f,label:d,onClick:p,disabled:m,className:y})=>x.jsxs("button",{className:`${Oi.iconButton} ${y??""}`,onClick:p,disabled:m,children:[f,x.jsx("span",{className:Oi.iconLabel,children:d})]});return x.jsxs("div",{className:Oi.toolbarContainer,children:[x.jsx(c,{icon:x.jsx(Bl,{size:16}),label:"Stng",onClick:n,className:Oi.close}),x.jsx(c,{icon:o?x.jsx(nI,{size:16}):x.jsx(sI,{size:16}),label:o?"Avsluta redigering":"Redigera",onClick:e,className:Oi.edit}),x.jsx(c,{icon:x.jsx(sV,{size:16}),label:"Optimera med AI",onClick:r,disabled:a,className:Oi.optimize}),x.jsx(c,{icon:x.jsx(sm,{size:16}),label:"Generera Quiz med AI",onClick:s,disabled:a,className:Oi.generate}),x.jsx(c,{icon:x.jsx(vI,{size:16}),label:"Radera",onClick:t,disabled:a,className:Oi.trash})]})}const Cre="_outerContainer_1kjfr_1",_re="_innerContainer_1kjfr_21",kre="_subjectSelection_1kjfr_53",Ere="_changeSubjectBtn_1kjfr_83",Mre="_horizontalDivider_1kjfr_161",Ore="_expanded_1kjfr_179",Are="_collapsed_1kjfr_187",Nre="_toolbarContainer_1kjfr_247",Dre="_iconButton_1kjfr_279",Rre="_textareaContainer_1kjfr_335",jre="_textarea_1kjfr_335",yn={outerContainer:Cre,innerContainer:_re,subjectSelection:kre,changeSubjectBtn:Ere,horizontalDivider:Mre,expanded:Ore,collapsed:Are,toolbarContainer:Nre,iconButton:Dre,textareaContainer:Rre,textarea:jre};function Lre({noteId:t,noteContent:e="",onClose:n}){const{data:r,isLoading:s,error:o}=Xj(t),a=Cn(),c=Jj(),{optimizedNote:f,isLoading:d,optimizeNote:p}=hre(),{editNote:m}=vR(),{generateQuiz:y,isLoading:b}=pre(),S=Ur(),T=Gt(q=>q.preferences).subjects||[],_=Array.isArray(T)?T.map(q=>typeof q=="string"?q:q.courseName):[],[M,A]=E.useState(r?.subject||""),[N,O]=E.useState(!!r?.subject),[B,L]=E.useState(!1),[R,W]=E.useState(null),[Z,oe]=E.useState(!1);E.useEffect(()=>{O(!!M)},[M]),E.useEffect(()=>{const q=new UD({extensions:[pR],content:e||r?.note||""});return W(q),()=>q.destroy()},[e,r?.note]),E.useEffect(()=>{R&&f?.id===t&&(R.commands.setContent(f.note),R.view?.dispatch(R.view.state.tr.scrollIntoView()))},[f,R,t]);const ce=async()=>{if(!R)return!1;try{const q=R.getHTML();return await m(t,{subject:M,note:q}),a.invalidateQueries({queryKey:["notes"]}),!0}catch(q){return console.error("Misslyckades med att spara anteckning:",q),!1}},Pe=()=>oe(!0),Ce=()=>{oe(!1),c.mutate(t,{onSuccess:()=>{a.invalidateQueries({queryKey:["notesCount"]}),n?.()},onError:console.error})},xe=()=>{if(!r)return;const q=T.find(re=>re.courseName===r.subject||re.courseCode===r.subject);q&&p(t,q.subjectCode,q.courseCode)},F=()=>{r&&y(t,{onSuccess:q=>{window.confirm("Quizet r klart! Vill du spela det nu?")&&S(`/quiz/${q.id}`)},onError:console.error})};return s&&!e?x.jsx("p",{children:"Laddar anteckning..."}):o?x.jsxs("p",{children:["Fel: ",o.message]}):!e&&!r?.note?x.jsx("p",{children:"Ingen anteckning hittades"}):x.jsx(jee,{mode:"wait",children:x.jsx(_u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25,ease:"easeInOut"},className:yn.outerContainer,children:x.jsxs("div",{className:yn.innerContainer,children:[x.jsx(Tre,{onDelete:Pe,onToggleEdit:()=>L(q=>!q),onClose:n??(()=>{}),onOptimize:xe,onGenerateQuiz:F,isEditing:B,isDeleting:!1}),x.jsxs("div",{className:yn.subjectSelection,children:[x.jsx(ju,{title:"",options:B?_:[],selected:M,onSelect:B?A:()=>{},collapsed:!B||N}),B&&N&&x.jsx("button",{className:yn.changeSubjectBtn,onClick:()=>O(!1),children:"ndra mne"})]}),B&&R&&x.jsx(mR,{editor:R}),B&&x.jsx("div",{className:`${yn.horizontalDivider} ${N?yn.collapsed:yn.expanded}`}),d&&x.jsx("p",{children:"Optimerar anteckning..."}),b&&x.jsx("p",{children:"Genererar quiz..."}),R&&x.jsx("div",{className:yn.textareaContainer,children:x.jsx("div",{className:yn.textarea,children:x.jsx("div",{ref:q=>{!q||!R||(q.contains(R.view.dom)||q.appendChild(R.view.dom),R.setEditable(B))}})})}),B&&x.jsxs("div",{className:yn.toolbarContainer,children:[x.jsx(aa,{onSave:async()=>{const q=await ce();return q&&L(!1),q}}),x.jsxs("button",{className:yn.iconButton,onClick:()=>L(!1),children:[x.jsx(Bl,{size:16})," Avbryt"]})]}),Z&&x.jsx("div",{className:yn.modalOverlay,children:x.jsxs(_u.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:yn.modalContent,children:[x.jsx("p",{children:"Vill du verkligen ta bort den hr anteckningen?"}),x.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem"},children:[x.jsx("button",{onClick:Ce,children:"Ja"}),x.jsx("button",{onClick:()=>oe(!1),children:"Nej"})]})]})})]})},t)})}const Pre="_sidebar_p79rm_1",Bre="_nav_p79rm_21",zre="_iconButton_p79rm_33",Vre="_add_p79rm_69",Ire="_searchIcon_p79rm_79",Ure="_todayIcon_p79rm_79",Hre="_iconTextButton_p79rm_87",$re="_selected_p79rm_123",Fre="_navText_p79rm_139",qre="_searchInput_p79rm_159",Yre="_clearButton_p79rm_207",Wre="_addText_p79rm_233",Gre="_sectionHeader_p79rm_275",Kre="_sectionText_p79rm_297",yt={sidebar:Pre,nav:Bre,iconButton:zre,add:Vre,searchIcon:Ire,todayIcon:Ure,iconTextButton:Hre,selected:$re,navText:Fre,searchInput:qre,clearButton:Yre,addText:Wre,sectionHeader:Gre,sectionText:Kre},Qre="/notes/notecollection";async function Xre(){try{return(await qe.get(`${Qre}`)).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta alla note collections"):new Error("Kunde inte n servern")}}function Jre(){return Hr({queryKey:["noteCollections"],queryFn:()=>Xre(),staleTime:1e3*60*5})}const Zre="_collectionsList_1i4s0_1",ese="_collectionButton_1i4s0_23",tse="_selected_1i4s0_55",nse="_error_1i4s0_69",ah={collectionsList:Zre,collectionButton:ese,selected:tse,error:nse};function rse({onSelectCollection:t,selectedCollectionId:e}){const{data:n,isLoading:r,error:s}=Jre();return r?x.jsx("p",{children:"Laddar collections..."}):s?x.jsx("p",{className:ah.error,children:s.message}):!n||n.length===0?x.jsx("p",{children:"Inga collections"}):x.jsx("div",{className:ah.collectionsList,children:n.map(o=>x.jsxs("button",{className:`${ah.collectionButton} ${e===o.id?ah.selected:""}`,onClick:()=>t?.(o.id),children:[o.name," (",o.notes.length,")"]},o.id))})}function sse({onAdd:t,onSearch:e,onToday:n,onSelectCategory:r}){const[s,o]=E.useState(""),[a,c]=E.useState(!1),[f,d]=E.useState("all");function p(S){const w=S.target.value;o(w),e?.(w)}const m=({icon:S,text:w,iconClass:T,onClick:_,id:M,disableSelect:A=!1,textColorClass:N})=>x.jsxs("button",{className:`${yt.iconTextButton} ${!A&&f===M?yt.selected:""}`,onClick:()=>{A||(d(M??null),r?.(w)),_?.()},children:[x.jsx("span",{className:`${yt.iconButton} ${T??""}`,children:S}),x.jsx("span",{className:`${yt.navText} ${N??""}`,children:w})]}),y=a||s!=="";function b(S){throw new Error("Function not implemented.")}return x.jsx("aside",{className:yt.sidebar,children:x.jsxs("nav",{className:yt.nav,children:[x.jsx(m,{icon:x.jsx(kO,{size:20}),text:"Lgg till anteckning",iconClass:yt.add,id:"add",disableSelect:!0,textColorClass:yt.addText,onClick:t}),x.jsxs("div",{className:`${yt.iconTextButton} ${y?yt.selected:""}`,children:[x.jsx("span",{className:`${yt.iconButton} ${yt.searchIcon}`,children:x.jsx(EO,{size:18})}),x.jsx("input",{value:s,onChange:p,placeholder:"Sk",className:yt.searchInput,autoFocus:a,onFocus:()=>c(!0),onBlur:()=>c(!1)}),s&&x.jsx("span",{className:yt.clearButton,onClick:()=>o(""),children:x.jsx(fb,{size:18})})]}),x.jsx(m,{icon:x.jsx(CO,{size:20}),text:"Alla",iconClass:yt.todayIcon,id:"all"}),x.jsx(m,{icon:x.jsx(wO,{size:20}),text:"Idag",iconClass:yt.todayIcon,id:"today",onClick:n}),x.jsx(m,{icon:x.jsx(J_,{size:20}),text:"Senaste veckan",iconClass:yt.todayIcon,id:"week"}),x.jsx(m,{icon:x.jsx(J_,{size:20}),text:"Senaste mnaden",iconClass:yt.todayIcon,id:"month"}),x.jsx(m,{icon:x.jsx(aV,{size:20}),text:"ldre n 1 mnad",iconClass:yt.todayIcon,id:"older"}),x.jsxs("div",{className:yt.sectionHeader,children:[x.jsx("span",{className:`${yt.iconButton}`,children:x.jsx(kV,{size:22})}),x.jsx("span",{className:yt.sectionText,children:"Collections"})]}),x.jsx(rse,{onSelectCollection:b})]})})}const ise="_notesWrapper_1m1wz_1",ose="_contentWrapper_1m1wz_19",ase="_notesListContainer_1m1wz_31",lse="_notesContentWrapper_1m1wz_51",cse="_modalOverlay_1m1wz_135",use="_modalContent_1m1wz_161",Xa={notesWrapper:ise,contentWrapper:ose,notesListContainer:ase,notesContentWrapper:lse,modalOverlay:cse,modalContent:use};function fse(){const t=Cn();return $r({mutationFn:e=>k9(e),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}})}function dse(){const[t]=E.useState({}),[e,n]=E.useState(!1),[r,s]=E.useState(null),[o,a]=E.useState(!1),[c,f]=E.useState(null),[d,p]=E.useState(""),[m,y]=E.useState(""),[b,S]=E.useState("Alla"),w=Cn(),T=fse(),_=Jj(),{data:M,isLoading:A,error:N}=Xj(r??void 0),O=async(L,R)=>{if(!L||!R.trim())return!1;try{const W=await T.mutateAsync({subject:L,note:R});return w.invalidateQueries({queryKey:["notesCount"]}),s(W.id),!0}catch(W){return console.error("Fel vid sparning av anteckning:",W),!1}},B=()=>{c&&_.mutate(c,{onSuccess:()=>{s(null),f(null),a(!1),w.invalidateQueries({queryKey:["notesCount"]})},onError:L=>{console.error(L),f(null)}})};return x.jsxs("div",{className:Xa.notesWrapper,children:[x.jsxs("div",{className:Xa.contentWrapper,children:[x.jsx(sse,{onSelectCategory:L=>S(L),onAdd:()=>n(!0)}),x.jsx("div",{className:Xa.notesListContainer,children:x.jsx("div",{className:Xa.notesContentWrapper,children:e?x.jsx(AJ,{onSave:O,onClose:()=>n(!1),subject:d,setSubject:p,noteContent:m,setNoteContent:y}):r?x.jsxs("div",{className:`${yn.noteCard} ${o?yn.editMode:""}`,children:[A&&x.jsx("p",{children:"Laddar anteckning..."}),N&&x.jsxs("p",{children:["Fel: ",N.message]}),M&&o&&x.jsx(NJ,{noteId:r,initialSubject:M.subject,initialNote:M.note}),M&&!o&&x.jsx(Lre,{noteId:r,onClose:()=>s(null)})]}):x.jsx(K9,{filter:t,onSelectNote:s,selectedCategory:b})})})]}),c&&x.jsx("div",{className:Xa.modalOverlay,children:x.jsxs("div",{className:Xa.modalContent,children:[x.jsx("p",{children:"Vill du verkligen ta bort den hr anteckningen?"}),x.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem"},children:[x.jsx("button",{onClick:B,children:"Ja"}),x.jsx("button",{onClick:()=>f(null),children:"Nej"})]})]})})]})}const hse="_subscriptionContainer_1otjw_1",pse="_banner_1otjw_37",mse="_planName_1otjw_65",gse="_subscriptionList_1otjw_85",lh={subscriptionContainer:hse,banner:pse,planName:mse,subscriptionList:gse},yse=()=>{const t=()=>{alert("Tack fr att du prenumererar!")};return x.jsxs("div",{className:lh.subscriptionContainer,children:[x.jsx("div",{className:lh.banner,children:"59 kr/mn"}),x.jsx("div",{className:lh.planName,children:"PREMIUM"}),x.jsxs("ul",{className:lh.subscriptionList,children:[x.jsx("li",{children:"Anvnd AI fr att frdjupa dina anteckningar"}),x.jsx("li",{children:"Anvnd AI fr att......."}),x.jsx("li",{children:"Anvnd AI fr att.........."}),x.jsx("li",{children:"Anvnd AI fr att...."})]}),x.jsx("button",{onClick:t,children:"Kp"})]})},vse="_plannerWrapper_1v8cf_1",bse="_contentWrapper_1v8cf_17",xse="_plannerListContainer_1v8cf_29",Sse="_plannerContentWrapper_1v8cf_49",ch={plannerWrapper:vse,contentWrapper:bse,plannerListContainer:xse,plannerContentWrapper:Sse},wse="_sidebar_1ctlz_1",Tse="_content_1ctlz_21",Cse="_header_1ctlz_37",_se="_text_1ctlz_51",Ja={sidebar:wse,content:Tse,header:Cse,text:_se};function kse(){return x.jsx("aside",{className:Ja.sidebar,children:x.jsxs("div",{className:Ja.content,children:[x.jsx("h2",{className:Ja.header,children:"Mlplaneraren"}),x.jsx("p",{className:Ja.text,children:"Mlplaneraren hjlper dig att planera din framtid genom att utg frn dina skolbetyg. Hr kan du enkelt lgga in dina mnesbetyg och f ditt aktuella meritvrde berknat automatiskt."}),x.jsxs("p",{className:Ja.text,children:["Baserat p ditt meritvrde kan du sedan utforska vilka utbildningar du r behrig till. Du kan sjlv ange ett omrde du r intresserad av, till exempel ",x.jsx("em",{children:"juridik"}),", och direkt f en lista ver relevanta utbildningar dr dina meriter rcker till."]}),x.jsx("p",{className:Ja.text,children:"P s stt blir mlplaneraren ett std fr att frst dina mjligheter och ta nsta steg mot din framtida utbildning."})]})})}function Ese(){return x.jsx("div",{className:ch.plannerWrapper,children:x.jsxs("div",{className:ch.contentWrapper,children:[x.jsx(kse,{}),x.jsx("div",{className:ch.plannerListContainer,children:x.jsx("div",{className:ch.plannerContentWrapper,children:x.jsx("h1",{children:"Mlplaneraren"})})})]})})}const Mse="_sidebar_1wwrl_1",Ose="_nav_1wwrl_21",Ase="_iconButton_1wwrl_33",Nse="_iconTextButton_1wwrl_61",Dse="_selected_1wwrl_97",Rse="_navText_1wwrl_113",Za={sidebar:Mse,nav:Ose,iconButton:Ase,iconTextButton:Nse,selected:Dse,navText:Rse};function jse({onSelectCategory:t}){const[e,n]=E.useState("profil"),r=({icon:s,text:o,id:a})=>x.jsxs("button",{className:`${Za.iconTextButton} ${e===a?Za.selected:""}`,onClick:()=>{n(a),t?.(a)},children:[x.jsx("span",{className:Za.iconButton,children:s}),x.jsx("span",{className:Za.navText,children:o})]});return x.jsx("aside",{className:Za.sidebar,children:x.jsxs("nav",{className:Za.nav,children:[x.jsx(r,{icon:x.jsx(EI,{size:20}),text:"Profil",id:"profil"}),x.jsx(r,{icon:x.jsx(dI,{size:20}),text:"Skerhet",id:"skerhet"}),x.jsx(r,{icon:x.jsx(KV,{size:20}),text:"Integritet",id:"integritet"})]})})}const Lse="_wrapper_rwyol_1",Pse="_content_rwyol_15",r2={wrapper:Lse,content:Pse},Zj=()=>us(),Bse="_formWrapper_sulb0_1",zse="_header_sulb0_17",Vse="_icon_sulb0_41",Ise="_form_sulb0_1",Use="_buttonRow_sulb0_129",Hse="_submitBtn_sulb0_143",$se="_cancelBtn_sulb0_181",ko={formWrapper:Bse,header:zse,icon:Vse,form:Ise,buttonRow:Use,submitBtn:Hse,cancelBtn:$se};function Fse(){const t=Zj(),e=Gt(b=>b.profile.profile),[n,r]=E.useState(e?.firstname||""),[s,o]=E.useState(e?.lastname||""),[a,c]=E.useState(e?.email||"");E.useEffect(()=>{t(au())},[t]),E.useEffect(()=>{r(e?.firstname||""),o(e?.lastname||""),c(e?.email||"")},[e]);const{data:f,isLoading:d,error:p}=$O();E.useEffect(()=>{f&&console.log("Program frn Skolverket:",f)},[f]);const m=b=>{b.preventDefault(),console.log({firstName:n,lastName:s,email:a,programs:f})},y=()=>{r(e?.firstname||""),o(e?.lastname||""),c(e?.email||"")};return x.jsxs("div",{className:ko.formWrapper,children:[x.jsxs("div",{className:ko.header,children:[x.jsx(MO,{size:25,className:ko.icon}),x.jsx("h2",{children:"Redigera profil"})]}),d&&x.jsx("p",{children:"Laddar program..."}),p&&x.jsxs("p",{children:["Ett fel intrffade: ",String(p)]}),x.jsxs("form",{onSubmit:m,className:ko.form,children:[x.jsxs("label",{children:["Frnamn",x.jsx("input",{type:"text",value:n,onChange:b=>r(b.target.value),placeholder:"Frnamn"})]}),x.jsxs("label",{children:["Efternamn",x.jsx("input",{type:"text",value:s,onChange:b=>o(b.target.value),placeholder:"Efternamn"})]}),x.jsxs("label",{children:["E-postadress",x.jsx("input",{type:"email",value:a,onChange:b=>c(b.target.value),placeholder:"example@email.com"})]}),x.jsxs("div",{className:ko.buttonRow,children:[x.jsxs("button",{type:"button",onClick:y,className:ko.cancelBtn,children:[x.jsx(Bl,{size:16})," Avbryt"]}),x.jsxs("button",{type:"submit",className:ko.submitBtn,children:[x.jsx(cI,{size:16})," Spara"]})]})]})]})}function qse(){const[t,e]=E.useState("profil");return x.jsxs("div",{className:r2.wrapper,children:[x.jsx(jse,{onSelectCategory:e}),x.jsxs("div",{className:r2.content,children:[t==="profil"&&x.jsx("div",{children:x.jsx(Fse,{})}),t==="skerhet"&&x.jsxs("div",{children:[x.jsx("h2",{children:"Skerhet"}),x.jsx("p",{children:"Hr kan du ndra skerhetsinstllningar som lsenord och 2FA."})]}),t==="integritet"&&x.jsxs("div",{children:[x.jsx("h2",{children:"Integritet"}),x.jsx("p",{children:"Hantera din kontoinformation, synlighet och datadelning."}),x.jsxs("ul",{children:[x.jsx("li",{children:"Kontots synlighet (offentlig / privat)"}),x.jsx("li",{children:"Vem kan se din profilinformation"}),x.jsx("li",{children:"Dela data med tredjepartstjnster"}),x.jsx("li",{children:"Exportera eller ta bort ditt konto"})]})]})]})]})}function Yse(t){return db({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm3 5.5h-2.5V21h-1v-2.5H15v-1h2.5V15h1v2.5H21v1zM7 5h13v2H7z"},child:[]},{tag:"circle",attr:{cx:"3.5",cy:"18",r:"1.5"},child:[]},{tag:"path",attr:{d:"M18 11H7v2h6.11c1.26-1.24 2.99-2 4.89-2zM7 17v2h4.08c-.05-.33-.08-.66-.08-1s.03-.67.08-1H7z"},child:[]},{tag:"circle",attr:{cx:"3.5",cy:"6",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"3.5",cy:"12",r:"1.5"},child:[]}]})(t)}const Wse="_sidebar_srkhd_1",Gse="_nav_srkhd_21",Kse="_iconButton_srkhd_33",Qse="_iconTextButton_srkhd_61",Xse="_selected_srkhd_97",Jse="_navText_srkhd_113",Zse="_folder_srkhd_141",eie="_folderHeader_srkhd_155",tie="_chevron_srkhd_189",nie="_open_srkhd_199",rie="_folderContent_srkhd_209",sie="_subFolder_srkhd_223",iie="_subFolderHeader_srkhd_235",oie="_subFolderOngoing_srkhd_251",aie="_active_srkhd_261",lie="_nested_srkhd_269",cie="_subFolderCompleted_srkhd_303",vt={sidebar:Wse,nav:Gse,iconButton:Kse,iconTextButton:Qse,selected:Xse,navText:Jse,folder:Zse,folderHeader:eie,chevron:tie,open:nie,folderContent:rie,subFolder:sie,subFolderHeader:iie,subFolderOngoing:oie,active:aie,nested:lie,subFolderCompleted:cie};function uie({selectedCategory:t,onSelectCategory:e}){const[n,r]=E.useState({"amnen-kurser":!0}),s=c=>{r(f=>({...f,[c]:!f[c]}))},o=({icon:c,text:f,id:d,nested:p=!1})=>x.jsxs("button",{className:`${vt.iconTextButton} ${p?vt.nested:""} ${t===d?vt.selected:""}`,onClick:()=>{d!==t&&e?.(d)},children:[c&&x.jsx("span",{className:vt.iconButton,children:c}),x.jsx("span",{className:vt.navText,children:f})]}),a=c=>c.includes(t);return x.jsx("aside",{className:vt.sidebar,children:x.jsxs("nav",{className:vt.nav,children:[x.jsx(o,{icon:x.jsx(BV,{size:20}),text:"versikt",id:"oversikt"}),x.jsx(o,{icon:x.jsx(wO,{size:20}),text:"Kalender",id:"kalender"}),x.jsx(o,{icon:x.jsx(sm,{size:20}),text:"Planera studier",id:"studier"}),x.jsxs("div",{className:vt.folder,children:[x.jsxs("div",{className:vt.folderHeader,onClick:()=>s("amnen-kurser"),children:[x.jsx(YV,{size:20,className:vt.iconButton}),x.jsx("span",{className:vt.navText,children:"mnen och kurser"}),x.jsx(TO,{size:16,className:`${vt.chevron} ${n["amnen-kurser"]?vt.open:""}`})]}),n["amnen-kurser"]&&x.jsxs("div",{className:vt.folderContent,children:[x.jsxs("div",{className:`${vt.subFolder} ${vt.subFolderOngoing} ${a(["amnen-kurser","mal","slutbetyg"])?vt.active:""}`,children:[x.jsx("div",{className:vt.subFolderHeader,children:"Pgende"}),x.jsx(o,{icon:x.jsx(_O,{size:20}),text:"mnen och kurser",id:"amnen-kurser",nested:!0}),x.jsx(o,{icon:x.jsx(AV,{size:20}),text:"Betygsml",id:"mal",nested:!0}),x.jsx(o,{icon:x.jsx(Yse,{size:23}),text:"Registrera slutbetyg",id:"slutbetyg",nested:!0})]}),x.jsxs("div",{className:`${vt.subFolder} ${vt.subFolderCompleted} ${a(["betyg-meritvarde","avklarade-amnen-kurser"])?vt.active:""}`,children:[x.jsx("div",{className:vt.subFolderHeader,children:"Avklarade"}),x.jsx(o,{icon:x.jsx(HV,{size:16}),text:"mnen och kurser",id:"avklarade-amnen-kurser",nested:!0}),x.jsx(o,{icon:x.jsx(Z6,{size:16}),text:"Betyg och meritvrde",id:"betyg-meritvarde",nested:!0})]})]})]}),x.jsx(o,{icon:x.jsx(Uh,{size:20}),text:"Behriga universitetsprogram",id:"universitetsprogram"})]})})}function fie(){return x.jsx(x.Fragment,{children:x.jsx("div",{children:"FirstPage"})})}function e3(t){return Hr({queryKey:["skolverketSubjects",t],queryFn:()=>t?aH(t):Promise.reject(new Error("Ingen programkod angiven")),enabled:!!t,staleTime:1e3*60*5})}const bf="/user";async function die(t){try{return(await qe.put(`${bf}/preferences/subjects`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte lgga till mnen"):new Error("Kunde inte n servern")}}async function hie(t){try{return(await qe.put(`${bf}/preferences/gradedsubjects`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte lgga till klara mnen"):new Error("Kunde inte n servern")}}async function pie(t){try{return(await qe.put(`${bf}/preferences/subject-grades`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte stta betyg p mnen"):new Error("Kunde inte n servern")}}async function mie(t){try{return(await qe.put(`${bf}/preferences/subject-grades/existing`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte stta betyg p mnen"):new Error("Kunde inte n servern")}}async function gie(t){try{return(await qe.put(`${bf}/preferences/subject-grades/grade-goal`,t)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte stta betygsml p mnen"):new Error("Kunde inte n servern")}}function yie(){const t=Cn();return $r({mutationFn:e=>die(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}const vie="_container_tqepn_1",bie="_main_tqepn_25",xie="_summarySidebar_tqepn_43",Sie="_mainText_tqepn_75",wie="_infoText_tqepn_91",Tie="_summaryContainer_tqepn_111",Cie="_summaryBox_tqepn_125",_ie="_summaryTitle_tqepn_149",kie="_subjectList_tqepn_167",Eie="_subjectBanner_tqepn_179",Mie="_subjectCircle_tqepn_211",Oie="_infoTextSummary_tqepn_223",Aie="_saveButtonWrapper_tqepn_289",Fe={container:vie,main:bie,summarySidebar:xie,mainText:Sie,infoText:wie,summaryContainer:Tie,summaryBox:Cie,summaryTitle:_ie,subjectList:kie,subjectBanner:Eie,subjectCircle:Mie,infoTextSummary:Oie,saveButtonWrapper:Aie};function Nie({selectedSubjects:t}){return x.jsx("div",{className:Fe.summaryContainer,children:x.jsxs("div",{className:Fe.summaryBox,children:[x.jsx("span",{className:Fe.summaryTitle,children:"Valda mnen"}),t.length===0?x.jsx("p",{className:Fe.infoTextSummary,children:"Inga mnen valda nnu."}):x.jsx("div",{className:Fe.subjectList,children:t.map(e=>{const n=uf(e.courseName);return x.jsxs("div",{className:Fe.subjectBanner,children:[x.jsx("div",{className:Fe.subjectCircle,style:{backgroundColor:n}}),x.jsx("span",{children:e.courseName})]},e.courseCode)})})]})})}function Die(){const t=us(),e=Gt(N=>N.preferences),n=e.program,r=e.orientation,s=n?.code??null,{data:o,isLoading:a,error:c}=e3(s),{mutate:f}=yie(),[d,p]=E.useState(e.subjects||[]);if(E.useEffect(()=>{e.subjects?.length&&p(e.subjects)},[e.subjects]),!s)return x.jsx("p",{children:"Program ej valt."});if(a)return x.jsx("p",{children:"Laddar mnen..."});if(c)return x.jsxs("p",{children:["Ett fel uppstod: ",c.message]});if(!o)return x.jsx("p",{children:"Inga mnen tillgngliga."});const m=o.program.foundationSubjects?.subjects??[],y=o.program.orientations?.find(N=>N.code===r?.code)?.subjects??[],b=o.program.programmeSpecificSubjects?.subjects??[],S=[...m,...y,...b],w={};S.forEach(N=>{if(!w[N.code])w[N.code]={...N,courses:N.courses?[...N.courses]:[]};else{const O=w[N.code].courses??[],B=N.courses?.filter(L=>!O.some(R=>R.code===L.code))??[];w[N.code].courses=[...O,...B]}});const T=Object.values(w),_=T.map(N=>({name:N.name,code:N.code,courses:N.courses?.map(O=>({name:O.name,code:O.code,points:O.points??"0"}))??[]})),M=(N,O)=>{const B=[...d],L=B.findIndex(R=>R.courseCode===N);if(L>=0)B.splice(L,1);else{const R=T.flatMap(Z=>Z.courses??[]).find(Z=>Z.code===N);if(!R)return;const W=T.find(Z=>Z.courses?.some(oe=>oe.code===N));if(!W)return;B.push({subjectCode:W.code,courseName:R.name,courseCode:R.code,coursePoints:Number(R.points??0)})}p(B)},A=async()=>{if(d.length===0)return!1;const N=d.map(O=>({subjectCode:O.subjectCode,courseName:O.courseName,courseCode:O.courseCode,coursePoints:O.coursePoints}));try{return await new Promise((O,B)=>{f(N,{onSuccess:()=>{t(Rl({...e,subjects:d})),O()},onError:B})}),!0}catch(O){return console.error("Misslyckades med att spara kurser:",O),!1}};return x.jsxs("div",{className:Fe.container,children:[x.jsxs("div",{className:Fe.main,children:[x.jsx("div",{className:Fe.mainText,children:"Pgende kurser"}),x.jsx("div",{className:Fe.infoText,children:"Lgg in de kurser du lser just nu."}),x.jsx(zs,{title:"mnen och kurser",options:_,selected:d.map(N=>N.courseCode),onCourseSelect:M,multiple:!0})]}),x.jsx("aside",{className:Fe.summarySidebar,children:x.jsxs("div",{className:Fe.summaryContainer,children:[x.jsx(Nie,{selectedSubjects:d}),x.jsx("div",{className:Fe.saveButtonWrapper,children:x.jsx(aa,{onSave:A})})]})})]})}async function Rie(){try{return(await qe.get("/goalplanner/enums")).data}catch(t){throw{message:t.response?.data?.message||"Kunde inte hmta enums",status:t.response?.status}}}function iS(){return Hr({queryKey:["grades-enums"],queryFn:()=>Rie(),staleTime:1e3*60*5,retry:1})}function jie(){const t=Cn();return $r({mutationFn:e=>mie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}const Lie="_container_e6rsk_1",Pie="_main_e6rsk_25",Bie="_summarySidebar_e6rsk_43",zie="_mainText_e6rsk_73",Vie="_infoText_e6rsk_89",Iie="_info_e6rsk_89",Uie="_summaryContainer_e6rsk_127",Hie="_summaryBox_e6rsk_141",$ie="_summaryTitle_e6rsk_167",Fie="_saveButtonWrapper_e6rsk_185",qie="_meritCircle_e6rsk_229",Ae={container:Lie,main:Pie,summarySidebar:Bie,mainText:zie,infoText:Vie,info:Iie,summaryContainer:Uie,summaryBox:Hie,summaryTitle:$ie,saveButtonWrapper:Fie,meritCircle:qie};function Yie({meritValue:t}){return x.jsxs("div",{className:Ae.summaryContainer,children:[x.jsxs("div",{className:Ae.summaryBox,children:[x.jsx("span",{className:Ae.summaryTitle,children:"Jmfrelsetal"}),x.jsx("div",{className:Ae.meritCircle,children:t!=null?t.toFixed(2):"--"})]}),x.jsx("div",{className:Ae.summaryBox,children:x.jsxs("div",{className:Ae.info,children:["Glm inte bort att du kan ha meritpong ocks! Dem lgger du till sjlv.",x.jsx("br",{}),x.jsx("br",{}),"Jmfrelsetal + meritpong = meritvrde.",x.jsx("br",{}),x.jsx("br",{}),"Ditt sammanlagda meritvrde kan bli hgst 22,5."]})})]})}function Wie(){const t=us(),e=Gt(b=>b.preferences),{data:n,isLoading:r,error:s}=iS(),{mutate:o}=jie(),a=e.gradedSubjects??[],c={};a.forEach(b=>{b.grade&&(c[b.courseCode]=b.grade)});const[f,d]=E.useState(c);if(!a||a.length===0)return x.jsx("p",{children:"Inga mnen registrerade."});if(r)return x.jsx("p",{children:"Laddar betyg..."});if(s)return x.jsxs("p",{children:["Ett fel uppstod: ",s.message]});if(!n)return x.jsx("p",{children:"Inga betyg tillgngliga."});const p=Object.values(n.grades),m=(b,S)=>{d(w=>({...w,[b]:S}))},y=async()=>{const b=Object.entries(f).map(([S,w])=>({courseCode:S,grade:w}));try{return await new Promise((S,w)=>{o(b,{onSuccess:T=>{const _=T.subjects.map(M=>({...M,grade:M.grade??f[M.courseCode]??null}));t(Rl({...e,gradedSubjects:_,meritValue:T.meritValue})),d({...f}),S()},onError:w})}),!0}catch(S){return console.error("Kunde inte spara betyg:",S),!1}};return x.jsxs("div",{className:Ae.container,children:[x.jsxs("div",{className:Ae.main,children:[x.jsx("div",{className:Ae.mainText,children:"Uppdatera dina nuvarande betyg"}),x.jsx("div",{className:Ae.infoText,children:"Nr du har sparat dina betyg kommer du att kunna se ditt meritvrde till hger."}),a.map(b=>x.jsx(zs,{title:b.courseName,options:p.map(S=>({name:S,code:S,points:"0"})),selected:f[b.courseCode]??null,onSelect:S=>{const w=Array.isArray(S)?S[0]:S;m(b.courseCode,w)},multiple:!1,variant:"green"},b.courseCode))]}),x.jsx("aside",{className:Ae.summarySidebar,children:x.jsxs("div",{className:Ae.summaryContainer,children:[x.jsx(Yie,{meritValue:e.meritValue??null,onSave:y}),x.jsx("div",{className:Ae.saveButtonWrapper,children:x.jsx(aa,{onSave:y})})]})})]})}function Gie(){const t=Cn();return $r({mutationFn:e=>gie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}function Kie({meritValue:t}){return x.jsx("div",{className:Ae.summaryContainer,children:x.jsxs("div",{className:Ae.summaryBox,children:[x.jsx("span",{className:Ae.summaryTitle,children:"Jmfrelsetal baserat p ml"}),x.jsx("div",{className:Ae.meritCircle,children:t!=null?t.toFixed(2):"--"})]})})}function Qie(){const t=us(),e=Gt(w=>w.preferences),{data:n,isLoading:r,error:s}=iS(),{mutate:o}=Gie(),a=e.subjects??[],c={};a.forEach(w=>{w.gradeGoal&&(c[w.courseCode]=w.gradeGoal)});const[f,d]=E.useState(c),[p,m]=E.useState(e.meritValueBasedOnGoal??null);if(!a||a.length===0)return x.jsx("p",{children:"Inga mnen registrerade."});if(r)return x.jsx("p",{children:"Laddar betygsenum..."});if(s)return x.jsxs("p",{children:["Ett fel uppstod: ",s.message]});if(!n)return x.jsx("p",{children:"Inga betyg tillgngliga."});const y=Object.values(n.grades),b=(w,T)=>{d(_=>({..._,[w]:T}))},S=async()=>{const w=Object.entries(f).map(([T,_])=>({courseCode:T,gradeGoal:_}));try{return await new Promise((T,_)=>{o(w,{onSuccess:M=>{const A=M.subjects.map(O=>{const B=a.find(L=>L.courseCode===O.courseCode);return{...O,grade:O.grade??B?.grade,gradeGoal:f[O.courseCode]??void 0,courseName:O.courseName,courseCode:O.courseCode,coursePoints:O.coursePoints}});t(Rl({...e,subjects:A,meritValueBasedOnGoal:M.meritValueBasedOnGoal??null}));const N={};A.forEach(O=>{O.gradeGoal&&(N[O.courseCode]=O.gradeGoal)}),d(N),m(M.meritValueBasedOnGoal??null),T()},onError:M=>_(M)})}),!0}catch(T){return console.error("Kunde inte spara betygsml:",T),!1}};return x.jsxs("div",{className:Ae.container,children:[x.jsxs("div",{className:Ae.main,children:[x.jsx("div",{className:Ae.mainText,children:"Uppdatera dina betygsml"}),x.jsx("div",{className:Ae.infoText,children:"Stt upp dina ml och flj dina framsteg! Hr ser du dina nuvarande betyg och kan ange vilka ml du vill n. Spara dina ml fr att enkelt kunna flja din utveckling ver tid."}),a.map(w=>x.jsx(zs,{title:w.courseName,options:y.map(T=>({name:T,code:T,points:"0"})),selected:f[w.courseCode]??void 0,currentGrade:w.grade??void 0,onSelect:T=>{const _=Array.isArray(T)?T[0]:T;b(w.courseCode,_)},multiple:!1},w.courseCode))]}),x.jsx("aside",{className:Ae.summarySidebar,children:x.jsxs("div",{className:Ae.summaryContainer,children:[x.jsx(Kie,{meritValue:p,onSave:S}),x.jsx("div",{className:Ae.saveButtonWrapper,children:x.jsx(aa,{onSave:S})})]})})]})}const Xie="_card_n1pw4_1",Jie="_approvalIcon_n1pw4_39",Zie="_header_n1pw4_51",eoe="_programName_n1pw4_63",toe="_university_n1pw4_75",noe="_readMoreButton_n1pw4_85",el={card:Xie,approvalIcon:Jie,header:Zie,programName:eoe,university:toe,readMoreButton:noe};function roe({program:t}){return x.jsxs("div",{className:el.card,children:[x.jsx(uU,{className:el.approvalIcon,size:29}),x.jsxs("div",{className:el.header,children:[x.jsx("h3",{className:el.programName,children:t.programnamn}),x.jsxs("span",{className:el.university,children:[t.universitet,"  ",t.ort]})]}),t.antagningUrl&&x.jsx("a",{href:t.antagningUrl,target:"_blank",rel:"noopener noreferrer",className:el.readMoreButton,children:"Ls mer p Antagning.se"})]})}async function soe(t){try{return(await qe.get(`/uhr/eligible-programs?searchfor=${encodeURIComponent(t)}`)).data}catch(e){if(e instanceof J2){const n=e.response?.data?.message||e.message||"Kunde inte hmta program";throw new Error(n)}throw new Error("Kunde inte n servern")}}function ioe(t){return Hr({queryKey:["eligiblePrograms",t],queryFn:()=>t?soe(t):Promise.reject(new Error("Ingen skterm angiven")),enabled:!!t,staleTime:1e3*60*5})}const ooe="_programsGrid_1fj4i_1",aoe="_loading_1fj4i_15",loe="_error_1fj4i_15",coe="_empty_1fj4i_15",js={programsGrid:ooe,loading:aoe,error:loe,empty:coe};function uoe(){const[t,e]=E.useState(null),[n,r]=E.useState(""),{data:s,isLoading:o,error:a}=ioe(t),c=f=>{f.preventDefault(),e(n.trim()||null)};return x.jsxs("div",{className:js.container,children:[x.jsx("div",{className:js.introText,children:x.jsx("p",{children:'Hr kan du ska och se resultat p universitetsutbildningar du nuvarande har tillrckligt meritvrde fr. Sk p ett nyckelord, till exempel "juridik", s fr du upp juristlinjer i hela Sverige.'})}),x.jsxs("form",{onSubmit:c,className:js.searchForm,children:[x.jsx("input",{type:"text",placeholder:"Sk program, t.ex. juridik eller ekonomi",value:n,onChange:f=>r(f.target.value),className:js.searchInput}),x.jsx("button",{type:"submit",className:js.searchButton,children:"Sk"})]}),o&&x.jsx("div",{className:js.loading,children:"Laddar program..."}),a&&x.jsxs("div",{className:js.error,children:["Fel: ",a.message]}),s&&s.length===0&&x.jsx("div",{className:js.empty,children:"Inga program hittades"}),x.jsx("div",{className:js.programsGrid,children:s?.map(f=>x.jsx(roe,{program:f},f.programnamn))})]})}function foe(){const t=Cn();return $r({mutationFn:e=>pie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}function doe({meritValue:t}){return x.jsxs("div",{className:Ae.summaryContainer,children:[x.jsxs("div",{className:Ae.summaryBox,children:[x.jsx("span",{className:Ae.summaryTitle,children:"Jmfrelsetal"}),x.jsx("div",{className:Ae.meritCircle,children:t!=null?t.toFixed(2):"--"})]}),x.jsx("div",{className:Ae.summaryBox,children:x.jsx("div",{className:Ae.info,children:"De betyg med bl ring runt sig r dina betygsml."})})]})}function hoe(){const t=us(),e=Gt(w=>w.preferences),{data:n,isLoading:r,error:s}=iS(),{mutate:o}=foe(),a=e.subjects??[],c={};a.forEach(w=>{w.grade&&(c[w.courseCode]=w.grade)});const[f,d]=E.useState(c),[p,m]=E.useState(null);if(!a||a.length===0)return x.jsx("p",{children:"Inga mnen registrerade."});if(r)return x.jsx("p",{children:"Laddar betygsenum..."});if(s)return x.jsxs("p",{children:["Ett fel uppstod: ",s.message]});if(!n)return x.jsx("p",{children:"Inga betyg tillgngliga."});const y=Object.values(n.grades),b=(w,T)=>{d(M=>({...M,[w]:T}));const _=a.find(M=>M.courseCode===w);_?.gradeGoal&&_.gradeGoal===T&&(m(w),setTimeout(()=>m(null),3e3))},S=async()=>{const w=Object.entries(f).map(([T,_])=>({courseCode:T,grade:_}));try{return await new Promise((T,_)=>{o(w,{onSuccess:()=>{const M=(e.subjects??[]).map(O=>({...O,grade:f[O.courseCode]??O.grade??null})),A={};(e.gradedSubjects??[]).forEach(O=>{A[O.courseCode]={...O}}),Object.entries(f).forEach(([O,B])=>{const L=M.find(R=>R.courseCode===O);L&&(A[O]={courseCode:O,courseName:L.courseName,coursePoints:L.coursePoints??0,grade:B})});const N=Object.values(A);t(Rl({...e,subjects:M,gradedSubjects:N})),d({...f}),T()},onError:_})}),!0}catch(T){return console.error("Kunde inte spara betyg:",T),!1}};return x.jsxs("div",{className:Ae.container,children:[x.jsxs("div",{className:Ae.main,children:[x.jsx("div",{className:Ae.mainText,children:"Registrera slutbetyg"}),x.jsx("div",{className:Ae.infoText,children:"Nr du har sparat dina betyg kommer du att kunna se dem i betyg och meritvrde."}),a.map(w=>x.jsxs("div",{className:Ae.subjectWrapper,children:[p===w.courseCode&&x.jsx("div",{className:Ae.celebrateMessage,children:" Grattis! Mlet uppntt! "}),x.jsx(zs,{title:w.courseName,options:y.map(T=>({name:T,code:T,points:"0"})),selected:f[w.courseCode]??null,currentGrade:w.gradeGoal??void 0,onSelect:T=>{const _=Array.isArray(T)?T[0]:T;b(w.courseCode,_)},multiple:!1,variant:"default"})]},w.courseCode))]}),x.jsx("aside",{className:Ae.summarySidebar,children:x.jsxs("div",{className:Ae.summaryContainer,children:[x.jsx(doe,{meritValue:e.meritValue??null,onSave:S}),x.jsx("div",{className:Ae.saveButtonWrapper,children:x.jsx(aa,{onSave:S})})]})})]})}function poe(){const t=Cn();return $r({mutationFn:e=>hie(e),onSuccess:()=>{t.invalidateQueries({queryKey:["userPreferences"]})}})}function moe({selectedSubjects:t}){return t.length===0?x.jsx("div",{className:Fe.summaryContainer,children:x.jsxs("div",{className:Fe.summaryBox,children:[x.jsx("span",{className:Fe.summaryTitle,children:"Avklarade mnen"}),x.jsx("p",{className:Fe.infoTextSummary,children:"Inga mnen valda nnu."})]})}):x.jsx("div",{className:Fe.summaryContainer,children:x.jsxs("div",{className:Fe.summaryBox,children:[x.jsx("span",{className:Fe.summaryTitle,children:"Avklarade mnen"}),x.jsx("div",{className:Fe.subjectList,children:t.map(e=>{const n=uf(e.courseName);return x.jsxs("div",{className:Fe.subjectBanner,children:[x.jsx("div",{className:Fe.subjectCircle,style:{backgroundColor:n}}),x.jsx("span",{children:e.courseName})]},e.courseCode)})})]})})}function goe(){const t=us(),e=Gt(L=>L.preferences),n=e.program,r=e.orientation,s=n?.code??null,o=e?.gradedSubjects??[],{data:a,isLoading:c,error:f}=e3(s),{mutate:d}=poe(),[p,m]=E.useState(!1),[y,b]=E.useState(e.subjects||[]);if(E.useEffect(()=>{e.gradedSubjects?.length&&b(e.gradedSubjects)},[e.gradedSubjects]),!s)return x.jsx("p",{children:"Program ej valt."});if(c)return x.jsx("p",{children:"Laddar mnen..."});if(f)return x.jsxs("p",{children:["Ett fel uppstod: ",f.message]});if(!a)return x.jsx("p",{children:"Inga mnen tillgngliga."});const S=a.program.foundationSubjects?.subjects??[],w=a.program.orientations?.find(L=>L.code===r?.code)?.subjects??[],T=a.program.programmeSpecificSubjects?.subjects??[],_=[...S,...w,...T],M={};_.forEach(L=>{if(!M[L.code])M[L.code]={...L,courses:L.courses?[...L.courses]:[]};else{const R=M[L.code].courses??[],W=L.courses?.filter(Z=>!R.some(oe=>oe.code===Z.code))??[];M[L.code].courses=[...R,...W]}});const A=Object.values(M),N=A.map(L=>({name:L.name,code:L.code,courses:L.courses?.map(R=>({name:R.name,code:R.code,points:R.points??"0"}))??[]})),O=L=>{if(o.some(Z=>Z.courseCode===L))return;const R=[...y],W=R.findIndex(Z=>Z.courseCode===L);if(W>=0)R.splice(W,1);else{const Z=A.flatMap(oe=>oe.courses??[]).find(oe=>oe.code===L);if(!Z)return;R.push({courseName:Z.name,courseCode:Z.code,coursePoints:Number(Z.points??0)})}b(R)},B=async()=>{if(y.length===0)return!1;const L=y.map(R=>({courseName:R.courseName,courseCode:R.courseCode,coursePoints:R.coursePoints}));try{return await new Promise((R,W)=>{d(L,{onSuccess:()=>{m(!0),setTimeout(()=>m(!1),2e3),t(Rl({...e,gradedSubjects:y})),b([...y]),R()},onError:W})}),!0}catch(R){return console.error("Misslyckades med att spara kurser:",R),!1}};return x.jsxs("div",{className:Fe.container,children:[x.jsxs("div",{className:Fe.main,children:[x.jsx("div",{className:Fe.mainText,children:"Avklarade kurser"}),x.jsx("div",{className:Fe.infoText,children:"Lgg in de kurser du redan har betyg i och uppdatera betygen i betyg och meritvrde."}),x.jsx(zs,{title:"mnen och kurser",options:N,selected:y.map(L=>L.courseCode),onCourseSelect:O,multiple:!0,variant:"green"})]}),x.jsx("aside",{className:Fe.summarySidebar,children:x.jsxs("div",{className:Fe.summaryContainer,children:[x.jsx(moe,{selectedSubjects:y}),x.jsx("div",{className:Fe.saveButtonWrapper,children:x.jsx(aa,{onSave:B})})]})})]})}const yoe="_wrapper_14exg_1",voe="_sidebarWrapper_14exg_17",boe="_content_14exg_37",g1={wrapper:yoe,sidebarWrapper:voe,content:boe};function xoe(){const t=Ir(),e=Ur(),n=t.pathname.split("/").pop()||"oversikt",r=s=>{s!==n&&e(`/studieplaneraren/${s}`)};return x.jsxs("div",{className:g1.wrapper,children:[x.jsx("div",{className:g1.sidebarWrapper,children:x.jsx(uie,{selectedCategory:n,onSelectCategory:r})}),x.jsxs("div",{className:g1.content,children:[n==="oversikt"&&x.jsx(fie,{}),n==="kalender"&&x.jsx("h2",{children:"Kalender"}),n==="mal"&&x.jsx(Qie,{}),n==="studier"&&x.jsx("h2",{children:"Studier"}),n==="amnen-kurser"&&x.jsx(Die,{}),n==="betyg-meritvarde"&&x.jsx(Wie,{}),n==="universitetsprogram"&&x.jsx(uoe,{}),n==="slutbetyg"&&x.jsx(hoe,{}),n==="avklarade-amnen-kurser"&&x.jsx(goe,{})]})]})}const Soe=()=>{const t=us(),e=Ur();return E.useEffect(()=>{(async()=>{const r=await t(Vh());if(Vh.fulfilled.match(r)){const s=r.payload;t(eO({id:s.id,user:s.user,hasCompletedOnboarding:s.hasCompletedOnboarding})),setTimeout(()=>e("/hem"),400)}else e("/")})()},[t,e]),x.jsx("p",{children:"Verifierar Google-inloggning..."})},woe="_sidebar_1irrp_1",Toe="_nav_1irrp_23",Coe="_iconButton_1irrp_35",_oe="_iconTextButton_1irrp_63",koe="_selected_1irrp_99",Eoe="_navText_1irrp_115",Moe="_folder_1irrp_143",Ooe="_folderHeader_1irrp_157",Aoe="_chevron_1irrp_191",Noe="_open_1irrp_201",Doe="_folderContent_1irrp_211",Roe="_subFolder_1irrp_225",joe="_subFolderHeader_1irrp_237",Loe="_active_1irrp_261",Poe="_nested_1irrp_269",Boe="_add_1irrp_363",zoe="_addText_1irrp_373",Voe="_subjectBanner_1irrp_381",Ioe="_subjectCircle_1irrp_399",Uoe="_disabledButton_1irrp_443",bt={sidebar:woe,nav:Toe,iconButton:Coe,iconTextButton:_oe,selected:koe,navText:Eoe,folder:Moe,folderHeader:Ooe,chevron:Aoe,open:Noe,folderContent:Doe,subFolder:Roe,subFolderHeader:joe,active:Loe,nested:Poe,add:Boe,addText:zoe,subjectBanner:Voe,subjectCircle:Ioe,disabledButton:Uoe};function Hoe({onSelectCategory:t,onAdd:e}){const r=Gt(m=>m.preferences).subjects??[],[s,o]=E.useState("all"),[a,c]=E.useState({folder1:!0}),f=m=>{c(y=>({...y,[m]:!y[m]}))},d=({icon:m,text:y,id:b,nested:S=!1,iconClass:w,disableSelect:T=!1,textColorClass:_,onClick:M})=>x.jsxs("button",{className:`${bt.iconTextButton} ${S?bt.nested:""} ${!T&&s===b?bt.selected:""} ${T?bt.disabledButton:""}`,onClick:()=>{T||o(b),M?.(),T||t?.(b)},children:[m&&x.jsx("span",{className:`${bt.iconButton} ${w??""}`,children:m}),x.jsx("span",{className:`${bt.navText} ${_??""}`,children:y})]}),p=m=>m.includes(s);return x.jsx("aside",{className:bt.sidebar,children:x.jsxs("nav",{className:bt.nav,children:[x.jsx(d,{icon:x.jsx(kO,{size:20}),text:"Skapa quiz",iconClass:bt.add,id:"add",disableSelect:!0,textColorClass:bt.addText,onClick:e}),x.jsx(d,{icon:x.jsx(CO,{size:20}),text:"Alla",iconClass:bt.todayIcon,id:"all"}),x.jsxs("div",{className:bt.folder,children:[x.jsxs("div",{className:bt.folderHeader,onClick:()=>f("folder1"),children:[x.jsx("span",{className:bt.navText,children:"mnen"}),x.jsx(TO,{className:`${bt.chevron} ${a.folder1?bt.open:""}`})]}),a.folder1&&x.jsx("div",{className:bt.folderContent,children:r.map((m,y)=>{const b=[`sub-${y}-quiz`,`sub-${y}-flashcards`],S=uf(m.courseCode);return x.jsxs("div",{className:`${bt.subFolder} ${p(b)?bt.active:""}`,children:[x.jsx("div",{className:bt.subFolderHeader,children:x.jsxs("div",{className:bt.subjectBanner,children:[x.jsx("span",{className:bt.subjectCircle,style:{backgroundColor:S}}),m.courseName]})}),x.jsx(d,{text:"Quiz",id:b[0],nested:!0}),x.jsx(d,{text:"Flashcards",id:b[1],nested:!0,disableSelect:!0})]},m.courseCode)})})]})]})})}const $oe="_wrapper_14exg_1",Foe="_sidebarWrapper_14exg_17",qoe="_content_14exg_37",y1={wrapper:$oe,sidebarWrapper:Foe,content:qoe},t3="/quiz/note";async function Yoe(){try{return(await qe.get(`${t3}`)).data}catch(t){throw t.response?new Error(t.response.data?.message||"Kunde inte hmta anteckningsquiz"):new Error("Kunde inte n servern")}}async function Woe(t){try{return(await qe.get(`${t3}/${t}`)).data}catch(e){throw e.response?new Error(e.response.data?.message||"Kunde inte hmta anteckningsquiz"):new Error("Kunde inte n servern")}}function Goe(){return Hr({queryKey:["noteQuizzes"],queryFn:Yoe})}const Koe="_card_1g0qs_1",Qoe="_cardBody_1g0qs_33",Xoe="_quizTitle_1g0qs_45",Joe="_courseName_1g0qs_57",Zoe="_questionCount_1g0qs_67",eae="_startButton_1g0qs_79",tl={card:Koe,cardBody:Qoe,quizTitle:Xoe,courseName:Joe,questionCount:Zoe,startButton:eae};function tae({quiz:t}){const e=Ur(),n=()=>{e(`/quiz/${t.id}`)};return x.jsxs("div",{className:tl.card,children:[x.jsxs("div",{className:tl.cardBody,children:[x.jsx("h2",{className:tl.quizTitle,children:t.quizName}),x.jsx("p",{className:tl.courseName,children:t.courseName}),x.jsxs("p",{className:tl.questionCount,children:[t.questions.length," frgor"]})]}),x.jsxs("button",{onClick:n,className:tl.startButton,children:[x.jsx(oI,{size:18}),x.jsx("span",{children:"Starta quiz"})]})]})}const nae="_quizGrid_nv37c_1",rae="_statusText_nv37c_15",sae="_statusError_nv37c_29",uh={quizGrid:nae,statusText:rae,statusError:sae};function iae(){const{data:t,isLoading:e,isError:n}=Goe();return e?x.jsx("div",{className:uh.statusText,children:"Laddar quiz..."}):n?x.jsx("div",{className:uh.statusError,children:"Kunde inte hmta quiz."}):!t||t.length===0?x.jsx("div",{className:uh.statusText,children:"Inga quiz hittades."}):x.jsx("div",{className:uh.quizGrid,children:t.map(r=>x.jsx(tae,{quiz:r},r.id))})}function oae(){const[t,e]=E.useState("item1");return x.jsxs("div",{className:y1.wrapper,children:[x.jsx("div",{className:y1.sidebarWrapper,children:x.jsx(Hoe,{onSelectCategory:e})}),x.jsxs("div",{className:y1.content,children:[t==="all"&&x.jsx(iae,{}),t==="item2"&&x.jsx("h2",{children:"Content 2"}),t==="item3"&&x.jsx("h2",{children:"Content 3"}),t==="sub1"&&x.jsx("h2",{children:"Subcontent 1"}),t==="sub2"&&x.jsx("h2",{children:"Subcontent 2"}),t==="sub3"&&x.jsx("h2",{children:"Subcontent 3"}),t==="sub4"&&x.jsx("h2",{children:"Subcontent 4"}),t==="item4"&&x.jsx("h2",{children:"Content 4"})]})]})}function aae(t){return Hr({queryKey:["noteQuiz",t],queryFn:()=>Woe(t),enabled:!!t})}const lae="_container_w2yol_1",cae="_card_w2yol_13",uae="_quizTitle_w2yol_27",fae="_questionCount_w2yol_41",dae="_questionText_w2yol_53",hae="_optionsContainer_w2yol_65",pae="_optionButton_w2yol_77",mae="_optionSelected_w2yol_109",gae="_footer_w2yol_121",yae="_progress_w2yol_135",vae="_nextButton_w2yol_143",bae="_retryButton_w2yol_165",xae="_resultText_w2yol_177",Sae="_loading_w2yol_191",wae="_error_w2yol_203",xt={container:lae,card:cae,quizTitle:uae,questionCount:fae,questionText:dae,optionsContainer:hae,optionButton:pae,optionSelected:mae,footer:gae,progress:yae,nextButton:vae,retryButton:bae,resultText:xae,loading:Sae,error:wae},Tae="_progressBarContainer_k1xvm_1",Cae="_progressFill_k1xvm_17",s2={progressBarContainer:Tae,progressFill:Cae};function i2({value:t,className:e}){return x.jsx("div",{className:`${s2.progressBarContainer} ${e||""}`,children:x.jsx("div",{className:s2.progressFill,style:{width:`${t}%`}})})}const _ae="_button_vujbm_1",kae="_primary_vujbm_21",Eae="_secondary_vujbm_41",v1={button:_ae,primary:kae,secondary:Eae};function fh({variant:t="primary",className:e="",...n}){return x.jsx("button",{className:`${v1.button} ${t==="secondary"?v1.secondary:v1.primary} ${e}`,...n})}const Mae="_card_1ed44_1",Oae="_cardHeader_1ed44_27",Aae="_cardTitle_1ed44_35",Nae="_cardContent_1ed44_49",Lm={card:Mae,cardHeader:Oae,cardTitle:Aae,cardContent:Nae};function o2({children:t,className:e=""}){return x.jsx("div",{className:`${Lm.card} ${e}`,children:t})}function Dae({children:t}){return x.jsx("div",{className:Lm.cardHeader,children:t})}function a2({children:t,className:e=""}){return x.jsx("h2",{className:`${Lm.cardTitle} ${e}`,children:t})}function Rae({children:t}){return x.jsx("div",{className:Lm.cardContent,children:t})}function jae({quizId:t}){const e=Ur(),{data:n,isLoading:r,error:s}=aae(t),[o,a]=E.useState(0),[c,f]=E.useState({}),[d,p]=E.useState(!1),[m,y]=E.useState(0);if(r)return x.jsx("p",{className:xt.loading,children:"Laddar quiz..."});if(s)return x.jsxs("p",{className:xt.error,children:["Fel: ",s.message]});if(!n)return null;const b=n.questions[o],S=_=>{f(M=>({...M,[o]:_}))},w=()=>{if(o<n.questions.length-1)a(_=>_+1);else{const _=n.questions.reduce((M,A,N)=>{const O=c[N];return O==null?M:A.options[O]?.correct?M+1:M},0);y(_),p(!0)}},T=()=>{e("/quiz")};return d?x.jsx(_u.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:xt.container,children:x.jsxs(o2,{className:xt.card,children:[x.jsx(a2,{className:xt.quizTitle,children:n.quizName}),x.jsxs("p",{className:xt.resultText,children:["Du fick ",x.jsx("strong",{children:m})," av ",n.questions.length," rtt "]}),x.jsx(i2,{value:m/n.questions.length*100,className:xt.progress}),x.jsxs("div",{className:xt.buttonGroup,children:[x.jsx(fh,{onClick:()=>e("/quiz"),children:"Tillbaka till quiz"}),x.jsx(fh,{onClick:()=>window.location.reload(),className:xt.retryButton,children:"Gr om quizet"})]})]})}):x.jsx(_u.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.3},className:xt.container,children:x.jsxs(o2,{className:xt.card,children:[x.jsxs(Dae,{children:[x.jsx(a2,{className:xt.quizTitle,children:n.quizName}),x.jsxs("p",{className:xt.questionCount,children:["Frga ",o+1," av ",n.questions.length]})]}),x.jsxs(Rae,{children:[x.jsx("p",{className:xt.questionText,children:b.question}),x.jsx("div",{className:xt.optionsContainer,children:b.options.map((_,M)=>{const A=c[o]===M;return x.jsx(_u.button,{whileHover:{scale:1.02},onClick:()=>S(M),className:`${xt.optionButton} ${A?xt.optionSelected:""}`,children:_.optionText},M)})}),x.jsxs("div",{className:xt.footer,children:[x.jsx(i2,{value:(o+1)/n.questions.length*100,className:xt.progress}),x.jsxs("div",{className:xt.buttonGroup,children:[x.jsx(fh,{onClick:w,disabled:c[o]==null,className:xt.nextButton,children:o<n.questions.length-1?"Nsta":"Visa resultat"}),x.jsx(fh,{onClick:T,className:xt.cancelButton,children:"Avbryt"})]})]})]})]})},o)}const Lae=()=>x.jsx("div",{children:"Home Page"});function n3(){return x.jsxs(s6,{children:[x.jsx(cn,{path:"/",element:x.jsx(Ud,{children:x.jsx(CU,{})})}),x.jsx(cn,{path:"/logga-in",element:x.jsx(Ud,{children:x.jsx(NO,{})})}),x.jsx(cn,{path:"/registrera-dig",element:x.jsx(Ud,{children:x.jsx(bU,{})})}),x.jsx(cn,{path:"/oauth2/success",element:x.jsx(Ud,{children:x.jsx(Soe,{})})}),x.jsx(cn,{path:"/hem",element:x.jsx(Er,{children:x.jsx(Lae,{})})}),x.jsx(cn,{path:"/kom-igang",element:x.jsx(Er,{children:x.jsx(qO,{redirectPath:"/hem"})})}),x.jsx(cn,{path:"/studieplaneraren/*",element:x.jsx(Er,{children:x.jsx(xoe,{})})}),x.jsx(cn,{path:"/quiz",element:x.jsx(Er,{children:x.jsx(oae,{})})}),x.jsx(cn,{path:"/quiz/:quizId",element:x.jsx(Er,{children:x.jsx(Pae,{})})}),x.jsx(cn,{path:"/deadlines",element:x.jsx(Er,{children:x.jsx(C9,{})})}),x.jsx(cn,{path:"/min-utbildning",element:x.jsx(Er,{children:x.jsx(_9,{})})}),x.jsx(cn,{path:"/anteckningar",element:x.jsx(Er,{children:x.jsx(dse,{})})}),x.jsx(cn,{path:"/abonnemang",element:x.jsx(Er,{children:x.jsx(yse,{})})}),x.jsx(cn,{path:"/malplaneraren",element:x.jsx(Er,{children:x.jsx(Ese,{})})}),x.jsx(cn,{path:"/installningar",element:x.jsx(Er,{children:x.jsx(qse,{})})})]})}function Pae(){const{quizId:t}=$5();return t?x.jsx(jae,{quizId:t}):x.jsx("p",{children:"Quiz saknas"})}const Bae="_mainContainer_1ekpd_1",zae={mainContainer:Bae};function Vae(){return x.jsx("div",{className:zae.mainContainer,children:x.jsx(n3,{})})}const Iae=Tt.create({baseURL:"https://seashell-app-8zxmg.ondigitalocean.app/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});let b1=!1,qv=[];const Uae=t=>{qv.push(t)},l2=t=>{qv.forEach(e=>e(t)),qv=[]},Hae=t=>t?t.includes("/auth/login")||t.includes("/auth/refresh"):!1;qe.interceptors.response.use(t=>t,async t=>{const e=t.config,n=t.response?.status;if(!e)return Promise.reject(t);if(n===401&&!e._retry&&!Hae(e.url)){if(e._retry=!0,!b1){b1=!0;try{await Iae.post("/auth/refresh",null,{withCredentials:!0}),l2(!0)}catch(s){return l2(!1),rb.dispatch(tO()),Promise.reject(s)}finally{b1=!1}}return new Promise((s,o)=>{Uae(a=>{a?s(qe(e)):o(t)})})}const r={message:t.response?.data?.message||t.message,status:n};return Promise.reject(r)});const $ae="_sidebar_caghu_1",Fae="_open_caghu_35",qae="_overlay_caghu_45",Yae="_toggleButton_caghu_65",Wae="_nav_caghu_97",Gae="_navButton_caghu_113",Kae="_activeNavButton_caghu_157",Qae="_disabledNavButton_caghu_167",Xae="_iconWrapper_caghu_177",Jae="_navText_caghu_191",Zr={sidebar:$ae,open:Fae,overlay:qae,toggleButton:Yae,nav:Wae,navButton:Gae,activeNavButton:Kae,disabledNavButton:Qae,iconWrapper:Xae,navText:Jae};function Zae(){const[t,e]=E.useState(!1),n=Gt(a=>a.auth.hasCompletedOnboarding),r=Ur(),s=Ir(),o=[{name:"Hem",path:"/hem",icon:x.jsx(RV,{size:18})},{name:"Min utbildning",path:"/min-utbildning",icon:x.jsx(Uh,{size:18})},{name:"Studieplaneraren",path:"/studieplaneraren",icon:x.jsx(sm,{size:18})},{name:"Anteckningar",path:"/anteckningar",icon:x.jsx(CV,{size:18})},{name:"Studera",path:"/quiz",icon:x.jsx(AI,{size:18})},{name:"Minikurser",path:"/minikurser",icon:x.jsx(Uh,{size:18}),disabledItem:!0},{name:"Mina framsteg",path:"/mina-framsteg",icon:x.jsx(dV,{size:18}),disabledItem:!0},{name:"Abonnemang",path:"/abonnemang",icon:x.jsx(MV,{size:18}),disabledItem:!0}];return x.jsxs(x.Fragment,{children:[t&&x.jsx("div",{className:Zr.overlay,onClick:()=>e(!1)}),x.jsxs("aside",{className:`${Zr.sidebar} ${t?Zr.open:""}`,children:[x.jsx("button",{className:Zr.toggleButton,onClick:()=>e(!t),disabled:!n,children:t?x.jsx(Bl,{size:22}):x.jsx(eI,{size:22})}),x.jsx("nav",{className:Zr.nav,children:o.map(a=>{const c=s.pathname===a.path,f=!n||a.disabledItem,d=f?void 0:()=>{r(a.path),e(!1)};return x.jsxs("button",{onClick:d,className:`${Zr.navButton} ${c?Zr.activeNavButton:""} ${f?Zr.disabledNavButton:""}`,disabled:f,children:[x.jsx("span",{className:Zr.iconWrapper,children:a.icon}),t&&x.jsx("span",{className:Zr.navText,children:a.name})]},a.path)})})]})]})}function ele(){const t=Zj(),e=Gt(n=>n.auth.isAuthenticated);return E.useEffect(()=>{e&&(t(au()),t(gh()))},[e,t]),x.jsxs(E6,{children:[e&&x.jsx(qI,{}),e&&x.jsx(Zae,{}),e?x.jsx(Vae,{}):x.jsxs(x.Fragment,{children:[x.jsx(n3,{}),x.jsx("div",{style:{paddingTop:"70px"},children:x.jsx(l5,{})})]})]})}const tle=new WU;jP.createRoot(document.getElementById("root")).render(x.jsx(E.StrictMode,{children:x.jsx(XP,{store:rb,children:x.jsxs(GU,{client:tle,children:[x.jsx(ele,{}),!1]})})}))});export default nle();
